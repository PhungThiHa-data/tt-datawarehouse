{
  "externalControllerServices" : { },
  "flow" : {
    "createdTimestamp" : 1767794563482,
    "description" : "",
    "identifier" : "FACTDAILYSPEND",
    "lastModifiedTimestamp" : 1767794563482,
    "name" : "FACT_DAILYSPEND",
    "versionCount" : 0
  },
  "flowContents" : {
    "comments" : "",
    "componentType" : "PROCESS_GROUP",
    "connections" : [ {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "cfeb62e5-7cbb-3ccb-b58b-89a34b6a2a61",
        "name" : "KiemTraDanhSachBcTrong",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "ebf80198-f2e0-33d0-a61b-6a2782d0569b",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "original" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "fa5cddd7-236a-3d2d-bd13-c16acd1478b4",
        "name" : "DuyetTungBC",
        "type" : "PROCESSOR"
      },
      "zIndex" : 11
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "1f66740b-ebb0-31c1-8d15-2e48cfce55cb",
        "name" : "KiemTraETLDangXuLy",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "6b9f0777-24bf-38f9-a6c0-ff57bc4859d9",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
        "id" : "3cd6e6de-3d5c-3e01-ac37-19c4a3f00122",
        "name" : "ouput",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 2
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "id" : "faeb6d0e-b3c6-3cef-8aff-75c540b24eed",
        "name" : "input",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "8ebb819f-b381-39da-97b3-b677b1c3e3d0",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "id" : "805d5d2b-bd7c-35a9-83d9-825e44a9c332",
        "name" : "stateOut",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 29
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "7f9a0de6-b28f-352d-8c86-1d5f26db8930",
        "name" : "CapNhatETLLaDangXuLy",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "7743c559-ddf7-314e-b835-3ade5b26c3df",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "unmatched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "1f66740b-ebb0-31c1-8d15-2e48cfce55cb",
        "name" : "KiemTraETLDangXuLy",
        "type" : "PROCESSOR"
      },
      "zIndex" : 3
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
        "id" : "12b32231-3f4d-35fd-9543-be4b2c4c88d0",
        "name" : "BcId",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "3880b0df-716c-3cbf-9a8a-619452704c29",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "matched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "9f2651e5-cdfc-362c-8aec-991d2db00e8b",
        "name" : "ChuyenContentBcLenAttribute",
        "type" : "PROCESSOR"
      },
      "zIndex" : 13
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "0e1abc65-b029-35e4-aaa4-6f980faaf850",
        "name" : "CapNhatTrangThaiBcHienTaiLaHoanThanh",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "89a51afc-9763-394f-ae41-87f134aaf495",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "id" : "d3a3d1e5-ef93-39b8-af8f-a74b1d1f2c52",
        "name" : "Output",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 22
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "b92c53e1-3c86-3973-b262-d2d922764ebc",
        "name" : "LogMessage",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "e5fc698f-2cb5-310d-9d83-402df45d9846",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "isProcessing" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "1f66740b-ebb0-31c1-8d15-2e48cfce55cb",
        "name" : "KiemTraETLDangXuLy",
        "type" : "PROCESSOR"
      },
      "zIndex" : 4
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "36c8d0f5-127a-3e4f-8748-feaf09642640",
        "name" : "KiemTraLaBcCuoiCung",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "f7c7bc6a-aaa1-3b6c-bba5-564ce58b2ab2",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "id" : "aaf22c51-a71b-31e6-b599-75f0d07a768e",
        "name" : "stateBcOut",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 24
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "5cda56b1-d8b9-3e62-b3a0-413919cceced",
        "name" : "KiemTraBcDaETLChua",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "5c038906-3469-3de3-b3f9-60c75d5a5fad",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
        "id" : "60827011-e3b4-362a-bc33-51965ef5fe5b",
        "name" : "stateBcOut",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 14
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "9ad30d17-ab5c-3b94-bfab-4f7614de0a68",
        "name" : "LogMessage",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "90d33183-3c4b-318d-b908-01168fd266e9",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "unmatched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "36c8d0f5-127a-3e4f-8748-feaf09642640",
        "name" : "KiemTraLaBcCuoiCung",
        "type" : "PROCESSOR"
      },
      "zIndex" : 27
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "id" : "4df1e722-db53-3a0c-b2dc-b726cb48e9cc",
        "name" : "TrangThai",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "74596dae-99f3-39fb-a559-925581cd9174",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "0e1abc65-b029-35e4-aaa4-6f980faaf850",
        "name" : "CapNhatTrangThaiBcHienTaiLaHoanThanh",
        "type" : "PROCESSOR"
      },
      "zIndex" : 23
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "id" : "993a23e0-0d71-3c4c-87b6-470d86e0f10b",
        "name" : "Input",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "cba99b75-42d3-3a7b-bfe1-19d457e9d98e",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
        "id" : "2a880b55-fa94-3d08-98dd-9a3ee65fc2a3",
        "name" : "Output",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 21
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "7cb6e7b1-e946-3b2c-8767-1b86fc1400f0",
        "name" : "Data to JSON",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "171aa7d1-d4f9-39c2-9665-9e102a5d78a5",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "6fbb96df-75d1-3ce5-bd78-89ab9a6037cb",
        "name" : "LayDanhSachBC",
        "type" : "PROCESSOR"
      },
      "zIndex" : 7
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "256e9b97-d5e1-3783-bd2f-0dd8e1493fd4",
        "name" : "LogMessage",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "2b3f1f54-396c-3e97-8180-3922ff977248",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "HoanThanhETLRoi" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "5cda56b1-d8b9-3e62-b3a0-413919cceced",
        "name" : "KiemTraBcDaETLChua",
        "type" : "PROCESSOR"
      },
      "zIndex" : 17
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
        "id" : "8fde55b7-1aa2-3291-bb8e-02008620f9a1",
        "name" : "input",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "c9e6a757-a57d-3355-a921-294193ba13f9",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "675d35f3-5ef1-38ed-ac55-8aa925bbc98a",
        "name" : "KhoiTao",
        "type" : "PROCESSOR"
      },
      "zIndex" : 1
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "id" : "91ede06c-85a1-3d9a-aa3a-728a627946b4",
        "name" : "TrangThai",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "c5a6ca89-62fc-3939-ace3-8d98e8e55743",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "2d0b7e72-d7b6-36f7-a5e2-ba6f0812df68",
        "name" : "CapNhatBcHienTaiLaDangXuLy",
        "type" : "PROCESSOR"
      },
      "zIndex" : 19
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "6fbb96df-75d1-3ce5-bd78-89ab9a6037cb",
        "name" : "LayDanhSachBC",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "d66931e7-04c0-3eae-afaf-4a725a18be9f",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "id" : "bae68986-02d4-395e-8437-e4415d8a4401",
        "name" : "stateOut",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 6
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "56af5eb1-0313-3357-81cb-807b88cbd710",
        "id" : "350ffed3-e395-3a78-b745-dcdc9925c0c6",
        "name" : "TrangThai",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "442b3004-ef31-3f72-b130-c2ed885e8905",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "65d21fb5-568c-3752-8a24-e158c69519a4",
        "name" : "CapNhatETLLaHoanThanh",
        "type" : "PROCESSOR"
      },
      "zIndex" : 16
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "9f2651e5-cdfc-362c-8aec-991d2db00e8b",
        "name" : "ChuyenContentBcLenAttribute",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "a889b4e4-f830-36da-8878-e8471f438c67",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "split" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "fa5cddd7-236a-3d2d-bd13-c16acd1478b4",
        "name" : "DuyetTungBC",
        "type" : "PROCESSOR"
      },
      "zIndex" : 10
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "id" : "8727abc1-2aac-3da1-ad15-00bc379061e3",
        "name" : "TrangThai",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "7510ebd6-d1c3-3cce-ac7d-b77f26669f42",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "7f9a0de6-b28f-352d-8c86-1d5f26db8930",
        "name" : "CapNhatETLLaDangXuLy",
        "type" : "PROCESSOR"
      },
      "zIndex" : 5
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "4090ae99-86b5-37e6-8d68-32d01856d839",
        "name" : "CapNhatTrangThaiETLLaHoanThanh",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "2bf3955d-73c8-3cf2-b5e7-495ab51fb84e",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "bcCuoiCung" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "36c8d0f5-127a-3e4f-8748-feaf09642640",
        "name" : "KiemTraLaBcCuoiCung",
        "type" : "PROCESSOR"
      },
      "zIndex" : 26
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "id" : "8d9b3bcb-b541-3701-8de3-eb450d49a9e4",
        "name" : "TrangThai",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "d5fec77e-8cc4-31b9-897f-37635f25489c",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "failure" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "fa5cddd7-236a-3d2d-bd13-c16acd1478b4",
        "name" : "DuyetTungBC",
        "type" : "PROCESSOR"
      },
      "zIndex" : 12
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "2d0b7e72-d7b6-36f7-a5e2-ba6f0812df68",
        "name" : "CapNhatBcHienTaiLaDangXuLy",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "d5cec5dd-09e7-3d76-ac95-3c36e0066a19",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "unmatched" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "5cda56b1-d8b9-3e62-b3a0-413919cceced",
        "name" : "KiemTraBcDaETLChua",
        "type" : "PROCESSOR"
      },
      "zIndex" : 18
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "id" : "c9d1f549-444d-3779-8126-8aab289985ea",
        "name" : "TrangThai",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "287131ca-e3d9-3cb1-89b1-b02c9ba3ac7d",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "failure" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "6fbb96df-75d1-3ce5-bd78-89ab9a6037cb",
        "name" : "LayDanhSachBC",
        "type" : "PROCESSOR"
      },
      "zIndex" : 8
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "fa5cddd7-236a-3d2d-bd13-c16acd1478b4",
        "name" : "DuyetTungBC",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "6bdb30ce-42f4-3ddb-85f9-3ecfe93847e3",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "7cb6e7b1-e946-3b2c-8767-1b86fc1400f0",
        "name" : "Data to JSON",
        "type" : "PROCESSOR"
      },
      "zIndex" : 9
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "id" : "c4dccf04-3546-30c2-b371-d953c6e58900",
        "name" : "TrangThai",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "251f4529-2664-38dc-a423-f8b0bd5419b9",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "success" ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "4090ae99-86b5-37e6-8d68-32d01856d839",
        "name" : "CapNhatTrangThaiETLLaHoanThanh",
        "type" : "PROCESSOR"
      },
      "zIndex" : 28
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
        "id" : "8491e28e-fba8-35ba-b964-9646fc3f633c",
        "name" : "input",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "8b5ec45c-7a24-3471-8d2e-81150ec783c5",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "id" : "065ae767-3670-3334-b351-74c632c44b2f",
        "name" : "stateBcOut",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 20
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "65d21fb5-568c-3752-8a24-e158c69519a4",
        "name" : "CapNhatETLLaHoanThanh",
        "type" : "PROCESSOR"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "3152444d-df9a-3488-8c3e-0576379e1d19",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "isEmptyJsonArray " ],
      "source" : {
        "comments" : "",
        "groupId" : "flow-contents-group",
        "id" : "cfeb62e5-7cbb-3ccb-b58b-89a34b6a2a61",
        "name" : "KiemTraDanhSachBcTrong",
        "type" : "PROCESSOR"
      },
      "zIndex" : 15
    } ],
    "controllerServices" : [ {
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-record-serialization-services-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "CONTROLLER_SERVICE",
      "controllerServiceApis" : [ {
        "bundle" : {
          "artifact" : "nifi-standard-services-api-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "type" : "org.apache.nifi.serialization.RecordReaderFactory"
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "06666895-4e2e-342e-9a9f-d52705d27d27",
      "name" : "AvroReader",
      "properties" : {
        "schema-name" : "${schema.name}",
        "cache-size" : "1000",
        "schema-access-strategy" : "embedded-avro-schema",
        "schema-text" : "${avro.schema}"
      },
      "propertyDescriptors" : {
        "schema-reference-reader" : {
          "displayName" : "Schema Reference Reader",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-reference-reader",
          "sensitive" : false
        },
        "schema-branch" : {
          "displayName" : "Schema Branch",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-branch",
          "sensitive" : false
        },
        "schema-name" : {
          "displayName" : "Schema Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-name",
          "sensitive" : false
        },
        "cache-size" : {
          "displayName" : "Cache Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "cache-size",
          "sensitive" : false
        },
        "schema-registry" : {
          "displayName" : "Schema Registry",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-registry",
          "sensitive" : false
        },
        "schema-access-strategy" : {
          "displayName" : "Schema Access Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-access-strategy",
          "sensitive" : false
        },
        "schema-version" : {
          "displayName" : "Schema Version",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-version",
          "sensitive" : false
        },
        "schema-text" : {
          "displayName" : "Schema Text",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-text",
          "sensitive" : false
        }
      },
      "scheduledState" : "DISABLED",
      "type" : "org.apache.nifi.avro.AvroReader"
    }, {
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-record-serialization-services-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "CONTROLLER_SERVICE",
      "controllerServiceApis" : [ {
        "bundle" : {
          "artifact" : "nifi-standard-services-api-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "type" : "org.apache.nifi.serialization.RecordSetWriterFactory"
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "737ac079-fdcd-3451-abaa-ac44628d03db",
      "name" : "JsonRecordSetWriter",
      "properties" : {
        "Allow Scientific Notation" : "false",
        "compression-level" : "1",
        "Pretty Print JSON" : "false",
        "compression-format" : "none",
        "Schema Write Strategy" : "no-schema",
        "suppress-nulls" : "never-suppress",
        "output-grouping" : "output-array",
        "schema-name" : "${schema.name}",
        "schema-access-strategy" : "inherit-record-schema",
        "schema-text" : "${avro.schema}"
      },
      "propertyDescriptors" : {
        "schema-reference-reader" : {
          "displayName" : "Schema Reference Reader",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-reference-reader",
          "sensitive" : false
        },
        "schema-branch" : {
          "displayName" : "Schema Branch",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-branch",
          "sensitive" : false
        },
        "Allow Scientific Notation" : {
          "displayName" : "Allow Scientific Notation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Allow Scientific Notation",
          "sensitive" : false
        },
        "compression-level" : {
          "displayName" : "Compression Level",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "compression-level",
          "sensitive" : false
        },
        "schema-cache" : {
          "displayName" : "Schema Cache",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-cache",
          "sensitive" : false
        },
        "Timestamp Format" : {
          "displayName" : "Timestamp Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Timestamp Format",
          "sensitive" : false
        },
        "Date Format" : {
          "displayName" : "Date Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Date Format",
          "sensitive" : false
        },
        "Pretty Print JSON" : {
          "displayName" : "Pretty Print JSON",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Pretty Print JSON",
          "sensitive" : false
        },
        "compression-format" : {
          "displayName" : "Compression Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "compression-format",
          "sensitive" : false
        },
        "Schema Write Strategy" : {
          "displayName" : "Schema Write Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Schema Write Strategy",
          "sensitive" : false
        },
        "suppress-nulls" : {
          "displayName" : "Suppress Null Values",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "suppress-nulls",
          "sensitive" : false
        },
        "output-grouping" : {
          "displayName" : "Output Grouping",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "output-grouping",
          "sensitive" : false
        },
        "schema-name" : {
          "displayName" : "Schema Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-name",
          "sensitive" : false
        },
        "schema-registry" : {
          "displayName" : "Schema Registry",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "schema-registry",
          "sensitive" : false
        },
        "Time Format" : {
          "displayName" : "Time Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Time Format",
          "sensitive" : false
        },
        "schema-access-strategy" : {
          "displayName" : "Schema Access Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-access-strategy",
          "sensitive" : false
        },
        "schema-version" : {
          "displayName" : "Schema Version",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-version",
          "sensitive" : false
        },
        "schema-text" : {
          "displayName" : "Schema Text",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "schema-text",
          "sensitive" : false
        },
        "Schema Reference Writer" : {
          "displayName" : "Schema Reference Writer",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "Schema Reference Writer",
          "sensitive" : false
        }
      },
      "scheduledState" : "DISABLED",
      "type" : "org.apache.nifi.json.JsonRecordSetWriter"
    }, {
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-dbcp-service-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "CONTROLLER_SERVICE",
      "controllerServiceApis" : [ {
        "bundle" : {
          "artifact" : "nifi-standard-services-api-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "type" : "org.apache.nifi.dbcp.DBCPService"
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "f5dbff0f-66b8-386d-ad0d-9161887a3743",
      "name" : "DBCPConnectionPool",
      "properties" : {
        "dbcp-min-idle-conns" : "0",
        "Max Wait Time" : "500 millis",
        "Database Driver Class Name" : "#{DbDriverClassName}",
        "dbcp-min-evictable-idle-time" : "30 mins",
        "Max Total Connections" : "8",
        "dbcp-max-conn-lifetime" : "-1",
        "Database Connection URL" : "#{DbConnectString}",
        "dbcp-time-between-eviction-runs" : "-1",
        "Database User" : "#{DbAccount}",
        "dbcp-soft-min-evictable-idle-time" : "-1",
        "database-driver-locations" : "#{DbDriverLocation}",
        "dbcp-max-idle-conns" : "8"
      },
      "propertyDescriptors" : {
        "dbcp-min-idle-conns" : {
          "displayName" : "Minimum Idle Connections",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-min-idle-conns",
          "sensitive" : false
        },
        "Max Wait Time" : {
          "displayName" : "Max Wait Time",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max Wait Time",
          "sensitive" : false
        },
        "Database Driver Class Name" : {
          "displayName" : "Database Driver Class Name",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Database Driver Class Name",
          "sensitive" : false
        },
        "dbcp-min-evictable-idle-time" : {
          "displayName" : "Minimum Evictable Idle Time",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-min-evictable-idle-time",
          "sensitive" : false
        },
        "Max Total Connections" : {
          "displayName" : "Max Total Connections",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max Total Connections",
          "sensitive" : false
        },
        "dbcp-max-conn-lifetime" : {
          "displayName" : "Max Connection Lifetime",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-max-conn-lifetime",
          "sensitive" : false
        },
        "Validation-query" : {
          "displayName" : "Validation query",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Validation-query",
          "sensitive" : false
        },
        "Database Connection URL" : {
          "displayName" : "Database Connection URL",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Database Connection URL",
          "sensitive" : false
        },
        "dbcp-time-between-eviction-runs" : {
          "displayName" : "Time Between Eviction Runs",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-time-between-eviction-runs",
          "sensitive" : false
        },
        "Database User" : {
          "displayName" : "Database User",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Database User",
          "sensitive" : false
        },
        "kerberos-user-service" : {
          "displayName" : "Kerberos User Service",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "kerberos-user-service",
          "sensitive" : false
        },
        "dbcp-soft-min-evictable-idle-time" : {
          "displayName" : "Soft Minimum Evictable Idle Time",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-soft-min-evictable-idle-time",
          "sensitive" : false
        },
        "database-driver-locations" : {
          "displayName" : "Database Driver Location(s)",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "database-driver-locations",
          "resourceDefinition" : {
            "cardinality" : "MULTIPLE",
            "resourceTypes" : [ "FILE", "URL", "DIRECTORY" ]
          },
          "sensitive" : false
        },
        "dbcp-max-idle-conns" : {
          "displayName" : "Max Idle Connections",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbcp-max-idle-conns",
          "sensitive" : false
        },
        "Password" : {
          "displayName" : "Password",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Password",
          "sensitive" : true
        }
      },
      "scheduledState" : "DISABLED",
      "type" : "org.apache.nifi.dbcp.DBCPConnectionPool"
    } ],
    "defaultBackPressureDataSizeThreshold" : "1 GB",
    "defaultBackPressureObjectThreshold" : 10000,
    "defaultFlowFileExpiration" : "0 sec",
    "executionEngine" : "INHERITED",
    "externalControllerServiceReferences" : { },
    "flowFileConcurrency" : "UNBOUNDED",
    "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
    "funnels" : [ ],
    "identifier" : "flow-contents-group",
    "inputPorts" : [ ],
    "labels" : [ ],
    "maxConcurrentTasks" : 1,
    "name" : "FACT_DAILYSPEND",
    "outputPorts" : [ ],
    "parameterContextName" : "ETL",
    "position" : {
      "x" : 0.0,
      "y" : 0.0
    },
    "processGroups" : [ {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
          "id" : "ced143f8-b838-34fd-a97a-2eaf5726b648",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
        "identifier" : "4197537d-9462-3164-a931-ba1783ae932e",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
          "id" : "81252209-ea24-3bea-80af-6d85501d4094",
          "name" : "LayTrangThai",
          "type" : "PROCESSOR"
        },
        "zIndex" : 36
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
          "id" : "d79b68e1-d979-3118-8751-17478a826077",
          "name" : "KhoiTao",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
        "identifier" : "75858dd8-bf3b-3c64-aa4c-61db633c7af9",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
          "id" : "8fde55b7-1aa2-3291-bb8e-02008620f9a1",
          "name" : "input",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 41
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
          "id" : "3cd6e6de-3d5c-3e01-ac37-19c4a3f00122",
          "name" : "ouput",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
        "identifier" : "94b625ba-2def-3959-bae8-3f13c739afb8",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
          "id" : "81252209-ea24-3bea-80af-6d85501d4094",
          "name" : "LayTrangThai",
          "type" : "PROCESSOR"
        },
        "zIndex" : 42
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
          "id" : "81252209-ea24-3bea-80af-6d85501d4094",
          "name" : "LayTrangThai",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
        "identifier" : "6c295cda-caec-3e94-b374-8ddcd6da7bc1",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
          "id" : "d79b68e1-d979-3118-8751-17478a826077",
          "name" : "KhoiTao",
          "type" : "PROCESSOR"
        },
        "zIndex" : 34
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
        "identifier" : "8fde55b7-1aa2-3291-bb8e-02008620f9a1",
        "name" : "input",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 160.0,
          "y" : -704.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "LayTrangThaiETL",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
        "identifier" : "3cd6e6de-3d5c-3e01-ac37-19c4a3f00122",
        "name" : "ouput",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 160.0,
          "y" : 112.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : -328.0,
        "y" : 8.0
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
        "identifier" : "ced143f8-b838-34fd-a97a-2eaf5726b648",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -528.0,
          "y" : -192.0
        },
        "properties" : {
          "log-level" : "info"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ "success" ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-scripting-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
        "identifier" : "81252209-ea24-3bea-80af-6d85501d4094",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LayTrangThai",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 104.0,
          "y" : -192.0
        },
        "properties" : {
          "Script Engine" : "Groovy",
          "Script Body" : "import groovy.json.JsonSlurper\nimport groovy.json.JsonBuilder\nimport java.nio.file.*\nimport java.time.Instant\nimport java.time.ZoneOffset\nimport java.time.format.DateTimeFormatter\nimport java.time.LocalDateTime\nimport java.time.LocalDate\nimport org.apache.nifi.processor.io.OutputStreamCallback\n\ndef flowFile = session.get()\nif (!flowFile) return\n\n// Ly parameters t attributes\ndef etlName   = flowFile.getAttribute('state.name')\ndef statePath = flowFile.getAttribute('state.path')\ndef filename  = flowFile.getAttribute('state.filename')\n\nif (!etlName || !statePath || !filename) {\n    log.error(\"Missing required attributes: state.name, state.path, or state.filename\")\n    flowFile = session.putAttribute(flowFile, 'error.message', 'Missing state.name, state.path, or state.filename attributes')\n    session.transfer(flowFile, REL_FAILURE)\n    return\n}\n\n// To ng dn y \ndef stateFilePath = Paths.get(statePath, filename).toString()\n\ntry {\n    def stateContent = \"\"\n    def stateExists = false\n\n    // nh dng thi gian UTC\n    def formatter = DateTimeFormatter.ofPattern(\"yyyy/MM/dd HH:mm:ss\")\n    def currentTimeUTC = Instant.now().atZone(ZoneOffset.UTC).format(formatter)\n    def defaultStartTime = \"2025/01/01 00:00:00\"\n\n    // Gi tr mc nh cho state\n    def defaultState = [\n        name: etlName,\n        isActive: false,\n        lastExecutionTime: currentTimeUTC,\n        startTime: defaultStartTime,\n        endTime: currentTimeUTC,\n        sequenceNumber: 1, // ln chy u tin\n        status: 0,         // 0: khi to\n        message: \"\"        // trng\n    ]\n\n    // c file trng thi nu c\n    def path = Paths.get(stateFilePath)\n    if (Files.exists(path)) {\n        stateContent = new String(Files.readAllBytes(path), \"UTF-8\")\n        stateExists = true\n        log.info(\"State file found for ETL '${etlName}' at '${stateFilePath}': \" + stateContent)\n    } else {\n        stateContent = new JsonBuilder(defaultState).toString()\n        stateExists = false\n        log.info(\"State file not found for ETL '${etlName}' at '${stateFilePath}', creating default state\")\n    }\n\n    // Parse JSON, li th fallback default\n    def jsonSlurper = new JsonSlurper()\n    Map state\n    try {\n        state = (Map) jsonSlurper.parseText(stateContent)\n    } catch (Throwable ex) {\n        log.warn(\"Invalid state content, fallback to default. Error: ${ex.message}\")\n        state = new LinkedHashMap(defaultState)\n        stateExists = false\n    }\n\n    // Chun ho cc trng c bn\n    state.name = etlName\n    state.isActive = (state.containsKey('isActive') && state.isActive != null) ? state.isActive as Boolean : false\n    state.lastExecutionTime = (state.lastExecutionTime ?: currentTimeUTC)\n    state.startTime = (state.startTime ?: defaultStartTime)\n    state.endTime = (state.endTime ?: currentTimeUTC)\n\n    // Gi tr hin hu  dng cho logic ca s mi\n    def oldEndTime = (state.endTime && state.endTime.toString().trim()) ? state.endTime.toString() : defaultStartTime\n\n    // 3 trng b sung\n    Integer seq = 1\n    if (state.containsKey('sequenceNumber') && state.sequenceNumber != null && \"${state.sequenceNumber}\".isInteger()) {\n        seq = (state.sequenceNumber as Integer)\n        if (seq <= 0) seq = 1\n    }\n    Integer prevStatus = 0\n    if (state.containsKey('status') && state.status != null && \"${state.status}\".isInteger()) {\n        prevStatus = (state.status as Integer)\n    }\n    String msg = (state.containsKey('message') && state.message != null) ? (state.message as String) : \"\"\n\n    // --- LOGIC MI: to ca s ETL mi nu status = 0 hoc 2 ---\n    // Gii thch:\n    //  - 0 (khi to) hoc 2 (hon thnh) => ln ETL trc  kt thc bnh thng.\n    //  - startTime = endTime (c) vi gi pht giy 00:00:00 ; endTime = currentTimeUTC ; lastExecutionTime = endTime (c)\n    boolean shouldCreateNewWindow = stateExists && (prevStatus == 0 || prevStatus == 2)\n    if (shouldCreateNewWindow) {\n        // Parse oldEndTime v t li gi pht giy thnh 00:00:00\n        def newStartTime = oldEndTime\n        try {\n            def oldEndTimeParsed = LocalDateTime.parse(oldEndTime, formatter)\n            def dateOnly = oldEndTimeParsed.toLocalDate()\n            def startOfDay = dateOnly.atStartOfDay()\n            newStartTime = startOfDay.format(formatter)\n            log.info(\"Parsed oldEndTime '${oldEndTime}' to start of day: '${newStartTime}'\")\n        } catch (Exception ex) {\n            log.warn(\"Could not parse oldEndTime '${oldEndTime}', using as-is. Error: ${ex.message}\")\n            newStartTime = oldEndTime\n        }\n        \n        state.startTime = newStartTime\n        state.endTime = currentTimeUTC\n        log.info(\"Create new ETL window: startTime=${state.startTime} (reset to 00:00:00), endTime=${state.endTime}, lastExecutionTime=${state.lastExecutionTime}\")\n    }\n\n    // Nu file  tn ti:\n    //  - Nu prevStatus == 2 (hon thnh) -> tng sequenceNumber\n    //  - t status = 0 (khi to), message = \"\"\n    if (stateExists) {\n        if (prevStatus == 2) {\n            seq = seq + 1\n            log.info(\"Previous status=2 (completed). Increase sequenceNumber to ${seq}\")\n        }\n        prevStatus = 0\n        msg = \"\"\n    } else {\n        // state mi\n        prevStatus = 0\n        msg = \"\"\n        seq = 1\n    }\n\n    // Gn li vo state\n    state.sequenceNumber = seq\n    state.status = prevStatus\n    state.message = msg\n\n    // Ghi attributes ra flowfile\n    flowFile = session.putAttribute(flowFile, 'state.exists', stateExists.toString())\n    flowFile = session.putAttribute(flowFile, 'state.name', state.name.toString())\n    flowFile = session.putAttribute(flowFile, 'state.isActive', state.isActive.toString())\n    flowFile = session.putAttribute(flowFile, 'state.lastExecutionTime', state.lastExecutionTime.toString())\n    flowFile = session.putAttribute(flowFile, 'state.startTime', state.startTime.toString())\n    flowFile = session.putAttribute(flowFile, 'state.endTime', state.endTime.toString())\n    flowFile = session.putAttribute(flowFile, 'state.sequenceNumber', state.sequenceNumber.toString())\n    flowFile = session.putAttribute(flowFile, 'state.status', state.status.toString())\n    flowFile = session.putAttribute(flowFile, 'state.message', state.message.toString())\n    flowFile = session.putAttribute(flowFile, 'state.fullPath', stateFilePath)\n\n    // To JSON content chun ho\n    def stateContentForFlowFile = [\n        name: state.name,\n        isActive: state.isActive,\n        lastExecutionTime: state.lastExecutionTime,\n        startTime: state.startTime,\n        endTime: state.endTime,\n        sequenceNumber: state.sequenceNumber,\n        status: state.status,\n        message: state.message\n    ]\n\n    // Ghi JSON vo content\n    def contentJson = new JsonBuilder(stateContentForFlowFile).toString()\n    flowFile = session.write(flowFile, { outputStream ->\n        outputStream.write(contentJson.getBytes(\"UTF-8\"))\n    } as OutputStreamCallback)\n\n    // Lu ton b JSON sau chun ho vo attribute\n    flowFile = session.putAttribute(flowFile, 'state.content', contentJson)\n\n    session.transfer(flowFile, REL_SUCCESS)\n\n} catch (Exception e) {\n    log.error(\"Error reading state file for ETL '${etlName}' at '${stateFilePath}': \" + e.getMessage(), e)\n    flowFile = session.putAttribute(flowFile, 'error.message', e.getMessage())\n    session.transfer(flowFile, REL_FAILURE)\n}"
        },
        "propertyDescriptors" : {
          "Script File" : {
            "displayName" : "Script File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Script Engine" : {
            "displayName" : "Script Engine",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script Engine",
            "sensitive" : false
          },
          "Script Body" : {
            "displayName" : "Script Body",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script Body",
            "sensitive" : false
          },
          "Module Directory" : {
            "displayName" : "Module Directory",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Module Directory",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "FILE", "DIRECTORY" ]
            },
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.script.ExecuteScript",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "7c9541cc-1d25-3e66-9f32-942f9f0209d5",
        "identifier" : "d79b68e1-d979-3118-8751-17478a826077",
        "maxBackoffPeriod" : "10 mins",
        "name" : "KhoiTao",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 104.0,
          "y" : -480.0
        },
        "properties" : {
          "filename" : "state.json",
          "state.startTime" : "${now():format(\"yyyy-MM-dd 00:00:00\", \"UTC\")}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "state.endTime" : "${now():format(\"yyyy-MM-dd HH:mm:ss\", \"UTC\")}",
          "state.path" : "#{TempPath}#{Path.Separator}${state.name}",
          "state.isActive" : "false",
          "state.filename" : "state.json"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "state.startTime" : {
            "displayName" : "state.startTime",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.startTime",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "state.endTime" : {
            "displayName" : "state.endTime",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.endTime",
            "sensitive" : false
          },
          "state.path" : {
            "displayName" : "state.path",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.path",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "state.isActive" : {
            "displayName" : "state.isActive",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.isActive",
            "sensitive" : false
          },
          "state.filename" : {
            "displayName" : "state.filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.filename",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "7a9fe109-cea8-3661-9fba-23092cb0236f",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "b4bec943-987f-3051-9ffc-fcf7339a728a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "30c6dbff-fa67-339c-a635-87031de04928",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "zIndex" : 42
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "50f20ea9-1994-3473-851b-be81851b050b",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "1f361094-fb08-3420-b56b-f3269fd6b7bd",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "7a9fe109-cea8-3661-9fba-23092cb0236f",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 44
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "30c6dbff-fa67-339c-a635-87031de04928",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "1f1de953-78fa-3773-b379-2499c6f1ecb8",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "4df1e722-db53-3a0c-b2dc-b726cb48e9cc",
          "name" : "TrangThai",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 41
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "6223a8be-6f7a-3f94-b5c8-8e0657251301",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "3259b5cc-dd1f-3a29-98ef-c49e99c781cb",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "7a9fe109-cea8-3661-9fba-23092cb0236f",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 43
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "aaf22c51-a71b-31e6-b599-75f0d07a768e",
          "name" : "stateBcOut",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "a514157b-73e9-34f3-903d-0224e5ed82c2",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "6223a8be-6f7a-3f94-b5c8-8e0657251301",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 47
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "50f20ea9-1994-3473-851b-be81851b050b",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "e2dedaf9-2a0c-34b8-9edb-c5df85d6f284",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
          "id" : "6223a8be-6f7a-3f94-b5c8-8e0657251301",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 46
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "4df1e722-db53-3a0c-b2dc-b726cb48e9cc",
        "name" : "TrangThai",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -488.0,
          "y" : -176.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "LuuTrangThaiBCHienTai",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "aaf22c51-a71b-31e6-b599-75f0d07a768e",
        "name" : "stateBcOut",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 1552.0,
          "y" : -154.5
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : -328.0,
        "y" : 3448.0
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "30c6dbff-fa67-339c-a635-87031de04928",
        "maxBackoffPeriod" : "10 mins",
        "name" : "ChuanHoa",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 16.0,
          "y" : -224.0
        },
        "properties" : {
          "filename" : "${stateBc.filename}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "stateBc.lastExecutionTime" : "${now():format(\"yyyy-MM-dd HH:mm:ss\", \"UTC\")}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "stateBc.lastExecutionTime" : {
            "displayName" : "stateBc.lastExecutionTime",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateBc.lastExecutionTime",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "6223a8be-6f7a-3f94-b5c8-8e0657251301",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LuuFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 944.0,
          "y" : -232.0
        },
        "properties" : {
          "Create Missing Directories" : "true",
          "Directory" : "${stateBc.path}",
          "Conflict Resolution Strategy" : "replace"
        },
        "propertyDescriptors" : {
          "Group" : {
            "displayName" : "Group",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Group",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "Create Missing Directories" : {
            "displayName" : "Create Missing Directories",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Create Missing Directories",
            "sensitive" : false
          },
          "Permissions" : {
            "displayName" : "Permissions",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Permissions",
            "sensitive" : false
          },
          "Maximum File Count" : {
            "displayName" : "Maximum File Count",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum File Count",
            "sensitive" : false
          },
          "Last Modified Time" : {
            "displayName" : "Last Modified Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Last Modified Time",
            "sensitive" : false
          },
          "Directory" : {
            "displayName" : "Directory",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Directory",
            "sensitive" : false
          },
          "Conflict Resolution Strategy" : {
            "displayName" : "Conflict Resolution Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Conflict Resolution Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.PutFile",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "7a9fe109-cea8-3661-9fba-23092cb0236f",
        "maxBackoffPeriod" : "10 mins",
        "name" : "CapNhatToContent",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 424.0,
          "y" : -232.0
        },
        "properties" : {
          "Regular Expression" : "(?s)(^.*$)",
          "Replacement Value" : "{\n  \"name\": \"${stateBc.name}\",\n  \"isActive\": ${stateBc.isActive},\n  \"lastExecutionTime\": \"${stateBc.lastExecutionTime}\",\n  \"startTime\": \"${stateBc.startTime}\",\n  \"endTime\": \"${stateBc.endTime}\",\n  \"status\": \"${stateBc.status}\",\n  \"sequenceNumber\": \"${stateBc.sequenceNumber}\",\n  \"message\": \"${stateBc.message}\"\n}",
          "Evaluation Mode" : "Entire text",
          "Line-by-Line Evaluation Mode" : "All",
          "Character Set" : "UTF-8",
          "Maximum Buffer Size" : "1 MB",
          "Replacement Strategy" : "Always Replace"
        },
        "propertyDescriptors" : {
          "Regular Expression" : {
            "displayName" : "Search Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Regular Expression",
            "sensitive" : false
          },
          "Replacement Value" : {
            "displayName" : "Replacement Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Value",
            "sensitive" : false
          },
          "Evaluation Mode" : {
            "displayName" : "Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Evaluation Mode",
            "sensitive" : false
          },
          "Text to Prepend" : {
            "displayName" : "Text to Prepend",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Prepend",
            "sensitive" : false
          },
          "Line-by-Line Evaluation Mode" : {
            "displayName" : "Line-by-Line Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Line-by-Line Evaluation Mode",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Maximum Buffer Size" : {
            "displayName" : "Maximum Buffer Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Buffer Size",
            "sensitive" : false
          },
          "Replacement Strategy" : {
            "displayName" : "Replacement Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Strategy",
            "sensitive" : false
          },
          "Text to Append" : {
            "displayName" : "Text to Append",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Append",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ReplaceText",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "f05bc759-9b57-3bb7-ab58-24e1446b6038",
        "identifier" : "50f20ea9-1994-3473-851b-be81851b050b",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 616.0,
          "y" : 64.0
        },
        "properties" : {
          "log-level" : "info"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ "success" ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "56af5eb1-0313-3357-81cb-807b88cbd710",
          "id" : "f8529cc3-9eda-3fd6-9cb7-e664fcbc6dfa",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "56af5eb1-0313-3357-81cb-807b88cbd710",
        "identifier" : "c1358c3b-bb43-3a4d-9b1d-412f8cf278db",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "56af5eb1-0313-3357-81cb-807b88cbd710",
          "id" : "350ffed3-e395-3a78-b745-dcdc9925c0c6",
          "name" : "TrangThai",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 41
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "56af5eb1-0313-3357-81cb-807b88cbd710",
          "id" : "5b2ffda7-adfe-36dd-9699-e724f1ccdecd",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "56af5eb1-0313-3357-81cb-807b88cbd710",
        "identifier" : "0dea6439-9cd9-3963-89aa-89b9db7ca1d0",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "56af5eb1-0313-3357-81cb-807b88cbd710",
          "id" : "06a31d53-b4e0-3f69-9b73-efd5bb429e40",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 43
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "56af5eb1-0313-3357-81cb-807b88cbd710",
          "id" : "06a31d53-b4e0-3f69-9b73-efd5bb429e40",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "56af5eb1-0313-3357-81cb-807b88cbd710",
        "identifier" : "358df80a-f393-30d9-9fe2-1378c4681a7d",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "56af5eb1-0313-3357-81cb-807b88cbd710",
          "id" : "f8529cc3-9eda-3fd6-9cb7-e664fcbc6dfa",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "zIndex" : 42
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "56af5eb1-0313-3357-81cb-807b88cbd710",
          "id" : "b762c3dd-42e5-378f-a19d-4feb49570120",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "56af5eb1-0313-3357-81cb-807b88cbd710",
        "identifier" : "799278b2-81c9-3239-8f17-45a241a2d1da",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "56af5eb1-0313-3357-81cb-807b88cbd710",
          "id" : "5b2ffda7-adfe-36dd-9699-e724f1ccdecd",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 46
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "56af5eb1-0313-3357-81cb-807b88cbd710",
          "id" : "b762c3dd-42e5-378f-a19d-4feb49570120",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "56af5eb1-0313-3357-81cb-807b88cbd710",
        "identifier" : "3822f5b1-23b7-30ac-b798-476beeb8e232",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "56af5eb1-0313-3357-81cb-807b88cbd710",
          "id" : "06a31d53-b4e0-3f69-9b73-efd5bb429e40",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 44
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "56af5eb1-0313-3357-81cb-807b88cbd710",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "56af5eb1-0313-3357-81cb-807b88cbd710",
        "identifier" : "350ffed3-e395-3a78-b745-dcdc9925c0c6",
        "name" : "TrangThai",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -488.0,
          "y" : -176.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "LuuTrangThaiETL",
      "outputPorts" : [ ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : 144.0,
        "y" : 1736.0
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "56af5eb1-0313-3357-81cb-807b88cbd710",
        "identifier" : "b762c3dd-42e5-378f-a19d-4feb49570120",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 616.0,
          "y" : 64.0
        },
        "properties" : {
          "log-level" : "info"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ "success" ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "56af5eb1-0313-3357-81cb-807b88cbd710",
        "identifier" : "f8529cc3-9eda-3fd6-9cb7-e664fcbc6dfa",
        "maxBackoffPeriod" : "10 mins",
        "name" : "ChuanHoa",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 16.0,
          "y" : -224.0
        },
        "properties" : {
          "filename" : "${state.filename}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "state.lastExecutionTime" : "${now():format(\"yyyy-MM-dd HH:mm:ss\", \"UTC\")}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "state.lastExecutionTime" : {
            "displayName" : "state.lastExecutionTime",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.lastExecutionTime",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "56af5eb1-0313-3357-81cb-807b88cbd710",
        "identifier" : "06a31d53-b4e0-3f69-9b73-efd5bb429e40",
        "maxBackoffPeriod" : "10 mins",
        "name" : "CapNhatToContent",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 424.0,
          "y" : -232.0
        },
        "properties" : {
          "Regular Expression" : "(?s)(^.*$)",
          "Replacement Value" : "{\n  \"name\": \"${state.name}\",\n  \"isActive\": ${state.isActive},\n  \"lastExecutionTime\": \"${state.lastExecutionTime}\",\n  \"startTime\": \"${state.startTime}\",\n  \"endTime\": \"${state.endTime}\",\n  \"status\": \"${state.status}\",\n  \"sequenceNumber\": \"${state.sequenceNumber}\",\n  \"message\": \"${state.message}\"\n}",
          "Evaluation Mode" : "Entire text",
          "Line-by-Line Evaluation Mode" : "All",
          "Character Set" : "UTF-8",
          "Maximum Buffer Size" : "1 MB",
          "Replacement Strategy" : "Always Replace"
        },
        "propertyDescriptors" : {
          "Regular Expression" : {
            "displayName" : "Search Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Regular Expression",
            "sensitive" : false
          },
          "Replacement Value" : {
            "displayName" : "Replacement Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Value",
            "sensitive" : false
          },
          "Evaluation Mode" : {
            "displayName" : "Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Evaluation Mode",
            "sensitive" : false
          },
          "Text to Prepend" : {
            "displayName" : "Text to Prepend",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Prepend",
            "sensitive" : false
          },
          "Line-by-Line Evaluation Mode" : {
            "displayName" : "Line-by-Line Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Line-by-Line Evaluation Mode",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Maximum Buffer Size" : {
            "displayName" : "Maximum Buffer Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Buffer Size",
            "sensitive" : false
          },
          "Replacement Strategy" : {
            "displayName" : "Replacement Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Strategy",
            "sensitive" : false
          },
          "Text to Append" : {
            "displayName" : "Text to Append",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Append",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ReplaceText",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "56af5eb1-0313-3357-81cb-807b88cbd710",
        "identifier" : "5b2ffda7-adfe-36dd-9699-e724f1ccdecd",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LuuFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 944.0,
          "y" : -232.0
        },
        "properties" : {
          "Create Missing Directories" : "true",
          "Directory" : "${state.path}",
          "Conflict Resolution Strategy" : "replace"
        },
        "propertyDescriptors" : {
          "Group" : {
            "displayName" : "Group",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Group",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "Create Missing Directories" : {
            "displayName" : "Create Missing Directories",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Create Missing Directories",
            "sensitive" : false
          },
          "Permissions" : {
            "displayName" : "Permissions",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Permissions",
            "sensitive" : false
          },
          "Maximum File Count" : {
            "displayName" : "Maximum File Count",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum File Count",
            "sensitive" : false
          },
          "Last Modified Time" : {
            "displayName" : "Last Modified Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Last Modified Time",
            "sensitive" : false
          },
          "Directory" : {
            "displayName" : "Directory",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Directory",
            "sensitive" : false
          },
          "Conflict Resolution Strategy" : {
            "displayName" : "Conflict Resolution Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Conflict Resolution Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.PutFile",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "065ae767-3670-3334-b351-74c632c44b2f",
          "name" : "stateBcOut",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "f14114de-8c91-3617-98e8-040d79bf15fe",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "c15516ed-263f-342a-b91b-1319d60a7b92",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 47
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "c15516ed-263f-342a-b91b-1319d60a7b92",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "5c809f7b-e8ae-3199-83dd-f6d2a3231eeb",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "47d91a32-2514-3485-872d-3a3ecbb24543",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 43
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "0e7e1916-0800-3940-acfd-bbacd87e5048",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "85af5b05-b647-3afb-aa37-8e47f9612e36",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "47d91a32-2514-3485-872d-3a3ecbb24543",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 44
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "47d91a32-2514-3485-872d-3a3ecbb24543",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "d15b4635-d971-3b7a-94d8-5e85c60cdcc9",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "7b3763f3-e4d9-380a-b3a8-105026229a62",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "zIndex" : 42
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "0e7e1916-0800-3940-acfd-bbacd87e5048",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "61074f26-4d14-36b8-a612-c78d2c0805e3",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "c15516ed-263f-342a-b91b-1319d60a7b92",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 46
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "7b3763f3-e4d9-380a-b3a8-105026229a62",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "243ecdfb-2af6-340c-86ca-b4da884a2076",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
          "id" : "91ede06c-85a1-3d9a-aa3a-728a627946b4",
          "name" : "TrangThai",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 41
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "91ede06c-85a1-3d9a-aa3a-728a627946b4",
        "name" : "TrangThai",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -488.0,
          "y" : -176.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "LuuTrangThaiBCHienTai",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "065ae767-3670-3334-b351-74c632c44b2f",
        "name" : "stateBcOut",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 1552.0,
          "y" : -154.5
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : -328.0,
        "y" : 2424.0
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "47d91a32-2514-3485-872d-3a3ecbb24543",
        "maxBackoffPeriod" : "10 mins",
        "name" : "CapNhatToContent",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 424.0,
          "y" : -232.0
        },
        "properties" : {
          "Regular Expression" : "(?s)(^.*$)",
          "Replacement Value" : "{\n  \"name\": \"${stateBc.name}\",\n  \"isActive\": ${stateBc.isActive},\n  \"lastExecutionTime\": \"${stateBc.lastExecutionTime}\",\n  \"startTime\": \"${stateBc.startTime}\",\n  \"endTime\": \"${stateBc.endTime}\",\n  \"status\": \"${stateBc.status}\",\n  \"sequenceNumber\": \"${stateBc.sequenceNumber}\",\n  \"message\": \"${stateBc.message}\"\n}",
          "Evaluation Mode" : "Entire text",
          "Line-by-Line Evaluation Mode" : "All",
          "Character Set" : "UTF-8",
          "Maximum Buffer Size" : "1 MB",
          "Replacement Strategy" : "Always Replace"
        },
        "propertyDescriptors" : {
          "Regular Expression" : {
            "displayName" : "Search Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Regular Expression",
            "sensitive" : false
          },
          "Replacement Value" : {
            "displayName" : "Replacement Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Value",
            "sensitive" : false
          },
          "Evaluation Mode" : {
            "displayName" : "Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Evaluation Mode",
            "sensitive" : false
          },
          "Text to Prepend" : {
            "displayName" : "Text to Prepend",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Prepend",
            "sensitive" : false
          },
          "Line-by-Line Evaluation Mode" : {
            "displayName" : "Line-by-Line Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Line-by-Line Evaluation Mode",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Maximum Buffer Size" : {
            "displayName" : "Maximum Buffer Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Buffer Size",
            "sensitive" : false
          },
          "Replacement Strategy" : {
            "displayName" : "Replacement Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Strategy",
            "sensitive" : false
          },
          "Text to Append" : {
            "displayName" : "Text to Append",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Append",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ReplaceText",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "c15516ed-263f-342a-b91b-1319d60a7b92",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LuuFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 944.0,
          "y" : -232.0
        },
        "properties" : {
          "Create Missing Directories" : "true",
          "Directory" : "${stateBc.path}",
          "Conflict Resolution Strategy" : "replace"
        },
        "propertyDescriptors" : {
          "Group" : {
            "displayName" : "Group",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Group",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "Create Missing Directories" : {
            "displayName" : "Create Missing Directories",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Create Missing Directories",
            "sensitive" : false
          },
          "Permissions" : {
            "displayName" : "Permissions",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Permissions",
            "sensitive" : false
          },
          "Maximum File Count" : {
            "displayName" : "Maximum File Count",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum File Count",
            "sensitive" : false
          },
          "Last Modified Time" : {
            "displayName" : "Last Modified Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Last Modified Time",
            "sensitive" : false
          },
          "Directory" : {
            "displayName" : "Directory",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Directory",
            "sensitive" : false
          },
          "Conflict Resolution Strategy" : {
            "displayName" : "Conflict Resolution Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Conflict Resolution Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.PutFile",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "7b3763f3-e4d9-380a-b3a8-105026229a62",
        "maxBackoffPeriod" : "10 mins",
        "name" : "ChuanHoa",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 16.0,
          "y" : -224.0
        },
        "properties" : {
          "filename" : "${stateBc.filename}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "stateBc.lastExecutionTime" : "${now():format(\"yyyy-MM-dd HH:mm:ss\", \"UTC\")}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "stateBc.lastExecutionTime" : {
            "displayName" : "stateBc.lastExecutionTime",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateBc.lastExecutionTime",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ce79d2a-d6f3-376e-b5e3-d4574c63fa58",
        "identifier" : "0e7e1916-0800-3940-acfd-bbacd87e5048",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 616.0,
          "y" : 64.0
        },
        "properties" : {
          "log-level" : "info"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ "success" ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
          "id" : "5284e380-3c59-3e85-a2c8-68a9f7787248",
          "name" : "KhoiTaoBc",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
        "identifier" : "68773277-04da-3f08-8253-cd8cc9185779",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
          "id" : "12b32231-3f4d-35fd-9543-be4b2c4c88d0",
          "name" : "BcId",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 43
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "id" : "03dc3442-3ace-342b-badd-c51e0032d8e2",
          "name" : "TrangThai",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
        "identifier" : "213a7a03-8dda-327a-bead-ef86a4f56170",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
          "id" : "83c15698-98c3-3ff9-aab0-d78b98db480f",
          "name" : "LayTrangThai",
          "type" : "PROCESSOR"
        },
        "zIndex" : 45
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
          "id" : "83c15698-98c3-3ff9-aab0-d78b98db480f",
          "name" : "LayTrangThai",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
        "identifier" : "4a67c0fe-3b49-3363-a0ef-db64e6e6aa8a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
          "id" : "5284e380-3c59-3e85-a2c8-68a9f7787248",
          "name" : "KhoiTaoBc",
          "type" : "PROCESSOR"
        },
        "zIndex" : 44
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
          "id" : "60827011-e3b4-362a-bc33-51965ef5fe5b",
          "name" : "stateBcOut",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
        "identifier" : "b07ffb53-11b3-3961-8283-ae1b1a5b483e",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
          "id" : "83c15698-98c3-3ff9-aab0-d78b98db480f",
          "name" : "LayTrangThai",
          "type" : "PROCESSOR"
        },
        "zIndex" : 42
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
        "identifier" : "12b32231-3f4d-35fd-9543-be4b2c4c88d0",
        "name" : "BcId",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -488.0,
          "y" : -176.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "LayTrangThaiBCHienTai",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
        "identifier" : "60827011-e3b4-362a-bc33-51965ef5fe5b",
        "name" : "stateBcOut",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 1280.0,
          "y" : -176.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : -328.0,
        "y" : 1736.0
      },
      "processGroups" : [ {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
            "id" : "e09da1f7-e5cb-39e8-bf95-1066e258c678",
            "name" : "LuuFile",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "52954a37-98bb-3052-8996-2a52005238b2",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
            "id" : "eaad6962-6f55-3dba-ad6e-d56c276987ed",
            "name" : "CapNhatToContent",
            "type" : "PROCESSOR"
          },
          "zIndex" : 43
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
            "id" : "eaad6962-6f55-3dba-ad6e-d56c276987ed",
            "name" : "CapNhatToContent",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "b944b8ac-1a07-3c09-9cb5-2514f54fd7c0",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
            "id" : "f30efcd7-14a9-3510-bffb-3c8b398f5a3e",
            "name" : "ChuanHoa",
            "type" : "PROCESSOR"
          },
          "zIndex" : 42
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
            "id" : "f30efcd7-14a9-3510-bffb-3c8b398f5a3e",
            "name" : "ChuanHoa",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "cad88dc7-0d86-3fb7-97bd-b1510adec5d0",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
            "id" : "03dc3442-3ace-342b-badd-c51e0032d8e2",
            "name" : "TrangThai",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 41
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "id" : "609f7699-a04c-3786-8748-792a42fc69df",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "302fc3aa-d21f-3f55-9792-ea99501163a3",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
            "id" : "e09da1f7-e5cb-39e8-bf95-1066e258c678",
            "name" : "LuuFile",
            "type" : "PROCESSOR"
          },
          "zIndex" : 47
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
            "id" : "6a5a4adb-de79-3126-b957-53c5038c6ba8",
            "name" : "LogMessage",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "ab95d031-01f4-3203-97d1-968d4738d8d8",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
            "id" : "eaad6962-6f55-3dba-ad6e-d56c276987ed",
            "name" : "CapNhatToContent",
            "type" : "PROCESSOR"
          },
          "zIndex" : 44
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
            "id" : "6a5a4adb-de79-3126-b957-53c5038c6ba8",
            "name" : "LogMessage",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "2628f384-2032-37d3-b213-f37480b130f8",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
            "id" : "e09da1f7-e5cb-39e8-bf95-1066e258c678",
            "name" : "LuuFile",
            "type" : "PROCESSOR"
          },
          "zIndex" : 46
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ ],
        "groupIdentifier" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
        "identifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "03dc3442-3ace-342b-badd-c51e0032d8e2",
          "name" : "TrangThai",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -488.0,
            "y" : -176.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "LuuTrangThaiBCHienTaiVoiLoi",
        "outputPorts" : [ ],
        "parameterContextName" : "TikTokETL",
        "position" : {
          "x" : 600.0,
          "y" : 72.0
        },
        "processGroups" : [ {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "3d8daec5-c763-3b55-9a6c-37895a772a36",
              "name" : "LaythongtinTelegramCauHinh",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "bb8d4a43-2c5c-336f-9949-e00a39135455",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "609f7699-a04c-3786-8748-792a42fc69df",
              "name" : "input",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 1
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "b6c95f54-aa73-30d7-811b-a91b3d4be68e",
              "name" : "ReplaceText",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "8a8ad70f-2c2c-39e3-84c4-9ee6940cd09d",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "send" ],
            "source" : {
              "comments" : "",
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "76129d54-4778-3e61-980b-4cc3a6e27340",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 8
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "72f8c261-c52e-3c38-a09c-1133fa3c5a7c",
              "name" : "LogMessage",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "99b62ed2-7791-34aa-a8e5-aabdc8981b1e",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "b6c95f54-aa73-30d7-811b-a91b3d4be68e",
              "name" : "ReplaceText",
              "type" : "PROCESSOR"
            },
            "zIndex" : 9
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "6d564ee6-adce-3bbf-836a-dedf9f2f372d",
              "name" : "GuiTinNhanTelegram",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "3c5fd713-a67f-3b7d-a0b9-33f5e17f7df0",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "b6c95f54-aa73-30d7-811b-a91b3d4be68e",
              "name" : "ReplaceText",
              "type" : "PROCESSOR"
            },
            "zIndex" : 7
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "76129d54-4778-3e61-980b-4cc3a6e27340",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "21ad7bce-7581-3271-8116-fc201245f013",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "3d8daec5-c763-3b55-9a6c-37895a772a36",
              "name" : "LaythongtinTelegramCauHinh",
              "type" : "PROCESSOR"
            },
            "zIndex" : 6
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "72f8c261-c52e-3c38-a09c-1133fa3c5a7c",
              "name" : "LogMessage",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "4f147d00-1648-3313-9c20-0893c2c94b2f",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Response", "Failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
              "id" : "6d564ee6-adce-3bbf-836a-dedf9f2f372d",
              "name" : "GuiTinNhanTelegram",
              "type" : "PROCESSOR"
            },
            "zIndex" : 5
          } ],
          "controllerServices" : [ ],
          "defaultBackPressureDataSizeThreshold" : "1 GB",
          "defaultBackPressureObjectThreshold" : 10000,
          "defaultFlowFileExpiration" : "0 sec",
          "executionEngine" : "INHERITED",
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "609f7699-a04c-3786-8748-792a42fc69df",
            "name" : "input",
            "portFunction" : "STANDARD",
            "position" : {
              "x" : -1056.0,
              "y" : -248.0
            },
            "scheduledState" : "ENABLED",
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ ],
          "maxConcurrentTasks" : 1,
          "name" : "GuiThongBaoTelegram",
          "outputPorts" : [ ],
          "position" : {
            "x" : 1376.0,
            "y" : -256.0
          },
          "processGroups" : [ ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "backoffMechanism" : "PENALIZE_FLOWFILE",
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "2.4.0"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "3d8daec5-c763-3b55-9a6c-37895a772a36",
            "maxBackoffPeriod" : "10 mins",
            "name" : "LaythongtinTelegramCauHinh",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : -656.0,
              "y" : -280.0
            },
            "properties" : {
              "telegram.botToken" : "#{BotToken}",
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "telegram.chatId" : "#{ChatId}",
              "telegram.enabled" : "#{Enabled}",
              "telegram.text" : " MESSAGE ALERT\n Application: NIFI\n Flow: ${state.name}\n Message: ${state.message}"
            },
            "propertyDescriptors" : {
              "telegram.botToken" : {
                "displayName" : "telegram.botToken",
                "dynamic" : true,
                "identifiesControllerService" : false,
                "name" : "telegram.botToken",
                "sensitive" : false
              },
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "telegram.chatId" : {
                "displayName" : "telegram.chatId",
                "dynamic" : true,
                "identifiesControllerService" : false,
                "name" : "telegram.chatId",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              },
              "telegram.enabled" : {
                "displayName" : "telegram.enabled",
                "dynamic" : true,
                "identifiesControllerService" : false,
                "name" : "telegram.enabled",
                "sensitive" : false
              },
              "telegram.text" : {
                "displayName" : "telegram.text",
                "dynamic" : true,
                "identifiesControllerService" : false,
                "name" : "telegram.text",
                "sensitive" : false
              }
            },
            "retriedRelationships" : [ ],
            "retryCount" : 10,
            "runDurationMillis" : 25,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "backoffMechanism" : "PENALIZE_FLOWFILE",
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "2.4.0"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "b6c95f54-aa73-30d7-811b-a91b3d4be68e",
            "maxBackoffPeriod" : "10 mins",
            "name" : "ReplaceText",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 200.0,
              "y" : -288.0
            },
            "properties" : {
              "Regular Expression" : "(?s)^(.*)$",
              "Replacement Value" : "{\"chat_id\":\"#{ChatId}\",\"text\":\"${telegram.text}\"}",
              "Evaluation Mode" : "Entire text",
              "Line-by-Line Evaluation Mode" : "All",
              "Character Set" : "UTF-8",
              "Maximum Buffer Size" : "1 MB",
              "Replacement Strategy" : "Regex Replace"
            },
            "propertyDescriptors" : {
              "Regular Expression" : {
                "displayName" : "Search Value",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Regular Expression",
                "sensitive" : false
              },
              "Replacement Value" : {
                "displayName" : "Replacement Value",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Replacement Value",
                "sensitive" : false
              },
              "Evaluation Mode" : {
                "displayName" : "Evaluation Mode",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Evaluation Mode",
                "sensitive" : false
              },
              "Text to Prepend" : {
                "displayName" : "Text to Prepend",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Text to Prepend",
                "sensitive" : false
              },
              "Line-by-Line Evaluation Mode" : {
                "displayName" : "Line-by-Line Evaluation Mode",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Line-by-Line Evaluation Mode",
                "sensitive" : false
              },
              "Character Set" : {
                "displayName" : "Character Set",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Character Set",
                "sensitive" : false
              },
              "Maximum Buffer Size" : {
                "displayName" : "Maximum Buffer Size",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Maximum Buffer Size",
                "sensitive" : false
              },
              "Replacement Strategy" : {
                "displayName" : "Replacement Strategy",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Replacement Strategy",
                "sensitive" : false
              },
              "Text to Append" : {
                "displayName" : "Text to Append",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Text to Append",
                "sensitive" : false
              }
            },
            "retriedRelationships" : [ ],
            "retryCount" : 10,
            "runDurationMillis" : 25,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.ReplaceText",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ "success" ],
            "backoffMechanism" : "PENALIZE_FLOWFILE",
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "2.4.0"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "72f8c261-c52e-3c38-a09c-1133fa3c5a7c",
            "maxBackoffPeriod" : "10 mins",
            "name" : "LogMessage",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 224.0,
              "y" : 32.0
            },
            "properties" : {
              "log-level" : "info"
            },
            "propertyDescriptors" : {
              "log-message" : {
                "displayName" : "Log message",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "log-message",
                "sensitive" : false
              },
              "log-level" : {
                "displayName" : "Log Level",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "log-level",
                "sensitive" : false
              },
              "log-prefix" : {
                "displayName" : "Log prefix",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "log-prefix",
                "sensitive" : false
              }
            },
            "retriedRelationships" : [ ],
            "retryCount" : 10,
            "runDurationMillis" : 25,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.LogMessage",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ "No Retry", "Retry", "Original" ],
            "backoffMechanism" : "PENALIZE_FLOWFILE",
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "2.4.0"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "6d564ee6-adce-3bbf-836a-dedf9f2f372d",
            "maxBackoffPeriod" : "10 mins",
            "name" : "GuiTinNhanTelegram",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 656.0,
              "y" : -296.0
            },
            "properties" : {
              "Request Content-Encoding" : "DISABLED",
              "Request Multipart Form-Data Filename Enabled" : "true",
              "Request Chunked Transfer-Encoding Enabled" : "false",
              "HTTP/2 Disabled" : "False",
              "Connection Timeout" : "30 secs",
              "Response Cookie Strategy" : "DISABLED",
              "Socket Read Timeout" : "15 secs",
              "Socket Idle Connections" : "5",
              "Request Body Enabled" : "true",
              "OAuth2 Access Token Refresh Strategy" : "ON_TOKEN_EXPIRATION",
              "HTTP URL" : "https://api.telegram.org/bot#{BotToken}/sendMessage",
              "Socket Idle Timeout" : "5 mins",
              "Response Redirects Enabled" : "True",
              "Socket Write Timeout" : "15 secs",
              "Response FlowFile Naming Strategy" : "RANDOM",
              "Response Cache Enabled" : "false",
              "Request Date Header Enabled" : "True",
              "Request Failure Penalization Enabled" : "false",
              "Response Body Attribute Size" : "256",
              "Response Generation Required" : "false",
              "Response Header Request Attributes Enabled" : "false",
              "HTTP Method" : "POST",
              "Request Content-Type" : "application/json",
              "Request Digest Authentication Enabled" : "false",
              "Response Cache Size" : "10MB",
              "Response Body Ignored" : "false"
            },
            "propertyDescriptors" : {
              "Request Content-Encoding" : {
                "displayName" : "Request Content-Encoding",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Content-Encoding",
                "sensitive" : false
              },
              "proxy-configuration-service" : {
                "displayName" : "Proxy Configuration Service",
                "dynamic" : false,
                "identifiesControllerService" : true,
                "name" : "proxy-configuration-service",
                "sensitive" : false
              },
              "Request Multipart Form-Data Filename Enabled" : {
                "displayName" : "Request Multipart Form-Data Filename Enabled",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Multipart Form-Data Filename Enabled",
                "sensitive" : false
              },
              "Request Chunked Transfer-Encoding Enabled" : {
                "displayName" : "Request Chunked Transfer-Encoding Enabled",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Chunked Transfer-Encoding Enabled",
                "sensitive" : false
              },
              "Response Header Request Attributes Prefix" : {
                "displayName" : "Response Header Request Attributes Prefix",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Response Header Request Attributes Prefix",
                "sensitive" : false
              },
              "HTTP/2 Disabled" : {
                "displayName" : "HTTP/2 Disabled",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "HTTP/2 Disabled",
                "sensitive" : false
              },
              "Connection Timeout" : {
                "displayName" : "Connection Timeout",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Connection Timeout",
                "sensitive" : false
              },
              "Response Cookie Strategy" : {
                "displayName" : "Response Cookie Strategy",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Response Cookie Strategy",
                "sensitive" : false
              },
              "Request Password" : {
                "displayName" : "Request Password",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Password",
                "sensitive" : true
              },
              "Socket Read Timeout" : {
                "displayName" : "Socket Read Timeout",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Socket Read Timeout",
                "sensitive" : false
              },
              "Socket Idle Connections" : {
                "displayName" : "Socket Idle Connections",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Socket Idle Connections",
                "sensitive" : false
              },
              "Request Body Enabled" : {
                "displayName" : "Request Body Enabled",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Body Enabled",
                "sensitive" : false
              },
              "OAuth2 Access Token Refresh Strategy" : {
                "displayName" : "OAuth2 Access Token Refresh Strategy",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "OAuth2 Access Token Refresh Strategy",
                "sensitive" : false
              },
              "HTTP URL" : {
                "displayName" : "HTTP URL",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "HTTP URL",
                "sensitive" : false
              },
              "Request OAuth2 Access Token Provider" : {
                "displayName" : "Request OAuth2 Access Token Provider",
                "dynamic" : false,
                "identifiesControllerService" : true,
                "name" : "Request OAuth2 Access Token Provider",
                "sensitive" : false
              },
              "Socket Idle Timeout" : {
                "displayName" : "Socket Idle Timeout",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Socket Idle Timeout",
                "sensitive" : false
              },
              "Response Redirects Enabled" : {
                "displayName" : "Response Redirects Enabled",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Response Redirects Enabled",
                "sensitive" : false
              },
              "Socket Write Timeout" : {
                "displayName" : "Socket Write Timeout",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Socket Write Timeout",
                "sensitive" : false
              },
              "Request Header Attributes Pattern" : {
                "displayName" : "Request Header Attributes Pattern",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Header Attributes Pattern",
                "sensitive" : false
              },
              "Response FlowFile Naming Strategy" : {
                "displayName" : "Response FlowFile Naming Strategy",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Response FlowFile Naming Strategy",
                "sensitive" : false
              },
              "Response Cache Enabled" : {
                "displayName" : "Response Cache Enabled",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Response Cache Enabled",
                "sensitive" : false
              },
              "Request Date Header Enabled" : {
                "displayName" : "Request Date Header Enabled",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Date Header Enabled",
                "sensitive" : false
              },
              "Request Failure Penalization Enabled" : {
                "displayName" : "Request Failure Penalization Enabled",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Failure Penalization Enabled",
                "sensitive" : false
              },
              "Response Body Attribute Size" : {
                "displayName" : "Response Body Attribute Size",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Response Body Attribute Size",
                "sensitive" : false
              },
              "SSL Context Service" : {
                "displayName" : "SSL Context Service",
                "dynamic" : false,
                "identifiesControllerService" : true,
                "name" : "SSL Context Service",
                "sensitive" : false
              },
              "Response Generation Required" : {
                "displayName" : "Response Generation Required",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Response Generation Required",
                "sensitive" : false
              },
              "Request User-Agent" : {
                "displayName" : "Request User-Agent",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request User-Agent",
                "sensitive" : false
              },
              "Response Header Request Attributes Enabled" : {
                "displayName" : "Response Header Request Attributes Enabled",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Response Header Request Attributes Enabled",
                "sensitive" : false
              },
              "HTTP Method" : {
                "displayName" : "HTTP Method",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "HTTP Method",
                "sensitive" : false
              },
              "Request Username" : {
                "displayName" : "Request Username",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Username",
                "sensitive" : false
              },
              "Request Content-Type" : {
                "displayName" : "Request Content-Type",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Content-Type",
                "sensitive" : false
              },
              "Response Body Attribute Name" : {
                "displayName" : "Response Body Attribute Name",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Response Body Attribute Name",
                "sensitive" : false
              },
              "Request Digest Authentication Enabled" : {
                "displayName" : "Request Digest Authentication Enabled",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Digest Authentication Enabled",
                "sensitive" : false
              },
              "Request Multipart Form-Data Name" : {
                "displayName" : "Request Multipart Form-Data Name",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Request Multipart Form-Data Name",
                "sensitive" : false
              },
              "Response Cache Size" : {
                "displayName" : "Response Cache Size",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Response Cache Size",
                "sensitive" : false
              },
              "Response Body Ignored" : {
                "displayName" : "Response Body Ignored",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Response Body Ignored",
                "sensitive" : false
              }
            },
            "retriedRelationships" : [ ],
            "retryCount" : 10,
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ "unmatched" ],
            "backoffMechanism" : "PENALIZE_FLOWFILE",
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "2.4.0"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "4d4bf547-9c7e-3559-b376-960b55403a2a",
            "identifier" : "76129d54-4778-3e61-980b-4cc3a6e27340",
            "maxBackoffPeriod" : "10 mins",
            "name" : "RouteOnAttribute",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : -184.0,
              "y" : -288.0
            },
            "properties" : {
              "Routing Strategy" : "Route to Property name",
              "send" : "${telegram.enabled:equals('true')}"
            },
            "propertyDescriptors" : {
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "dynamic" : false,
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              },
              "send" : {
                "displayName" : "send",
                "dynamic" : true,
                "identifiesControllerService" : false,
                "name" : "send",
                "sensitive" : false
              }
            },
            "retriedRelationships" : [ ],
            "retryCount" : 10,
            "runDurationMillis" : 25,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "scheduledState" : "ENABLED",
          "statelessFlowTimeout" : "1 min"
        } ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "eaad6962-6f55-3dba-ad6e-d56c276987ed",
          "maxBackoffPeriod" : "10 mins",
          "name" : "CapNhatToContent",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 424.0,
            "y" : -232.0
          },
          "properties" : {
            "Regular Expression" : "(?s)(^.*$)",
            "Replacement Value" : "{\n  \"name\": \"${stateBc.name}\",\n  \"isActive\": ${stateBc.isActive},\n  \"lastExecutionTime\": \"${stateBc.lastExecutionTime}\",\n  \"startTime\": \"${stateBc.startTime}\",\n  \"endTime\": \"${stateBc.endTime}\",\n  \"status\": \"${stateBc.status}\",\n  \"sequenceNumber\": \"${stateBc.sequenceNumber}\",\n  \"message\": \"${stateBc.message}\"\n}",
            "Evaluation Mode" : "Entire text",
            "Line-by-Line Evaluation Mode" : "All",
            "Character Set" : "UTF-8",
            "Maximum Buffer Size" : "1 MB",
            "Replacement Strategy" : "Always Replace"
          },
          "propertyDescriptors" : {
            "Regular Expression" : {
              "displayName" : "Search Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Regular Expression",
              "sensitive" : false
            },
            "Replacement Value" : {
              "displayName" : "Replacement Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Replacement Value",
              "sensitive" : false
            },
            "Evaluation Mode" : {
              "displayName" : "Evaluation Mode",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Evaluation Mode",
              "sensitive" : false
            },
            "Text to Prepend" : {
              "displayName" : "Text to Prepend",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Text to Prepend",
              "sensitive" : false
            },
            "Line-by-Line Evaluation Mode" : {
              "displayName" : "Line-by-Line Evaluation Mode",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Line-by-Line Evaluation Mode",
              "sensitive" : false
            },
            "Character Set" : {
              "displayName" : "Character Set",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Character Set",
              "sensitive" : false
            },
            "Maximum Buffer Size" : {
              "displayName" : "Maximum Buffer Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum Buffer Size",
              "sensitive" : false
            },
            "Replacement Strategy" : {
              "displayName" : "Replacement Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Replacement Strategy",
              "sensitive" : false
            },
            "Text to Append" : {
              "displayName" : "Text to Append",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Text to Append",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.ReplaceText",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "f30efcd7-14a9-3510-bffb-3c8b398f5a3e",
          "maxBackoffPeriod" : "10 mins",
          "name" : "ChuanHoa",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 16.0,
            "y" : -224.0
          },
          "properties" : {
            "state.message" : "Ly trng thi Bc ${stateBc.name} li",
            "filename" : "${stateBc.filename}",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "stateBc.lastExecutionTime" : "${now():format(\"yyyy-MM-dd HH:mm:ss\", \"UTC\")}",
            "stateBc.isActive" : "false",
            "stateBc.message" : "Ly trng thi Bc ${stateBc.name} li",
            "stateBc.status" : "3"
          },
          "propertyDescriptors" : {
            "state.message" : {
              "displayName" : "state.message",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "state.message",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "filename" : {
              "displayName" : "filename",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "filename",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "stateBc.lastExecutionTime" : {
              "displayName" : "stateBc.lastExecutionTime",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "stateBc.lastExecutionTime",
              "sensitive" : false
            },
            "stateBc.isActive" : {
              "displayName" : "stateBc.isActive",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "stateBc.isActive",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            },
            "stateBc.message" : {
              "displayName" : "stateBc.message",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "stateBc.message",
              "sensitive" : false
            },
            "stateBc.status" : {
              "displayName" : "stateBc.status",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "stateBc.status",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "success" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "6a5a4adb-de79-3126-b957-53c5038c6ba8",
          "maxBackoffPeriod" : "10 mins",
          "name" : "LogMessage",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 616.0,
            "y" : 64.0
          },
          "properties" : {
            "log-level" : "info"
          },
          "propertyDescriptors" : {
            "log-message" : {
              "displayName" : "Log message",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "log-message",
              "sensitive" : false
            },
            "log-level" : {
              "displayName" : "Log Level",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "log-level",
              "sensitive" : false
            },
            "log-prefix" : {
              "displayName" : "Log prefix",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "log-prefix",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ "success" ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.LogMessage",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "ff0f368b-e538-3388-b43c-2220ce765f9c",
          "identifier" : "e09da1f7-e5cb-39e8-bf95-1066e258c678",
          "maxBackoffPeriod" : "10 mins",
          "name" : "LuuFile",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 944.0,
            "y" : -232.0
          },
          "properties" : {
            "Create Missing Directories" : "true",
            "Directory" : "${stateBc.path}",
            "Conflict Resolution Strategy" : "replace"
          },
          "propertyDescriptors" : {
            "Group" : {
              "displayName" : "Group",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Group",
              "sensitive" : false
            },
            "Owner" : {
              "displayName" : "Owner",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Owner",
              "sensitive" : false
            },
            "Create Missing Directories" : {
              "displayName" : "Create Missing Directories",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Create Missing Directories",
              "sensitive" : false
            },
            "Permissions" : {
              "displayName" : "Permissions",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Permissions",
              "sensitive" : false
            },
            "Maximum File Count" : {
              "displayName" : "Maximum File Count",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum File Count",
              "sensitive" : false
            },
            "Last Modified Time" : {
              "displayName" : "Last Modified Time",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Last Modified Time",
              "sensitive" : false
            },
            "Directory" : {
              "displayName" : "Directory",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Directory",
              "sensitive" : false
            },
            "Conflict Resolution Strategy" : {
              "displayName" : "Conflict Resolution Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Conflict Resolution Strategy",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.PutFile",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      } ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-scripting-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
        "identifier" : "83c15698-98c3-3ff9-aab0-d78b98db480f",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LayTrangThai",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 616.0,
          "y" : -208.0
        },
        "properties" : {
          "Script Engine" : "Groovy",
          "Script Body" : "// Ly trng thi ca BC hin ti\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonBuilder\nimport java.nio.file.*\nimport java.time.Instant\nimport java.time.ZoneOffset\nimport java.time.format.DateTimeFormatter\nimport java.time.LocalDateTime\nimport java.time.LocalDate\nimport org.apache.nifi.processor.io.OutputStreamCallback\n\ndef flowFile = session.get()\nif (!flowFile) return\n\n// --- Helpers ---\nboolean isIntSafe(def v) {\n    if (v == null) return false\n    try { Integer.parseInt(v.toString()); return true } catch (ignored) { return false }\n}\n\n// Ly parameters t attributes (stateBc.*)\ndef etlName   = flowFile.getAttribute('stateBc.name')\ndef statePath = flowFile.getAttribute('stateBc.path')\ndef filename  = flowFile.getAttribute('stateBc.filename')\n\nif (!etlName || !statePath || !filename) {\n    log.error(\"Missing required attributes: stateBc.name, stateBc.path, or stateBc.filename\")\n    flowFile = session.putAttribute(flowFile, 'error.message', 'Missing stateBc.name, stateBc.path, or stateBc.filename attributes')\n    session.transfer(flowFile, REL_FAILURE)\n    return\n}\n\n// To ng dn y \ndef stateFilePath = Paths.get(statePath, filename).toString()\n\ntry {\n    def stateContent = \"\"\n    def stateExists = false\n\n    // Thi gian UTC & mc nh\n    def formatter = DateTimeFormatter.ofPattern(\"yyyy/MM/dd HH:mm:ss\")\n    def currentTimeUTC = Instant.now().atZone(ZoneOffset.UTC).format(formatter)\n    def defaultStartTime = \"2025/01/01 00:00:00\"\n\n    // State mc nh\n    def defaultState = [\n        name: etlName,\n        isActive: false,\n        lastExecutionTime: currentTimeUTC,\n        startTime: defaultStartTime,\n        endTime: currentTimeUTC,\n        sequenceNumber: 1, // ln chy u tin\n        status: 0,         // 0: khi to\n        message: \"\"        // trng\n    ]\n\n    // c file nu c\n    def path = Paths.get(stateFilePath)\n    if (Files.exists(path)) {\n        stateContent = new String(Files.readAllBytes(path), \"UTF-8\")\n        stateExists = true\n        log.info(\"stateBc file found for ETL '${etlName}' at '${stateFilePath}': ${stateContent}\")\n    } else {\n        stateContent = new JsonBuilder(defaultState).toString()\n        stateExists = false\n        log.info(\"stateBc file not found for ETL '${etlName}' at '${stateFilePath}', creating default content\")\n    }\n\n    // Parse JSON (fallback default nu li)\n    def jsonSlurper = new JsonSlurper()\n    Map state\n    try {\n        state = (Map) jsonSlurper.parseText(stateContent)\n    } catch (Throwable ex) {\n        log.warn(\"Invalid stateBc content, fallback to default. Error: ${ex.message}\")\n        state = new LinkedHashMap(defaultState)\n        stateExists = false\n    }\n\n    // Chun ho trng\n    state.name = etlName\n    state.isActive = (state.containsKey('isActive') && state.isActive != null) ? state.isActive as Boolean : false\n    state.lastExecutionTime = (state.lastExecutionTime ?: currentTimeUTC)\n    state.startTime = (state.startTime ?: defaultStartTime)\n    state.endTime = (state.endTime ?: currentTimeUTC)\n\n    // Gi tr hin hu  dng cho logic ca s mi\n    def oldEndTime = (state.endTime && state.endTime.toString().trim()) ? state.endTime.toString() : defaultStartTime\n\n    // sequenceNumber / status / message\n    Integer seq = 1\n    if (state.containsKey('sequenceNumber') && isIntSafe(state.sequenceNumber)) {\n        seq = (state.sequenceNumber as Integer)\n        if (seq <= 0) seq = 1\n    }\n    Integer prevStatus = 0\n    if (state.containsKey('status') && isIntSafe(state.status)) {\n        prevStatus = (state.status as Integer)\n    }\n    String msg = (state.containsKey('message') && state.message != null) ? (state.message as String) : \"\"\n\n    // --- LOGIC MI: to ca s ETL mi nu status = 0 hoc 2 ---\n    // Gii thch:\n    //  - 0 (khi to) hoc 2 (hon thnh) => ln ETL trc  kt thc bnh thng.\n    //  - startTime = endTime (c) vi gi pht giy 00:00:00 ; endTime = currentTimeUTC ; lastExecutionTime = endTime (c)\n    boolean shouldCreateNewWindow = stateExists && (prevStatus == 0 || prevStatus == 2)\n    if (shouldCreateNewWindow) {\n        // Parse oldEndTime v t li gi pht giy thnh 00:00:00\n        def newStartTime = oldEndTime\n        try {\n            def oldEndTimeParsed = LocalDateTime.parse(oldEndTime, formatter)\n            def dateOnly = oldEndTimeParsed.toLocalDate()\n            def startOfDay = dateOnly.atStartOfDay()\n            newStartTime = startOfDay.format(formatter)\n            log.info(\"stateBc: Parsed oldEndTime '${oldEndTime}' to start of day: '${newStartTime}'\")\n        } catch (Exception ex) {\n            log.warn(\"stateBc: Could not parse oldEndTime '${oldEndTime}', using as-is. Error: ${ex.message}\")\n            newStartTime = oldEndTime\n        }\n        \n        state.startTime = newStartTime\n        state.endTime = currentTimeUTC\n        log.info(\"stateBc: Create new ETL window: startTime=${state.startTime} (reset to 00:00:00), endTime=${state.endTime}, lastExecutionTime=${state.lastExecutionTime}\")\n    }\n\n    // Logic khi c t file c sn:\n    // - t status = 0\n    // - nu status c == 2 => tng sequenceNumber\n    // - message = \"\"\n    if (stateExists) {\n        if (prevStatus == 2) {\n            seq = seq + 1\n            log.info(\"stateBc: Previous status=2 (completed). Increase sequenceNumber to ${seq}\")\n        }\n        prevStatus = 0\n        msg = \"\"\n    } else {\n        // state mi\n        prevStatus = 0\n        msg = \"\"\n        seq = 1\n    }\n\n    // Gn li vo state\n    state.sequenceNumber = seq\n    state.status = prevStatus\n    state.message = msg\n\n    // Ghi attributes ra flowfile (prefix stateBc.*)\n    flowFile = session.putAttribute(flowFile, 'stateBc.exists', stateExists.toString())\n    flowFile = session.putAttribute(flowFile, 'stateBc.name', state.name.toString())\n    flowFile = session.putAttribute(flowFile, 'stateBc.isActive', state.isActive.toString())\n    flowFile = session.putAttribute(flowFile, 'stateBc.lastExecutionTime', state.lastExecutionTime.toString())\n    flowFile = session.putAttribute(flowFile, 'stateBc.startTime', state.startTime.toString())\n    flowFile = session.putAttribute(flowFile, 'stateBc.endTime', state.endTime.toString())\n    flowFile = session.putAttribute(flowFile, 'stateBc.sequenceNumber', state.sequenceNumber.toString())\n    flowFile = session.putAttribute(flowFile, 'stateBc.status', state.status.toString())\n    flowFile = session.putAttribute(flowFile, 'stateBc.message', state.message.toString())\n    flowFile = session.putAttribute(flowFile, 'stateBc.fullPath', stateFilePath)\n\n    // JSON content chun ho\n    def stateContentForFlowFile = [\n        name: state.name,\n        isActive: state.isActive,\n        lastExecutionTime: state.lastExecutionTime,\n        startTime: state.startTime,\n        endTime: state.endTime,\n        sequenceNumber: state.sequenceNumber,\n        status: state.status,\n        message: state.message\n    ]\n\n    // Ghi JSON stateBc vo flowFile content\n    def contentJson = new JsonBuilder(stateContentForFlowFile).toString()\n    flowFile = session.write(flowFile, { outputStream ->\n        outputStream.write(contentJson.getBytes(\"UTF-8\"))\n    } as OutputStreamCallback)\n\n    // Lu li JSON vo attribute\n    flowFile = session.putAttribute(flowFile, 'stateBc.content', contentJson)\n\n    session.transfer(flowFile, REL_SUCCESS)\n\n} catch (Exception e) {\n    log.error(\"Error reading stateBc file for ETL '${etlName}' at '${stateFilePath}': ${e.message}\", e)\n    flowFile = session.putAttribute(flowFile, 'error.message', e.getMessage())\n    session.transfer(flowFile, REL_FAILURE)\n}"
        },
        "propertyDescriptors" : {
          "Script File" : {
            "displayName" : "Script File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Script Engine" : {
            "displayName" : "Script Engine",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script Engine",
            "sensitive" : false
          },
          "Script Body" : {
            "displayName" : "Script Body",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script Body",
            "sensitive" : false
          },
          "Module Directory" : {
            "displayName" : "Module Directory",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Module Directory",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "FILE", "DIRECTORY" ]
            },
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.script.ExecuteScript",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "839fa540-f7ee-3d8b-8548-10da1d15d8ec",
        "identifier" : "5284e380-3c59-3e85-a2c8-68a9f7787248",
        "maxBackoffPeriod" : "10 mins",
        "name" : "KhoiTaoBc",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -98.10848017609499,
          "y" : -206.47323369608057
        },
        "properties" : {
          "stateBc.path" : "#{TempPath}${Path.Separator}${state.name}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "stateBc.name" : "${stateBc.id}",
          "stateBc.filename" : "state_${stateBc.id}.json"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "stateBc.path" : {
            "displayName" : "stateBc.path",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateBc.path",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "stateBc.name" : {
            "displayName" : "stateBc.name",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateBc.name",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "stateBc.filename" : {
            "displayName" : "stateBc.filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateBc.filename",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "ca8651c8-e1f0-3311-a645-037d40a4f100",
          "name" : "ReplaceText",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "fc9ec33e-c284-369e-b43f-1c5b47de1fc7",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "send" ],
        "source" : {
          "comments" : "",
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "e54fecc3-496e-3e34-96fc-60be7b18e1de",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 8
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "cd5c5f82-f616-34b8-8bc7-5ad5830c4e43",
          "name" : "GuiTinNhanTelegram",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "e11b554e-a4c2-31d7-b849-ca5a7bc136cc",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "ca8651c8-e1f0-3311-a645-037d40a4f100",
          "name" : "ReplaceText",
          "type" : "PROCESSOR"
        },
        "zIndex" : 7
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "e54fecc3-496e-3e34-96fc-60be7b18e1de",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "6dc9c5a8-c59a-338e-8180-d76903157bf4",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "4b8e2456-33ac-341d-baf3-0ec28ceea6bb",
          "name" : "LaythongtinTelegramCauHinh",
          "type" : "PROCESSOR"
        },
        "zIndex" : 6
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "e5867cbf-27c9-3d79-8db4-719de96bc460",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "2adc71f1-583b-3d2b-8c51-1352e9d4bf74",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "ca8651c8-e1f0-3311-a645-037d40a4f100",
          "name" : "ReplaceText",
          "type" : "PROCESSOR"
        },
        "zIndex" : 9
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "e5867cbf-27c9-3d79-8db4-719de96bc460",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "98c0aeaa-86fa-3af3-8e4f-47acea729334",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "Response", "Failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "cd5c5f82-f616-34b8-8bc7-5ad5830c4e43",
          "name" : "GuiTinNhanTelegram",
          "type" : "PROCESSOR"
        },
        "zIndex" : 5
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "4b8e2456-33ac-341d-baf3-0ec28ceea6bb",
          "name" : "LaythongtinTelegramCauHinh",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "7100ea51-931d-36f3-996f-141299e2a1bc",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
          "id" : "faeb6d0e-b3c6-3cef-8aff-75c540b24eed",
          "name" : "input",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 1
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "faeb6d0e-b3c6-3cef-8aff-75c540b24eed",
        "name" : "input",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -1056.0,
          "y" : -248.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "GuiThongBaoTelegram",
      "outputPorts" : [ ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : -320.0,
        "y" : 4448.0
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "e54fecc3-496e-3e34-96fc-60be7b18e1de",
        "maxBackoffPeriod" : "10 mins",
        "name" : "RouteOnAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -184.0,
          "y" : -288.0
        },
        "properties" : {
          "Routing Strategy" : "Route to Property name",
          "send" : "${telegram.enabled:equals('true')}"
        },
        "propertyDescriptors" : {
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "send" : {
            "displayName" : "send",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "send",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "e5867cbf-27c9-3d79-8db4-719de96bc460",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 224.0,
          "y" : 32.0
        },
        "properties" : {
          "log-level" : "info"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "4b8e2456-33ac-341d-baf3-0ec28ceea6bb",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LaythongtinTelegramCauHinh",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -656.0,
          "y" : -280.0
        },
        "properties" : {
          "telegram.botToken" : "#{BotToken}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "telegram.chatId" : "#{ChatId}",
          "telegram.enabled" : "#{Enabled}",
          "telegram.text" : " MESSAGE ALERT\n Application: NIFI\n Flow: ${state.name}\n SequenceNumber: ${state.sequenceNumber}\n Message: ${state.message}\n Time Query: ${state.startTime} - ${state.endTime}"
        },
        "propertyDescriptors" : {
          "telegram.botToken" : {
            "displayName" : "telegram.botToken",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "telegram.botToken",
            "sensitive" : false
          },
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "telegram.chatId" : {
            "displayName" : "telegram.chatId",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "telegram.chatId",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "telegram.enabled" : {
            "displayName" : "telegram.enabled",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "telegram.enabled",
            "sensitive" : false
          },
          "telegram.text" : {
            "displayName" : "telegram.text",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "telegram.text",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "ca8651c8-e1f0-3311-a645-037d40a4f100",
        "maxBackoffPeriod" : "10 mins",
        "name" : "ReplaceText",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 200.0,
          "y" : -288.0
        },
        "properties" : {
          "Regular Expression" : "(?s)^(.*)$",
          "Replacement Value" : "{\"chat_id\":\"#{ChatId}\",\"text\":\"${telegram.text}\"}",
          "Evaluation Mode" : "Entire text",
          "Line-by-Line Evaluation Mode" : "All",
          "Character Set" : "UTF-8",
          "Maximum Buffer Size" : "1 MB",
          "Replacement Strategy" : "Regex Replace"
        },
        "propertyDescriptors" : {
          "Regular Expression" : {
            "displayName" : "Search Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Regular Expression",
            "sensitive" : false
          },
          "Replacement Value" : {
            "displayName" : "Replacement Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Value",
            "sensitive" : false
          },
          "Evaluation Mode" : {
            "displayName" : "Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Evaluation Mode",
            "sensitive" : false
          },
          "Text to Prepend" : {
            "displayName" : "Text to Prepend",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Prepend",
            "sensitive" : false
          },
          "Line-by-Line Evaluation Mode" : {
            "displayName" : "Line-by-Line Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Line-by-Line Evaluation Mode",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Maximum Buffer Size" : {
            "displayName" : "Maximum Buffer Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Buffer Size",
            "sensitive" : false
          },
          "Replacement Strategy" : {
            "displayName" : "Replacement Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Strategy",
            "sensitive" : false
          },
          "Text to Append" : {
            "displayName" : "Text to Append",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Append",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ReplaceText",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "No Retry", "Retry", "Original" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "e4bdadf7-7700-3e41-b58f-7c34c5751e60",
        "identifier" : "cd5c5f82-f616-34b8-8bc7-5ad5830c4e43",
        "maxBackoffPeriod" : "10 mins",
        "name" : "GuiTinNhanTelegram",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 656.0,
          "y" : -296.0
        },
        "properties" : {
          "Request Content-Encoding" : "DISABLED",
          "Request Multipart Form-Data Filename Enabled" : "true",
          "Request Chunked Transfer-Encoding Enabled" : "false",
          "HTTP/2 Disabled" : "False",
          "Connection Timeout" : "30 secs",
          "Response Cookie Strategy" : "DISABLED",
          "Socket Read Timeout" : "15 secs",
          "Socket Idle Connections" : "5",
          "Request Body Enabled" : "true",
          "OAuth2 Access Token Refresh Strategy" : "ON_TOKEN_EXPIRATION",
          "HTTP URL" : "https://api.telegram.org/bot#{BotToken}/sendMessage",
          "Socket Idle Timeout" : "5 mins",
          "Response Redirects Enabled" : "True",
          "Socket Write Timeout" : "15 secs",
          "Response FlowFile Naming Strategy" : "RANDOM",
          "Response Cache Enabled" : "false",
          "Request Date Header Enabled" : "True",
          "Request Failure Penalization Enabled" : "false",
          "Response Body Attribute Size" : "256",
          "Response Generation Required" : "false",
          "Response Header Request Attributes Enabled" : "false",
          "HTTP Method" : "POST",
          "Request Content-Type" : "application/json",
          "Request Digest Authentication Enabled" : "false",
          "Response Cache Size" : "10MB",
          "Response Body Ignored" : "false"
        },
        "propertyDescriptors" : {
          "Request Content-Encoding" : {
            "displayName" : "Request Content-Encoding",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Content-Encoding",
            "sensitive" : false
          },
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Request Multipart Form-Data Filename Enabled" : {
            "displayName" : "Request Multipart Form-Data Filename Enabled",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Multipart Form-Data Filename Enabled",
            "sensitive" : false
          },
          "Request Chunked Transfer-Encoding Enabled" : {
            "displayName" : "Request Chunked Transfer-Encoding Enabled",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Chunked Transfer-Encoding Enabled",
            "sensitive" : false
          },
          "Response Header Request Attributes Prefix" : {
            "displayName" : "Response Header Request Attributes Prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response Header Request Attributes Prefix",
            "sensitive" : false
          },
          "HTTP/2 Disabled" : {
            "displayName" : "HTTP/2 Disabled",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "HTTP/2 Disabled",
            "sensitive" : false
          },
          "Connection Timeout" : {
            "displayName" : "Connection Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connection Timeout",
            "sensitive" : false
          },
          "Response Cookie Strategy" : {
            "displayName" : "Response Cookie Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response Cookie Strategy",
            "sensitive" : false
          },
          "Request Password" : {
            "displayName" : "Request Password",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Password",
            "sensitive" : true
          },
          "Socket Read Timeout" : {
            "displayName" : "Socket Read Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Socket Read Timeout",
            "sensitive" : false
          },
          "Socket Idle Connections" : {
            "displayName" : "Socket Idle Connections",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Socket Idle Connections",
            "sensitive" : false
          },
          "Request Body Enabled" : {
            "displayName" : "Request Body Enabled",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Body Enabled",
            "sensitive" : false
          },
          "OAuth2 Access Token Refresh Strategy" : {
            "displayName" : "OAuth2 Access Token Refresh Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "OAuth2 Access Token Refresh Strategy",
            "sensitive" : false
          },
          "HTTP URL" : {
            "displayName" : "HTTP URL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "HTTP URL",
            "sensitive" : false
          },
          "Request OAuth2 Access Token Provider" : {
            "displayName" : "Request OAuth2 Access Token Provider",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Request OAuth2 Access Token Provider",
            "sensitive" : false
          },
          "Socket Idle Timeout" : {
            "displayName" : "Socket Idle Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Socket Idle Timeout",
            "sensitive" : false
          },
          "Response Redirects Enabled" : {
            "displayName" : "Response Redirects Enabled",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response Redirects Enabled",
            "sensitive" : false
          },
          "Socket Write Timeout" : {
            "displayName" : "Socket Write Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Socket Write Timeout",
            "sensitive" : false
          },
          "Request Header Attributes Pattern" : {
            "displayName" : "Request Header Attributes Pattern",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Header Attributes Pattern",
            "sensitive" : false
          },
          "Response FlowFile Naming Strategy" : {
            "displayName" : "Response FlowFile Naming Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response FlowFile Naming Strategy",
            "sensitive" : false
          },
          "Response Cache Enabled" : {
            "displayName" : "Response Cache Enabled",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response Cache Enabled",
            "sensitive" : false
          },
          "Request Date Header Enabled" : {
            "displayName" : "Request Date Header Enabled",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Date Header Enabled",
            "sensitive" : false
          },
          "Request Failure Penalization Enabled" : {
            "displayName" : "Request Failure Penalization Enabled",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Failure Penalization Enabled",
            "sensitive" : false
          },
          "Response Body Attribute Size" : {
            "displayName" : "Response Body Attribute Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response Body Attribute Size",
            "sensitive" : false
          },
          "SSL Context Service" : {
            "displayName" : "SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "SSL Context Service",
            "sensitive" : false
          },
          "Response Generation Required" : {
            "displayName" : "Response Generation Required",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response Generation Required",
            "sensitive" : false
          },
          "Request User-Agent" : {
            "displayName" : "Request User-Agent",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request User-Agent",
            "sensitive" : false
          },
          "Response Header Request Attributes Enabled" : {
            "displayName" : "Response Header Request Attributes Enabled",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response Header Request Attributes Enabled",
            "sensitive" : false
          },
          "HTTP Method" : {
            "displayName" : "HTTP Method",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "HTTP Method",
            "sensitive" : false
          },
          "Request Username" : {
            "displayName" : "Request Username",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Username",
            "sensitive" : false
          },
          "Request Content-Type" : {
            "displayName" : "Request Content-Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Content-Type",
            "sensitive" : false
          },
          "Response Body Attribute Name" : {
            "displayName" : "Response Body Attribute Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response Body Attribute Name",
            "sensitive" : false
          },
          "Request Digest Authentication Enabled" : {
            "displayName" : "Request Digest Authentication Enabled",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Digest Authentication Enabled",
            "sensitive" : false
          },
          "Request Multipart Form-Data Name" : {
            "displayName" : "Request Multipart Form-Data Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Request Multipart Form-Data Name",
            "sensitive" : false
          },
          "Response Cache Size" : {
            "displayName" : "Response Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response Cache Size",
            "sensitive" : false
          },
          "Response Body Ignored" : {
            "displayName" : "Response Body Ignored",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response Body Ignored",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "f5f2807c-268d-3acf-b7e9-bfd43e91b0b9",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "4bf1a363-21a8-3654-a743-7c3f2e8e8e6e",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "8e5542f9-f954-3407-81f7-ea153335014e",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "zIndex" : 42
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "ae3aaa6c-498b-35df-94c5-98e069e78b1e",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "720e4843-2fba-3953-8afb-7ce5283bb061",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "9d418917-e421-355f-98e7-2dafee79993e",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 46
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "8e5542f9-f954-3407-81f7-ea153335014e",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "2197a426-63b5-3a9e-91d5-eb1b8d858bd7",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "8727abc1-2aac-3da1-ad15-00bc379061e3",
          "name" : "TrangThai",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 41
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "bae68986-02d4-395e-8437-e4415d8a4401",
          "name" : "stateOut",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "f6edbc07-8c4d-365e-b268-2900f004fd5c",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "9d418917-e421-355f-98e7-2dafee79993e",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 47
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "9d418917-e421-355f-98e7-2dafee79993e",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "bf6c6442-224f-3c95-8cc4-b35975b4c68d",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "f5f2807c-268d-3acf-b7e9-bfd43e91b0b9",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 43
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "ae3aaa6c-498b-35df-94c5-98e069e78b1e",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "84be2a57-4245-34fa-9846-6a4b1a4b30d7",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
          "id" : "f5f2807c-268d-3acf-b7e9-bfd43e91b0b9",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 44
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "8727abc1-2aac-3da1-ad15-00bc379061e3",
        "name" : "TrangThai",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -488.0,
          "y" : -176.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "LuuTrangThaiETL",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "bae68986-02d4-395e-8437-e4415d8a4401",
        "name" : "stateOut",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 1464.0,
          "y" : -200.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : -328.0,
        "y" : 664.0
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "8e5542f9-f954-3407-81f7-ea153335014e",
        "maxBackoffPeriod" : "10 mins",
        "name" : "ChuanHoa",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 16.0,
          "y" : -224.0
        },
        "properties" : {
          "filename" : "${state.filename}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "state.lastExecutionTime" : "${now():format(\"yyyy-MM-dd HH:mm:ss\", \"UTC\")}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "state.lastExecutionTime" : {
            "displayName" : "state.lastExecutionTime",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.lastExecutionTime",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "ae3aaa6c-498b-35df-94c5-98e069e78b1e",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 616.0,
          "y" : 64.0
        },
        "properties" : {
          "log-level" : "info"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ "success" ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "f5f2807c-268d-3acf-b7e9-bfd43e91b0b9",
        "maxBackoffPeriod" : "10 mins",
        "name" : "CapNhatToContent",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 424.0,
          "y" : -232.0
        },
        "properties" : {
          "Regular Expression" : "(?s)(^.*$)",
          "Replacement Value" : "{\n  \"name\": \"${state.name}\",\n  \"isActive\": ${state.isActive},\n  \"lastExecutionTime\": \"${state.lastExecutionTime}\",\n  \"startTime\": \"${state.startTime}\",\n  \"endTime\": \"${state.endTime}\",\n  \"status\": \"${state.status}\",\n  \"sequenceNumber\": \"${state.sequenceNumber}\",\n  \"message\": \"${state.message}\"\n}",
          "Evaluation Mode" : "Entire text",
          "Line-by-Line Evaluation Mode" : "All",
          "Character Set" : "UTF-8",
          "Maximum Buffer Size" : "1 MB",
          "Replacement Strategy" : "Always Replace"
        },
        "propertyDescriptors" : {
          "Regular Expression" : {
            "displayName" : "Search Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Regular Expression",
            "sensitive" : false
          },
          "Replacement Value" : {
            "displayName" : "Replacement Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Value",
            "sensitive" : false
          },
          "Evaluation Mode" : {
            "displayName" : "Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Evaluation Mode",
            "sensitive" : false
          },
          "Text to Prepend" : {
            "displayName" : "Text to Prepend",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Prepend",
            "sensitive" : false
          },
          "Line-by-Line Evaluation Mode" : {
            "displayName" : "Line-by-Line Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Line-by-Line Evaluation Mode",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Maximum Buffer Size" : {
            "displayName" : "Maximum Buffer Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Buffer Size",
            "sensitive" : false
          },
          "Replacement Strategy" : {
            "displayName" : "Replacement Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Strategy",
            "sensitive" : false
          },
          "Text to Append" : {
            "displayName" : "Text to Append",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Append",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ReplaceText",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "1c9d12f7-9db7-399f-84bb-aa9bef389bfa",
        "identifier" : "9d418917-e421-355f-98e7-2dafee79993e",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LuuFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 944.0,
          "y" : -232.0
        },
        "properties" : {
          "Create Missing Directories" : "true",
          "Directory" : "${state.path}",
          "Conflict Resolution Strategy" : "replace"
        },
        "propertyDescriptors" : {
          "Group" : {
            "displayName" : "Group",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Group",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "Create Missing Directories" : {
            "displayName" : "Create Missing Directories",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Create Missing Directories",
            "sensitive" : false
          },
          "Permissions" : {
            "displayName" : "Permissions",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Permissions",
            "sensitive" : false
          },
          "Maximum File Count" : {
            "displayName" : "Maximum File Count",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum File Count",
            "sensitive" : false
          },
          "Last Modified Time" : {
            "displayName" : "Last Modified Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Last Modified Time",
            "sensitive" : false
          },
          "Directory" : {
            "displayName" : "Directory",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Directory",
            "sensitive" : false
          },
          "Conflict Resolution Strategy" : {
            "displayName" : "Conflict Resolution Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Conflict Resolution Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.PutFile",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
          "id" : "e4543520-73b8-3af8-80a9-c47ccf78dbf7",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "ae06f9d6-4c5c-3304-a9ae-368e61200c2d",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
          "id" : "8d9b3bcb-b541-3701-8de3-eb450d49a9e4",
          "name" : "TrangThai",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 41
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
          "id" : "1d380dfe-f595-3d32-bfed-e0426aac0f26",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "bfabe19f-36fd-3ef7-bad7-7b5362988dce",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
          "id" : "a78e0ced-bb00-3e6e-ba8c-83b6003b6068",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 44
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
          "id" : "ae6e9435-0653-34a8-b8af-7ad80f4648ac",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "c3c3e127-e499-3eb2-8991-33b59772a161",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
          "id" : "a78e0ced-bb00-3e6e-ba8c-83b6003b6068",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 43
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
          "id" : "1d380dfe-f595-3d32-bfed-e0426aac0f26",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "2306cc2f-4821-3839-ad8d-307806c2c087",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
          "id" : "ae6e9435-0653-34a8-b8af-7ad80f4648ac",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 46
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
          "id" : "a78e0ced-bb00-3e6e-ba8c-83b6003b6068",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "1da4280f-9fa7-31f9-8833-020e8269382e",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
          "id" : "e4543520-73b8-3af8-80a9-c47ccf78dbf7",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "zIndex" : 42
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "id" : "87c2387d-feb5-31ec-9270-3a277cc5a983",
          "name" : "input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "a627e49e-d717-3840-a276-ee051db05285",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
          "id" : "ae6e9435-0653-34a8-b8af-7ad80f4648ac",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 47
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "8d9b3bcb-b541-3701-8de3-eb450d49a9e4",
        "name" : "TrangThai",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -488.0,
          "y" : -176.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "ETL_Error",
      "outputPorts" : [ ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : -824.0,
        "y" : 1320.0
      },
      "processGroups" : [ {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "d36b50c5-6045-3aef-9616-64f35543ba51",
            "name" : "LogMessage",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "046ba5b5-68e1-3d16-a35c-e41d5dd9fc1c",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "Response", "Failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "8270873e-5c57-3133-85da-ef881934a609",
            "name" : "GuiTinNhanTelegram",
            "type" : "PROCESSOR"
          },
          "zIndex" : 5
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "d36b50c5-6045-3aef-9616-64f35543ba51",
            "name" : "LogMessage",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "750cb552-e1f9-3d50-8e8a-05a2d0fda29c",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "27be98d3-4230-3054-8d19-f587b1621221",
            "name" : "ReplaceText",
            "type" : "PROCESSOR"
          },
          "zIndex" : 9
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "27be98d3-4230-3054-8d19-f587b1621221",
            "name" : "ReplaceText",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "386d944f-083f-3725-a1f7-5c08d44590d8",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "send" ],
          "source" : {
            "comments" : "",
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "da226086-4acd-3792-b822-8175740f07de",
            "name" : "RouteOnAttribute",
            "type" : "PROCESSOR"
          },
          "zIndex" : 8
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "da226086-4acd-3792-b822-8175740f07de",
            "name" : "RouteOnAttribute",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "d2886910-c243-38fc-a85a-9b6a74b95d8b",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "97fe2bf5-8b77-3fdc-8dfa-79c5b287ea1b",
            "name" : "LaythongtinTelegramCauHinh",
            "type" : "PROCESSOR"
          },
          "zIndex" : 6
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "97fe2bf5-8b77-3fdc-8dfa-79c5b287ea1b",
            "name" : "LaythongtinTelegramCauHinh",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "7951fd2d-a975-365e-8a92-cd658bae853c",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "87c2387d-feb5-31ec-9270-3a277cc5a983",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 1
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "8270873e-5c57-3133-85da-ef881934a609",
            "name" : "GuiTinNhanTelegram",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "fc0355c2-dac4-3e51-9c4d-ba28dae633d8",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
            "id" : "27be98d3-4230-3054-8d19-f587b1621221",
            "name" : "ReplaceText",
            "type" : "PROCESSOR"
          },
          "zIndex" : 7
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ ],
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "87c2387d-feb5-31ec-9270-3a277cc5a983",
          "name" : "input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -1056.0,
            "y" : -248.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "GuiThongBaoTelegram",
        "outputPorts" : [ ],
        "parameterContextName" : "ETL",
        "position" : {
          "x" : 1432.0,
          "y" : -272.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "27be98d3-4230-3054-8d19-f587b1621221",
          "maxBackoffPeriod" : "10 mins",
          "name" : "ReplaceText",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 200.0,
            "y" : -288.0
          },
          "properties" : {
            "Regular Expression" : "(?s)^(.*)$",
            "Replacement Value" : "{\"chat_id\":\"#{ChatId}\",\"text\":\"${telegram.text}\"}",
            "Evaluation Mode" : "Entire text",
            "Line-by-Line Evaluation Mode" : "All",
            "Character Set" : "UTF-8",
            "Maximum Buffer Size" : "1 MB",
            "Replacement Strategy" : "Regex Replace"
          },
          "propertyDescriptors" : {
            "Regular Expression" : {
              "displayName" : "Search Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Regular Expression",
              "sensitive" : false
            },
            "Replacement Value" : {
              "displayName" : "Replacement Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Replacement Value",
              "sensitive" : false
            },
            "Evaluation Mode" : {
              "displayName" : "Evaluation Mode",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Evaluation Mode",
              "sensitive" : false
            },
            "Text to Prepend" : {
              "displayName" : "Text to Prepend",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Text to Prepend",
              "sensitive" : false
            },
            "Line-by-Line Evaluation Mode" : {
              "displayName" : "Line-by-Line Evaluation Mode",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Line-by-Line Evaluation Mode",
              "sensitive" : false
            },
            "Character Set" : {
              "displayName" : "Character Set",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Character Set",
              "sensitive" : false
            },
            "Maximum Buffer Size" : {
              "displayName" : "Maximum Buffer Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum Buffer Size",
              "sensitive" : false
            },
            "Replacement Strategy" : {
              "displayName" : "Replacement Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Replacement Strategy",
              "sensitive" : false
            },
            "Text to Append" : {
              "displayName" : "Text to Append",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Text to Append",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.ReplaceText",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "unmatched" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "da226086-4acd-3792-b822-8175740f07de",
          "maxBackoffPeriod" : "10 mins",
          "name" : "RouteOnAttribute",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -184.0,
            "y" : -288.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "send" : "${telegram.enabled:equals('true')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "send" : {
              "displayName" : "send",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "send",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "No Retry", "Retry", "Original" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "8270873e-5c57-3133-85da-ef881934a609",
          "maxBackoffPeriod" : "10 mins",
          "name" : "GuiTinNhanTelegram",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 656.0,
            "y" : -296.0
          },
          "properties" : {
            "Request Content-Encoding" : "DISABLED",
            "Request Multipart Form-Data Filename Enabled" : "true",
            "Request Chunked Transfer-Encoding Enabled" : "false",
            "HTTP/2 Disabled" : "False",
            "Connection Timeout" : "30 secs",
            "Response Cookie Strategy" : "DISABLED",
            "Socket Read Timeout" : "15 secs",
            "Socket Idle Connections" : "5",
            "Request Body Enabled" : "true",
            "OAuth2 Access Token Refresh Strategy" : "ON_TOKEN_EXPIRATION",
            "HTTP URL" : "https://api.telegram.org/bot#{BotToken}/sendMessage",
            "Socket Idle Timeout" : "5 mins",
            "Response Redirects Enabled" : "True",
            "Socket Write Timeout" : "15 secs",
            "Response FlowFile Naming Strategy" : "RANDOM",
            "Response Cache Enabled" : "false",
            "Request Date Header Enabled" : "True",
            "Request Failure Penalization Enabled" : "false",
            "Response Body Attribute Size" : "256",
            "Response Generation Required" : "false",
            "Response Header Request Attributes Enabled" : "false",
            "HTTP Method" : "POST",
            "Request Content-Type" : "application/json",
            "Request Digest Authentication Enabled" : "false",
            "Response Cache Size" : "10MB",
            "Response Body Ignored" : "false"
          },
          "propertyDescriptors" : {
            "Request Content-Encoding" : {
              "displayName" : "Request Content-Encoding",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Content-Encoding",
              "sensitive" : false
            },
            "proxy-configuration-service" : {
              "displayName" : "Proxy Configuration Service",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "proxy-configuration-service",
              "sensitive" : false
            },
            "Request Multipart Form-Data Filename Enabled" : {
              "displayName" : "Request Multipart Form-Data Filename Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Multipart Form-Data Filename Enabled",
              "sensitive" : false
            },
            "Request Chunked Transfer-Encoding Enabled" : {
              "displayName" : "Request Chunked Transfer-Encoding Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Chunked Transfer-Encoding Enabled",
              "sensitive" : false
            },
            "Response Header Request Attributes Prefix" : {
              "displayName" : "Response Header Request Attributes Prefix",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Header Request Attributes Prefix",
              "sensitive" : false
            },
            "HTTP/2 Disabled" : {
              "displayName" : "HTTP/2 Disabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "HTTP/2 Disabled",
              "sensitive" : false
            },
            "Connection Timeout" : {
              "displayName" : "Connection Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Connection Timeout",
              "sensitive" : false
            },
            "Response Cookie Strategy" : {
              "displayName" : "Response Cookie Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Cookie Strategy",
              "sensitive" : false
            },
            "Request Password" : {
              "displayName" : "Request Password",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Password",
              "sensitive" : true
            },
            "Socket Read Timeout" : {
              "displayName" : "Socket Read Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Socket Read Timeout",
              "sensitive" : false
            },
            "Socket Idle Connections" : {
              "displayName" : "Socket Idle Connections",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Socket Idle Connections",
              "sensitive" : false
            },
            "Request Body Enabled" : {
              "displayName" : "Request Body Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Body Enabled",
              "sensitive" : false
            },
            "OAuth2 Access Token Refresh Strategy" : {
              "displayName" : "OAuth2 Access Token Refresh Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "OAuth2 Access Token Refresh Strategy",
              "sensitive" : false
            },
            "HTTP URL" : {
              "displayName" : "HTTP URL",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "HTTP URL",
              "sensitive" : false
            },
            "Request OAuth2 Access Token Provider" : {
              "displayName" : "Request OAuth2 Access Token Provider",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Request OAuth2 Access Token Provider",
              "sensitive" : false
            },
            "Socket Idle Timeout" : {
              "displayName" : "Socket Idle Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Socket Idle Timeout",
              "sensitive" : false
            },
            "Response Redirects Enabled" : {
              "displayName" : "Response Redirects Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Redirects Enabled",
              "sensitive" : false
            },
            "Socket Write Timeout" : {
              "displayName" : "Socket Write Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Socket Write Timeout",
              "sensitive" : false
            },
            "Request Header Attributes Pattern" : {
              "displayName" : "Request Header Attributes Pattern",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Header Attributes Pattern",
              "sensitive" : false
            },
            "Response FlowFile Naming Strategy" : {
              "displayName" : "Response FlowFile Naming Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response FlowFile Naming Strategy",
              "sensitive" : false
            },
            "Response Cache Enabled" : {
              "displayName" : "Response Cache Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Cache Enabled",
              "sensitive" : false
            },
            "Request Date Header Enabled" : {
              "displayName" : "Request Date Header Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Date Header Enabled",
              "sensitive" : false
            },
            "Request Failure Penalization Enabled" : {
              "displayName" : "Request Failure Penalization Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Failure Penalization Enabled",
              "sensitive" : false
            },
            "Response Body Attribute Size" : {
              "displayName" : "Response Body Attribute Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Body Attribute Size",
              "sensitive" : false
            },
            "SSL Context Service" : {
              "displayName" : "SSL Context Service",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "SSL Context Service",
              "sensitive" : false
            },
            "Response Generation Required" : {
              "displayName" : "Response Generation Required",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Generation Required",
              "sensitive" : false
            },
            "Request User-Agent" : {
              "displayName" : "Request User-Agent",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request User-Agent",
              "sensitive" : false
            },
            "Response Header Request Attributes Enabled" : {
              "displayName" : "Response Header Request Attributes Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Header Request Attributes Enabled",
              "sensitive" : false
            },
            "HTTP Method" : {
              "displayName" : "HTTP Method",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "HTTP Method",
              "sensitive" : false
            },
            "Request Username" : {
              "displayName" : "Request Username",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Username",
              "sensitive" : false
            },
            "Request Content-Type" : {
              "displayName" : "Request Content-Type",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Content-Type",
              "sensitive" : false
            },
            "Response Body Attribute Name" : {
              "displayName" : "Response Body Attribute Name",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Body Attribute Name",
              "sensitive" : false
            },
            "Request Digest Authentication Enabled" : {
              "displayName" : "Request Digest Authentication Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Digest Authentication Enabled",
              "sensitive" : false
            },
            "Request Multipart Form-Data Name" : {
              "displayName" : "Request Multipart Form-Data Name",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Multipart Form-Data Name",
              "sensitive" : false
            },
            "Response Cache Size" : {
              "displayName" : "Response Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Cache Size",
              "sensitive" : false
            },
            "Response Body Ignored" : {
              "displayName" : "Response Body Ignored",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Body Ignored",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "success" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "d36b50c5-6045-3aef-9616-64f35543ba51",
          "maxBackoffPeriod" : "10 mins",
          "name" : "LogMessage",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 224.0,
            "y" : 32.0
          },
          "properties" : {
            "log-level" : "info"
          },
          "propertyDescriptors" : {
            "log-message" : {
              "displayName" : "Log message",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "log-message",
              "sensitive" : false
            },
            "log-level" : {
              "displayName" : "Log Level",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "log-level",
              "sensitive" : false
            },
            "log-prefix" : {
              "displayName" : "Log prefix",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "log-prefix",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.LogMessage",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "ea9f56fd-2337-3253-87b0-6ef821975b54",
          "identifier" : "97fe2bf5-8b77-3fdc-8dfa-79c5b287ea1b",
          "maxBackoffPeriod" : "10 mins",
          "name" : "LaythongtinTelegramCauHinh",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -656.0,
            "y" : -280.0
          },
          "properties" : {
            "telegram.botToken" : "#{BotToken}",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "telegram.chatId" : "#{ChatId}",
            "telegram.enabled" : "#{Enabled}",
            "telegram.text" : " MESSAGE ALERT\n Application: NIFI\n Flow: ${state.name}\n Message: ${state.message}"
          },
          "propertyDescriptors" : {
            "telegram.botToken" : {
              "displayName" : "telegram.botToken",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "telegram.botToken",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "telegram.chatId" : {
              "displayName" : "telegram.chatId",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "telegram.chatId",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            },
            "telegram.enabled" : {
              "displayName" : "telegram.enabled",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "telegram.enabled",
              "sensitive" : false
            },
            "telegram.text" : {
              "displayName" : "telegram.text",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "telegram.text",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      } ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "e4543520-73b8-3af8-80a9-c47ccf78dbf7",
        "maxBackoffPeriod" : "10 mins",
        "name" : "ChuanHoa",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 16.0,
          "y" : -224.0
        },
        "properties" : {
          "state.message" : "Li khi duyt tng BC",
          "filename" : "${state.filename}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "state.status" : "3",
          "state.isActive" : "false",
          "state.lastExecutionTime" : "${now():format(\"yyyy-MM-dd HH:mm:ss\", \"UTC\")}"
        },
        "propertyDescriptors" : {
          "state.message" : {
            "displayName" : "state.message",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.message",
            "sensitive" : false
          },
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "state.status" : {
            "displayName" : "state.status",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.status",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "state.isActive" : {
            "displayName" : "state.isActive",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.isActive",
            "sensitive" : false
          },
          "state.lastExecutionTime" : {
            "displayName" : "state.lastExecutionTime",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.lastExecutionTime",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "a78e0ced-bb00-3e6e-ba8c-83b6003b6068",
        "maxBackoffPeriod" : "10 mins",
        "name" : "CapNhatToContent",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 424.0,
          "y" : -232.0
        },
        "properties" : {
          "Regular Expression" : "(?s)(^.*$)",
          "Replacement Value" : "{\n  \"name\": \"${state.name}\",\n  \"isActive\": ${state.isActive},\n  \"lastExecutionTime\": \"${state.lastExecutionTime}\",\n  \"startTime\": \"${state.startTime}\",\n  \"endTime\": \"${state.endTime}\",\n  \"status\": \"${state.status}\",\n  \"sequenceNumber\": \"${state.sequenceNumber}\",\n  \"message\": \"${state.message}\"\n}",
          "Evaluation Mode" : "Entire text",
          "Line-by-Line Evaluation Mode" : "All",
          "Character Set" : "UTF-8",
          "Maximum Buffer Size" : "1 MB",
          "Replacement Strategy" : "Always Replace"
        },
        "propertyDescriptors" : {
          "Regular Expression" : {
            "displayName" : "Search Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Regular Expression",
            "sensitive" : false
          },
          "Replacement Value" : {
            "displayName" : "Replacement Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Value",
            "sensitive" : false
          },
          "Evaluation Mode" : {
            "displayName" : "Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Evaluation Mode",
            "sensitive" : false
          },
          "Text to Prepend" : {
            "displayName" : "Text to Prepend",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Prepend",
            "sensitive" : false
          },
          "Line-by-Line Evaluation Mode" : {
            "displayName" : "Line-by-Line Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Line-by-Line Evaluation Mode",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Maximum Buffer Size" : {
            "displayName" : "Maximum Buffer Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Buffer Size",
            "sensitive" : false
          },
          "Replacement Strategy" : {
            "displayName" : "Replacement Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Strategy",
            "sensitive" : false
          },
          "Text to Append" : {
            "displayName" : "Text to Append",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Append",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ReplaceText",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "1d380dfe-f595-3d32-bfed-e0426aac0f26",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 616.0,
          "y" : 64.0
        },
        "properties" : {
          "log-level" : "info"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ "success" ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4be41f2e-790e-3f8a-8af1-06cb5a6ee814",
        "identifier" : "ae6e9435-0653-34a8-b8af-7ad80f4648ac",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LuuFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 904.0,
          "y" : -240.0
        },
        "properties" : {
          "Create Missing Directories" : "true",
          "Directory" : "${state.path}",
          "Conflict Resolution Strategy" : "replace"
        },
        "propertyDescriptors" : {
          "Group" : {
            "displayName" : "Group",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Group",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "Create Missing Directories" : {
            "displayName" : "Create Missing Directories",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Create Missing Directories",
            "sensitive" : false
          },
          "Permissions" : {
            "displayName" : "Permissions",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Permissions",
            "sensitive" : false
          },
          "Maximum File Count" : {
            "displayName" : "Maximum File Count",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum File Count",
            "sensitive" : false
          },
          "Last Modified Time" : {
            "displayName" : "Last Modified Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Last Modified Time",
            "sensitive" : false
          },
          "Directory" : {
            "displayName" : "Directory",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Directory",
            "sensitive" : false
          },
          "Conflict Resolution Strategy" : {
            "displayName" : "Conflict Resolution Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Conflict Resolution Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.PutFile",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "Ly danh sch AddAccount ca BC hin ti  tin hnh ETL",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "20d634d4-d890-3bf3-b646-dec37cee63e2",
          "name" : "LayDsAdAccount",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "3c58bf9d-ad9d-35d2-b1e7-16af1887ef78",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "bf38f094-cb93-3bd2-8b6e-6758ce286589",
          "name" : "KhoiTaoLayDanhSach",
          "type" : "PROCESSOR"
        },
        "zIndex" : 7
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "bf38f094-cb93-3bd2-8b6e-6758ce286589",
          "name" : "KhoiTaoLayDanhSach",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "d7c4dadb-9810-3eae-b4ee-b1a97fec95ad",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "8491e28e-fba8-35ba-b964-9646fc3f633c",
          "name" : "input",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 6
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "dec2f995-e356-331b-a995-a0e647e8bac6",
          "name" : "MapNoiDungLenAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "c0c01131-ff71-3ed3-92fe-80554d22892b",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "0690cdef-ba03-393c-9b81-4a79e7a2809a",
          "name" : "Data to JSON",
          "type" : "PROCESSOR"
        },
        "zIndex" : 9
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "a8fde5dc-ffb6-38c4-9c7b-c680e2243820",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "58effe07-cbae-3cb8-a525-ce651238d7ea",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "dec2f995-e356-331b-a995-a0e647e8bac6",
          "name" : "MapNoiDungLenAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 4
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "2a880b55-fa94-3d08-98dd-9a3ee65fc2a3",
          "name" : "Output",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "8048164e-cfd0-3e7c-aeff-dd024762b0b7",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "cb30825d-45f8-3e06-b1e1-63fce7ce6134",
          "name" : "ChuanHoaIdsQuerySql",
          "type" : "PROCESSOR"
        },
        "zIndex" : 12
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "4a91a3de-d3e6-35c9-84de-319fa0cb1835",
          "name" : "PutFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "e7ddbdd5-f325-3856-bb9b-dacaa3a55310",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "matched", "unmatched" ],
        "source" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "dec2f995-e356-331b-a995-a0e647e8bac6",
          "name" : "MapNoiDungLenAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 10
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "cb30825d-45f8-3e06-b1e1-63fce7ce6134",
          "name" : "ChuanHoaIdsQuerySql",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "72450f50-9194-3a37-82f4-ec9898593a71",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "4a91a3de-d3e6-35c9-84de-319fa0cb1835",
          "name" : "PutFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 11
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "a8fde5dc-ffb6-38c4-9c7b-c680e2243820",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "889aeb38-0263-32e7-aa3d-0f078ee37de4",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "Ly danh sch AddAccount ca BC hin ti  tin hnh ETL",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "20d634d4-d890-3bf3-b646-dec37cee63e2",
          "name" : "LayDsAdAccount",
          "type" : "PROCESSOR"
        },
        "zIndex" : 2
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "a8fde5dc-ffb6-38c4-9c7b-c680e2243820",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "7fe8d7c1-c9bc-3d15-9ab5-35fdeb7f7759",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "4a91a3de-d3e6-35c9-84de-319fa0cb1835",
          "name" : "PutFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 5
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "a8fde5dc-ffb6-38c4-9c7b-c680e2243820",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "a4c056e1-acfb-3224-8274-cfbb52b50f13",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "0690cdef-ba03-393c-9b81-4a79e7a2809a",
          "name" : "Data to JSON",
          "type" : "PROCESSOR"
        },
        "zIndex" : 3
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "0690cdef-ba03-393c-9b81-4a79e7a2809a",
          "name" : "Data to JSON",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "954bb856-b4ca-3cf9-89e9-cc17c002f668",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "Ly danh sch AddAccount ca BC hin ti  tin hnh ETL",
          "groupId" : "1978057b-014c-3443-8c20-acc754f675d3",
          "id" : "20d634d4-d890-3bf3-b646-dec37cee63e2",
          "name" : "LayDsAdAccount",
          "type" : "PROCESSOR"
        },
        "zIndex" : 8
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "1978057b-014c-3443-8c20-acc754f675d3",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "8491e28e-fba8-35ba-b964-9646fc3f633c",
        "name" : "input",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -197.99999300009608,
          "y" : -140.22743665980602
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "LayDanhSachAdAccountTheoBC",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "2a880b55-fa94-3d08-98dd-9a3ee65fc2a3",
        "name" : "Output",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 1384.0,
          "y" : 448.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : -328.0,
        "y" : 2696.0
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "4a91a3de-d3e6-35c9-84de-319fa0cb1835",
        "maxBackoffPeriod" : "10 mins",
        "name" : "PutFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 1344.0,
          "y" : 40.0
        },
        "properties" : {
          "Create Missing Directories" : "true",
          "Directory" : "${stateAdAccounts.path}",
          "Conflict Resolution Strategy" : "replace"
        },
        "propertyDescriptors" : {
          "Group" : {
            "displayName" : "Group",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Group",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "Create Missing Directories" : {
            "displayName" : "Create Missing Directories",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Create Missing Directories",
            "sensitive" : false
          },
          "Permissions" : {
            "displayName" : "Permissions",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Permissions",
            "sensitive" : false
          },
          "Maximum File Count" : {
            "displayName" : "Maximum File Count",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum File Count",
            "sensitive" : false
          },
          "Last Modified Time" : {
            "displayName" : "Last Modified Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Last Modified Time",
            "sensitive" : false
          },
          "Directory" : {
            "displayName" : "Directory",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Directory",
            "sensitive" : false
          },
          "Conflict Resolution Strategy" : {
            "displayName" : "Conflict Resolution Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Conflict Resolution Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.PutFile",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "0690cdef-ba03-393c-9b81-4a79e7a2809a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Data to JSON",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 960.0,
          "y" : -176.0
        },
        "properties" : {
          "Include Zero Record FlowFiles" : "true",
          "Record Writer" : "737ac079-fdcd-3451-abaa-ac44628d03db",
          "Record Reader" : "06666895-4e2e-342e-9a9f-d52705d27d27"
        },
        "propertyDescriptors" : {
          "Include Zero Record FlowFiles" : {
            "displayName" : "Include Zero Record FlowFiles",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Include Zero Record FlowFiles",
            "sensitive" : false
          },
          "Record Writer" : {
            "displayName" : "Record Writer",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Record Writer",
            "sensitive" : false
          },
          "Record Reader" : {
            "displayName" : "Record Reader",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Record Reader",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ConvertRecord",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "Ly danh sch AddAccount ca BC hin ti  tin hnh ETL",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "20d634d4-d890-3bf3-b646-dec37cee63e2",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LayDsAdAccount",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 584.0,
          "y" : -176.0
        },
        "properties" : {
          "esql-max-rows" : "0",
          "dbf-default-precision" : "10",
          "Max Wait Time" : "0 seconds",
          "SQL Query" : "SELECT [Id]\n      ,[AdvertiserId]\n      ,[AdvertiserName]\n      ,[Currency]\n      ,[Timezone]\n      ,[Country]\n      ,[Status]\n      ,[Company]\n      ,[OwnerBcId]\n      ,[IsActive]\n      ,[EffectiveDate]\n      ,[ExpiryDate]\n      ,[IsCurrent]\n      ,[RowVersion]\n      ,[CreationTime]\n      ,[CreatorId]\n      ,[LastModificationTime]\n      ,[LastModifierId]\n  FROM Dim_DimAdAccounts d where d.OwnerBcId = '${stateBc.id}' and IsCurrent = 1",
          "Database Connection Pooling Service" : "f5dbff0f-66b8-386d-ad0d-9161887a3743",
          "esql-auto-commit" : "true",
          "dbf-user-logical-types" : "false",
          "dbf-default-scale" : "0",
          "compression-format" : "NONE",
          "esql-output-batch-size" : "0",
          "esql-fetch-size" : "0",
          "dbf-normalize" : "false",
          "Content Output Strategy" : "EMPTY"
        },
        "propertyDescriptors" : {
          "esql-max-rows" : {
            "displayName" : "Max Rows Per Flow File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-max-rows",
            "sensitive" : false
          },
          "dbf-default-precision" : {
            "displayName" : "Default Decimal Precision",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "dbf-default-precision",
            "sensitive" : false
          },
          "Max Wait Time" : {
            "displayName" : "Max Wait Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Wait Time",
            "sensitive" : false
          },
          "SQL Query" : {
            "displayName" : "SQL Query",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "SQL Query",
            "sensitive" : false
          },
          "Database Connection Pooling Service" : {
            "displayName" : "Database Connection Pooling Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Database Connection Pooling Service",
            "sensitive" : false
          },
          "sql-post-query" : {
            "displayName" : "SQL Post-Query",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "sql-post-query",
            "sensitive" : false
          },
          "esql-auto-commit" : {
            "displayName" : "Set Auto Commit",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-auto-commit",
            "sensitive" : false
          },
          "dbf-user-logical-types" : {
            "displayName" : "Use Avro Logical Types",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "dbf-user-logical-types",
            "sensitive" : false
          },
          "dbf-default-scale" : {
            "displayName" : "Default Decimal Scale",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "dbf-default-scale",
            "sensitive" : false
          },
          "sql-pre-query" : {
            "displayName" : "SQL Pre-Query",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "sql-pre-query",
            "sensitive" : false
          },
          "compression-format" : {
            "displayName" : "Compression Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "compression-format",
            "sensitive" : false
          },
          "esql-output-batch-size" : {
            "displayName" : "Output Batch Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-output-batch-size",
            "sensitive" : false
          },
          "esql-fetch-size" : {
            "displayName" : "Fetch Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-fetch-size",
            "sensitive" : false
          },
          "dbf-normalize" : {
            "displayName" : "Normalize Table/Column Names",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "dbf-normalize",
            "sensitive" : false
          },
          "Content Output Strategy" : {
            "displayName" : "Content Output Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Content Output Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ExecuteSQL",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "dec2f995-e356-331b-a995-a0e647e8bac6",
        "maxBackoffPeriod" : "10 mins",
        "name" : "MapNoiDungLenAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 1328.0,
          "y" : -176.0
        },
        "properties" : {
          "Destination" : "flowfile-attribute",
          "Max String Length" : "200 MB",
          "Return Type" : "json",
          "stateAdAccounts.advertiserIds" : "$[*].AdvertiserId",
          "Null Value Representation" : "empty string",
          "Path Not Found Behavior" : "ignore"
        },
        "propertyDescriptors" : {
          "Destination" : {
            "displayName" : "Destination",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Destination",
            "sensitive" : false
          },
          "Max String Length" : {
            "displayName" : "Max String Length",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max String Length",
            "sensitive" : false
          },
          "Return Type" : {
            "displayName" : "Return Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Return Type",
            "sensitive" : false
          },
          "stateAdAccounts.advertiserIds" : {
            "displayName" : "stateAdAccounts.advertiserIds",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateAdAccounts.advertiserIds",
            "sensitive" : false
          },
          "Null Value Representation" : {
            "displayName" : "Null Value Representation",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Null Value Representation",
            "sensitive" : false
          },
          "Path Not Found Behavior" : {
            "displayName" : "Path Not Found Behavior",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Path Not Found Behavior",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "cb30825d-45f8-3e06-b1e1-63fce7ce6134",
        "maxBackoffPeriod" : "10 mins",
        "name" : "ChuanHoaIdsQuerySql",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 1336.0,
          "y" : 232.0
        },
        "properties" : {
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "stateAdAccounts.advertiserIds.inClause" : "${stateAdAccounts.advertiserIds\n  :replaceAll('^\\\\[|\\\\]$', '')\n  :replaceAll('\"', '\\'')\n  :prepend('(')\n  :append(')')}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "stateAdAccounts.advertiserIds.inClause" : {
            "displayName" : "stateAdAccounts.advertiserIds.inClause",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateAdAccounts.advertiserIds.inClause",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "a8fde5dc-ffb6-38c4-9c7b-c680e2243820",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 696.0,
          "y" : 112.0
        },
        "properties" : {
          "log-level" : "info"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "1978057b-014c-3443-8c20-acc754f675d3",
        "identifier" : "bf38f094-cb93-3bd2-8b6e-6758ce286589",
        "maxBackoffPeriod" : "10 mins",
        "name" : "KhoiTaoLayDanhSach",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 200.0,
          "y" : -176.0
        },
        "properties" : {
          "filename" : "state_${stateBc.id}_AdAccounts.json",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "stateAdAccounts.path" : "#{TempPath}${Path.Separator}${state.name}",
          "stateAdAccounts.fullpath" : "#{TempPath}${Path.Separator}${state.name}${Path.Separator}state_${stateBc.id}_AdAccounts.json",
          "stateAdAccounts.filename" : "state_${stateBc.id}_AdAccounts.json",
          "stateAdAccounts.name" : "state_${stateBc.id}_AdAccounts"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "stateAdAccounts.path" : {
            "displayName" : "stateAdAccounts.path",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateAdAccounts.path",
            "sensitive" : false
          },
          "stateAdAccounts.fullpath" : {
            "displayName" : "stateAdAccounts.fullpath",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateAdAccounts.fullpath",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "stateAdAccounts.filename" : {
            "displayName" : "stateAdAccounts.filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateAdAccounts.filename",
            "sensitive" : false
          },
          "stateAdAccounts.name" : {
            "displayName" : "stateAdAccounts.name",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateAdAccounts.name",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
          "id" : "d10c84d8-dfea-3d85-b25a-a231affbd835",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "d09626b7-d2f6-33ff-9065-64e42a3b5512",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
          "id" : "5cd814ff-1067-3019-afbb-bae6c12940d3",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 44
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "id" : "341fde53-c804-3202-bc39-b54a17bc7db7",
          "name" : "input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "94ce51b5-78b6-33b6-b5c3-3e7192851e3c",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
          "id" : "4587c1a5-2117-33b9-b9f5-e095e8ecccb4",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 47
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
          "id" : "5cd814ff-1067-3019-afbb-bae6c12940d3",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "2dfc4ab9-b4c6-36f6-9ade-9f3f0f9e0d53",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
          "id" : "dd4df4af-663f-3095-be21-d986a2715f18",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "zIndex" : 42
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
          "id" : "4587c1a5-2117-33b9-b9f5-e095e8ecccb4",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "2ec3d84f-46e3-3519-bced-a6491134c6ac",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
          "id" : "5cd814ff-1067-3019-afbb-bae6c12940d3",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 43
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
          "id" : "dd4df4af-663f-3095-be21-d986a2715f18",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "4bc9a09c-0cf4-308e-8870-265f03032c1c",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
          "id" : "c9d1f549-444d-3779-8126-8aab289985ea",
          "name" : "TrangThai",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 41
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
          "id" : "d10c84d8-dfea-3d85-b25a-a231affbd835",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "191e8676-5884-3e4e-bc33-60aa30f48cbf",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
          "id" : "4587c1a5-2117-33b9-b9f5-e095e8ecccb4",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 46
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "c9d1f549-444d-3779-8126-8aab289985ea",
        "name" : "TrangThai",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -488.0,
          "y" : -176.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "ETL_Error",
      "outputPorts" : [ ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : -824.0,
        "y" : 904.0
      },
      "processGroups" : [ {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "e2f9ad25-d25c-3cdc-924c-f6497f8b6be9",
            "name" : "GuiTinNhanTelegram",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "5a19858e-88c2-30d2-811a-f012d7adf261",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "cec95a55-6afe-3cce-8a0a-2585c060098d",
            "name" : "ReplaceText",
            "type" : "PROCESSOR"
          },
          "zIndex" : 7
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "e430be3d-2afc-3a5a-a4a1-843ebd6b0a83",
            "name" : "LaythongtinTelegramCauHinh",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "bccc8638-3621-3e69-9015-37c6372d8e46",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "341fde53-c804-3202-bc39-b54a17bc7db7",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 1
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "cec95a55-6afe-3cce-8a0a-2585c060098d",
            "name" : "ReplaceText",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "4b3f68d2-9285-3e97-95e9-0e925acb5d4c",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "send" ],
          "source" : {
            "comments" : "",
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "808e003a-2e77-3876-a97c-4f091cc5e015",
            "name" : "RouteOnAttribute",
            "type" : "PROCESSOR"
          },
          "zIndex" : 8
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "808e003a-2e77-3876-a97c-4f091cc5e015",
            "name" : "RouteOnAttribute",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "aa07cef2-1a32-3689-8e30-39eb06aa5b0d",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "e430be3d-2afc-3a5a-a4a1-843ebd6b0a83",
            "name" : "LaythongtinTelegramCauHinh",
            "type" : "PROCESSOR"
          },
          "zIndex" : 6
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "d6faab4b-a32b-3dea-a832-96ebf54454ba",
            "name" : "LogMessage",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "4df4236c-010e-3738-b481-ad7bd05f2863",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "cec95a55-6afe-3cce-8a0a-2585c060098d",
            "name" : "ReplaceText",
            "type" : "PROCESSOR"
          },
          "zIndex" : 9
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "d6faab4b-a32b-3dea-a832-96ebf54454ba",
            "name" : "LogMessage",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "4a85c380-a838-3e94-9c18-3ae66fce099a",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "Response", "Failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
            "id" : "e2f9ad25-d25c-3cdc-924c-f6497f8b6be9",
            "name" : "GuiTinNhanTelegram",
            "type" : "PROCESSOR"
          },
          "zIndex" : 5
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ ],
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "341fde53-c804-3202-bc39-b54a17bc7db7",
          "name" : "input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -1056.0,
            "y" : -248.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "GuiThongBaoTelegram",
        "outputPorts" : [ ],
        "parameterContextName" : "ETL",
        "position" : {
          "x" : 1424.0,
          "y" : -264.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ "success" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "d6faab4b-a32b-3dea-a832-96ebf54454ba",
          "maxBackoffPeriod" : "10 mins",
          "name" : "LogMessage",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 224.0,
            "y" : 32.0
          },
          "properties" : {
            "log-level" : "info"
          },
          "propertyDescriptors" : {
            "log-message" : {
              "displayName" : "Log message",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "log-message",
              "sensitive" : false
            },
            "log-level" : {
              "displayName" : "Log Level",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "log-level",
              "sensitive" : false
            },
            "log-prefix" : {
              "displayName" : "Log prefix",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "log-prefix",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.LogMessage",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "unmatched" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "808e003a-2e77-3876-a97c-4f091cc5e015",
          "maxBackoffPeriod" : "10 mins",
          "name" : "RouteOnAttribute",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -184.0,
            "y" : -288.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "send" : "${telegram.enabled:equals('true')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "send" : {
              "displayName" : "send",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "send",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "e430be3d-2afc-3a5a-a4a1-843ebd6b0a83",
          "maxBackoffPeriod" : "10 mins",
          "name" : "LaythongtinTelegramCauHinh",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : -656.0,
            "y" : -280.0
          },
          "properties" : {
            "telegram.botToken" : "#{BotToken}",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "telegram.chatId" : "#{ChatId}",
            "telegram.enabled" : "#{Enabled}",
            "telegram.text" : " MESSAGE ALERT\n Application: NIFI\n Flow: ${state.name}\n Message: ${state.message}"
          },
          "propertyDescriptors" : {
            "telegram.botToken" : {
              "displayName" : "telegram.botToken",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "telegram.botToken",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "telegram.chatId" : {
              "displayName" : "telegram.chatId",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "telegram.chatId",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            },
            "telegram.enabled" : {
              "displayName" : "telegram.enabled",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "telegram.enabled",
              "sensitive" : false
            },
            "telegram.text" : {
              "displayName" : "telegram.text",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "telegram.text",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "cec95a55-6afe-3cce-8a0a-2585c060098d",
          "maxBackoffPeriod" : "10 mins",
          "name" : "ReplaceText",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 200.0,
            "y" : -288.0
          },
          "properties" : {
            "Regular Expression" : "(?s)^(.*)$",
            "Replacement Value" : "{\"chat_id\":\"#{ChatId}\",\"text\":\"${telegram.text}\"}",
            "Evaluation Mode" : "Entire text",
            "Line-by-Line Evaluation Mode" : "All",
            "Character Set" : "UTF-8",
            "Maximum Buffer Size" : "1 MB",
            "Replacement Strategy" : "Regex Replace"
          },
          "propertyDescriptors" : {
            "Regular Expression" : {
              "displayName" : "Search Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Regular Expression",
              "sensitive" : false
            },
            "Replacement Value" : {
              "displayName" : "Replacement Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Replacement Value",
              "sensitive" : false
            },
            "Evaluation Mode" : {
              "displayName" : "Evaluation Mode",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Evaluation Mode",
              "sensitive" : false
            },
            "Text to Prepend" : {
              "displayName" : "Text to Prepend",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Text to Prepend",
              "sensitive" : false
            },
            "Line-by-Line Evaluation Mode" : {
              "displayName" : "Line-by-Line Evaluation Mode",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Line-by-Line Evaluation Mode",
              "sensitive" : false
            },
            "Character Set" : {
              "displayName" : "Character Set",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Character Set",
              "sensitive" : false
            },
            "Maximum Buffer Size" : {
              "displayName" : "Maximum Buffer Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum Buffer Size",
              "sensitive" : false
            },
            "Replacement Strategy" : {
              "displayName" : "Replacement Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Replacement Strategy",
              "sensitive" : false
            },
            "Text to Append" : {
              "displayName" : "Text to Append",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Text to Append",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.ReplaceText",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "No Retry", "Retry", "Original" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "bc7dbd70-5f42-321b-8342-9387cddb2a89",
          "identifier" : "e2f9ad25-d25c-3cdc-924c-f6497f8b6be9",
          "maxBackoffPeriod" : "10 mins",
          "name" : "GuiTinNhanTelegram",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 656.0,
            "y" : -296.0
          },
          "properties" : {
            "Request Content-Encoding" : "DISABLED",
            "Request Multipart Form-Data Filename Enabled" : "true",
            "Request Chunked Transfer-Encoding Enabled" : "false",
            "HTTP/2 Disabled" : "False",
            "Connection Timeout" : "30 secs",
            "Response Cookie Strategy" : "DISABLED",
            "Socket Read Timeout" : "15 secs",
            "Socket Idle Connections" : "5",
            "Request Body Enabled" : "true",
            "OAuth2 Access Token Refresh Strategy" : "ON_TOKEN_EXPIRATION",
            "HTTP URL" : "https://api.telegram.org/bot#{BotToken}/sendMessage",
            "Socket Idle Timeout" : "5 mins",
            "Response Redirects Enabled" : "True",
            "Socket Write Timeout" : "15 secs",
            "Response FlowFile Naming Strategy" : "RANDOM",
            "Response Cache Enabled" : "false",
            "Request Date Header Enabled" : "True",
            "Request Failure Penalization Enabled" : "false",
            "Response Body Attribute Size" : "256",
            "Response Generation Required" : "false",
            "Response Header Request Attributes Enabled" : "false",
            "HTTP Method" : "POST",
            "Request Content-Type" : "application/json",
            "Request Digest Authentication Enabled" : "false",
            "Response Cache Size" : "10MB",
            "Response Body Ignored" : "false"
          },
          "propertyDescriptors" : {
            "Request Content-Encoding" : {
              "displayName" : "Request Content-Encoding",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Content-Encoding",
              "sensitive" : false
            },
            "proxy-configuration-service" : {
              "displayName" : "Proxy Configuration Service",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "proxy-configuration-service",
              "sensitive" : false
            },
            "Request Multipart Form-Data Filename Enabled" : {
              "displayName" : "Request Multipart Form-Data Filename Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Multipart Form-Data Filename Enabled",
              "sensitive" : false
            },
            "Request Chunked Transfer-Encoding Enabled" : {
              "displayName" : "Request Chunked Transfer-Encoding Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Chunked Transfer-Encoding Enabled",
              "sensitive" : false
            },
            "Response Header Request Attributes Prefix" : {
              "displayName" : "Response Header Request Attributes Prefix",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Header Request Attributes Prefix",
              "sensitive" : false
            },
            "HTTP/2 Disabled" : {
              "displayName" : "HTTP/2 Disabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "HTTP/2 Disabled",
              "sensitive" : false
            },
            "Connection Timeout" : {
              "displayName" : "Connection Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Connection Timeout",
              "sensitive" : false
            },
            "Response Cookie Strategy" : {
              "displayName" : "Response Cookie Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Cookie Strategy",
              "sensitive" : false
            },
            "Request Password" : {
              "displayName" : "Request Password",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Password",
              "sensitive" : true
            },
            "Socket Read Timeout" : {
              "displayName" : "Socket Read Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Socket Read Timeout",
              "sensitive" : false
            },
            "Socket Idle Connections" : {
              "displayName" : "Socket Idle Connections",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Socket Idle Connections",
              "sensitive" : false
            },
            "Request Body Enabled" : {
              "displayName" : "Request Body Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Body Enabled",
              "sensitive" : false
            },
            "OAuth2 Access Token Refresh Strategy" : {
              "displayName" : "OAuth2 Access Token Refresh Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "OAuth2 Access Token Refresh Strategy",
              "sensitive" : false
            },
            "HTTP URL" : {
              "displayName" : "HTTP URL",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "HTTP URL",
              "sensitive" : false
            },
            "Request OAuth2 Access Token Provider" : {
              "displayName" : "Request OAuth2 Access Token Provider",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Request OAuth2 Access Token Provider",
              "sensitive" : false
            },
            "Socket Idle Timeout" : {
              "displayName" : "Socket Idle Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Socket Idle Timeout",
              "sensitive" : false
            },
            "Response Redirects Enabled" : {
              "displayName" : "Response Redirects Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Redirects Enabled",
              "sensitive" : false
            },
            "Socket Write Timeout" : {
              "displayName" : "Socket Write Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Socket Write Timeout",
              "sensitive" : false
            },
            "Request Header Attributes Pattern" : {
              "displayName" : "Request Header Attributes Pattern",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Header Attributes Pattern",
              "sensitive" : false
            },
            "Response FlowFile Naming Strategy" : {
              "displayName" : "Response FlowFile Naming Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response FlowFile Naming Strategy",
              "sensitive" : false
            },
            "Response Cache Enabled" : {
              "displayName" : "Response Cache Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Cache Enabled",
              "sensitive" : false
            },
            "Request Date Header Enabled" : {
              "displayName" : "Request Date Header Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Date Header Enabled",
              "sensitive" : false
            },
            "Request Failure Penalization Enabled" : {
              "displayName" : "Request Failure Penalization Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Failure Penalization Enabled",
              "sensitive" : false
            },
            "Response Body Attribute Size" : {
              "displayName" : "Response Body Attribute Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Body Attribute Size",
              "sensitive" : false
            },
            "SSL Context Service" : {
              "displayName" : "SSL Context Service",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "SSL Context Service",
              "sensitive" : false
            },
            "Response Generation Required" : {
              "displayName" : "Response Generation Required",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Generation Required",
              "sensitive" : false
            },
            "Request User-Agent" : {
              "displayName" : "Request User-Agent",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request User-Agent",
              "sensitive" : false
            },
            "Response Header Request Attributes Enabled" : {
              "displayName" : "Response Header Request Attributes Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Header Request Attributes Enabled",
              "sensitive" : false
            },
            "HTTP Method" : {
              "displayName" : "HTTP Method",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "HTTP Method",
              "sensitive" : false
            },
            "Request Username" : {
              "displayName" : "Request Username",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Username",
              "sensitive" : false
            },
            "Request Content-Type" : {
              "displayName" : "Request Content-Type",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Content-Type",
              "sensitive" : false
            },
            "Response Body Attribute Name" : {
              "displayName" : "Response Body Attribute Name",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Body Attribute Name",
              "sensitive" : false
            },
            "Request Digest Authentication Enabled" : {
              "displayName" : "Request Digest Authentication Enabled",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Digest Authentication Enabled",
              "sensitive" : false
            },
            "Request Multipart Form-Data Name" : {
              "displayName" : "Request Multipart Form-Data Name",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Request Multipart Form-Data Name",
              "sensitive" : false
            },
            "Response Cache Size" : {
              "displayName" : "Response Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Cache Size",
              "sensitive" : false
            },
            "Response Body Ignored" : {
              "displayName" : "Response Body Ignored",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Response Body Ignored",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      } ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "d10c84d8-dfea-3d85-b25a-a231affbd835",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 616.0,
          "y" : 64.0
        },
        "properties" : {
          "log-level" : "info"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ "success" ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "4587c1a5-2117-33b9-b9f5-e095e8ecccb4",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LuuFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 944.0,
          "y" : -232.0
        },
        "properties" : {
          "Create Missing Directories" : "true",
          "Directory" : "${state.path}",
          "Conflict Resolution Strategy" : "replace"
        },
        "propertyDescriptors" : {
          "Group" : {
            "displayName" : "Group",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Group",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "Create Missing Directories" : {
            "displayName" : "Create Missing Directories",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Create Missing Directories",
            "sensitive" : false
          },
          "Permissions" : {
            "displayName" : "Permissions",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Permissions",
            "sensitive" : false
          },
          "Maximum File Count" : {
            "displayName" : "Maximum File Count",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum File Count",
            "sensitive" : false
          },
          "Last Modified Time" : {
            "displayName" : "Last Modified Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Last Modified Time",
            "sensitive" : false
          },
          "Directory" : {
            "displayName" : "Directory",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Directory",
            "sensitive" : false
          },
          "Conflict Resolution Strategy" : {
            "displayName" : "Conflict Resolution Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Conflict Resolution Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.PutFile",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "5cd814ff-1067-3019-afbb-bae6c12940d3",
        "maxBackoffPeriod" : "10 mins",
        "name" : "CapNhatToContent",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 424.0,
          "y" : -232.0
        },
        "properties" : {
          "Regular Expression" : "(?s)(^.*$)",
          "Replacement Value" : "{\n  \"name\": \"${state.name}\",\n  \"isActive\": ${state.isActive},\n  \"lastExecutionTime\": \"${state.lastExecutionTime}\",\n  \"startTime\": \"${state.startTime}\",\n  \"endTime\": \"${state.endTime}\",\n  \"status\": \"${state.status}\",\n  \"sequenceNumber\": \"${state.sequenceNumber}\",\n  \"message\": \"${state.message}\"\n}",
          "Evaluation Mode" : "Entire text",
          "Line-by-Line Evaluation Mode" : "All",
          "Character Set" : "UTF-8",
          "Maximum Buffer Size" : "1 MB",
          "Replacement Strategy" : "Always Replace"
        },
        "propertyDescriptors" : {
          "Regular Expression" : {
            "displayName" : "Search Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Regular Expression",
            "sensitive" : false
          },
          "Replacement Value" : {
            "displayName" : "Replacement Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Value",
            "sensitive" : false
          },
          "Evaluation Mode" : {
            "displayName" : "Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Evaluation Mode",
            "sensitive" : false
          },
          "Text to Prepend" : {
            "displayName" : "Text to Prepend",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Prepend",
            "sensitive" : false
          },
          "Line-by-Line Evaluation Mode" : {
            "displayName" : "Line-by-Line Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Line-by-Line Evaluation Mode",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Maximum Buffer Size" : {
            "displayName" : "Maximum Buffer Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Buffer Size",
            "sensitive" : false
          },
          "Replacement Strategy" : {
            "displayName" : "Replacement Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Strategy",
            "sensitive" : false
          },
          "Text to Append" : {
            "displayName" : "Text to Append",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Append",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ReplaceText",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "7eef5fe9-8026-30ea-8506-24e804587ca7",
        "identifier" : "dd4df4af-663f-3095-be21-d986a2715f18",
        "maxBackoffPeriod" : "10 mins",
        "name" : "ChuanHoa",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 16.0,
          "y" : -224.0
        },
        "properties" : {
          "state.message" : "Li khi ly danh sch BC",
          "filename" : "${state.filename}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "state.status" : "3",
          "state.isActive" : "false",
          "state.lastExecutionTime" : "${now():format(\"yyyy-MM-dd HH:mm:ss\", \"UTC\")}"
        },
        "propertyDescriptors" : {
          "state.message" : {
            "displayName" : "state.message",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.message",
            "sensitive" : false
          },
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "state.status" : {
            "displayName" : "state.status",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.status",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "state.isActive" : {
            "displayName" : "state.isActive",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.isActive",
            "sensitive" : false
          },
          "state.lastExecutionTime" : {
            "displayName" : "state.lastExecutionTime",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.lastExecutionTime",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
          "id" : "d3a3d1e5-ef93-39b8-af8f-a74b1d1f2c52",
          "name" : "Output",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "890787eb-b97a-3ff8-951f-d392143ec93f",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "unmatched" ],
        "source" : {
          "comments" : "",
          "groupId" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
          "id" : "6953c199-c0b7-37ba-867a-afc19f5f9634",
          "name" : "KiemTraCoTrangTiepTheo",
          "type" : "PROCESSOR"
        },
        "zIndex" : 10
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
          "id" : "0bb6923d-6f6b-3ff3-8db5-9c804d64ca6c",
          "name" : "KhoiTao",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "e0da0ad6-0a28-3533-9309-5c24fb927270",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
          "id" : "993a23e0-0d71-3c4c-87b6-470d86e0f10b",
          "name" : "Input",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 11
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
          "id" : "6953c199-c0b7-37ba-867a-afc19f5f9634",
          "name" : "KiemTraCoTrangTiepTheo",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "7610b34c-747f-35a4-9461-3eed823e9fdb",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "id" : "f77d921a-e70e-3944-9343-20b70ab00067",
          "name" : "Ouput",
          "type" : "OUTPUT_PORT"
        },
        "zIndex" : 3
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "id" : "e271ec0c-3a93-3af1-99ce-c7fa6b595b1c",
          "name" : "Input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "3256d795-8f0a-3b08-bf6b-bb3243907318",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
          "id" : "be052108-b07b-3773-a2ab-569053df0598",
          "name" : "TrangTiepTheo",
          "type" : "PROCESSOR"
        },
        "zIndex" : 7
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "id" : "e271ec0c-3a93-3af1-99ce-c7fa6b595b1c",
          "name" : "Input",
          "type" : "INPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "cfe6ff6d-2709-3d44-9701-7dfd5acc9f42",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
          "id" : "0bb6923d-6f6b-3ff3-8db5-9c804d64ca6c",
          "name" : "KhoiTao",
          "type" : "PROCESSOR"
        },
        "zIndex" : 2
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
          "id" : "be052108-b07b-3773-a2ab-569053df0598",
          "name" : "TrangTiepTheo",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "3a55bb13-0f66-3b51-9b69-21aeb6d33751",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "TrangTiep",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "nextPage" ],
        "source" : {
          "comments" : "",
          "groupId" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
          "id" : "6953c199-c0b7-37ba-867a-afc19f5f9634",
          "name" : "KiemTraCoTrangTiepTheo",
          "type" : "PROCESSOR"
        },
        "zIndex" : 6
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "993a23e0-0d71-3c4c-87b6-470d86e0f10b",
        "name" : "Input",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -344.0,
          "y" : -256.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "ETLAdAccountDailySpend",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "d3a3d1e5-ef93-39b8-af8f-a74b1d1f2c52",
        "name" : "Output",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 72.0,
          "y" : 856.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : -328.0,
        "y" : 2968.0
      },
      "processGroups" : [ {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "1caaacd9-764f-3f2d-9d21-a25231949e3f",
            "name" : "ConvertRecord",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "321ab13b-43e2-333c-ab8d-81d3eaf72eab",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "befb06dc-6f65-3d3c-9353-37f2592333e3",
            "name" : "LayDanhSachDuLieuETLCu",
            "type" : "PROCESSOR"
          },
          "zIndex" : 18
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "c72705a8-f758-3921-8d09-4df127172f96",
            "name" : "SaveRawTemp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "55d19ddf-3154-3a14-869e-d9dfd744b28b",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "hasData" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "6f026a01-d2a7-3edc-939e-21225d148701",
            "name" : "CheckHasData",
            "type" : "PROCESSOR"
          },
          "zIndex" : 17
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "6d69c4e7-e7c5-391f-881c-a56e1aca33b6",
            "name" : "CleanupTempFile",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "82b3e37d-1fab-3513-8258-5059799b06b9",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "befb06dc-6f65-3d3c-9353-37f2592333e3",
            "name" : "LayDanhSachDuLieuETLCu",
            "type" : "PROCESSOR"
          },
          "zIndex" : 19
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "f77d921a-e70e-3944-9343-20b70ab00067",
            "name" : "Ouput",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "eec94ec5-9406-31c6-be77-1ca71b61723b",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success", "failure", "not found" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "9be65c63-0f6d-32a8-b5ec-af574c4b1ad5",
            "name" : "CleanupTemp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 15
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "9715b57c-08a9-3a9b-b62a-e7596640b2f0",
            "name" : "UpdateAttributeContinueFalse",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "8308de59-13da-369b-a891-e20c8f911ccb",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "633e89ca-0ee8-3e3d-bef6-9b71516471c1",
            "name" : "LayDanhSachAdAccountChuaETL",
            "type" : "PROCESSOR"
          },
          "zIndex" : 4
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "6d69c4e7-e7c5-391f-881c-a56e1aca33b6",
            "name" : "CleanupTempFile",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "7696b936-9d39-3486-9690-08d979ce068e",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "2ab56399-37b8-3550-94a3-2bb4bbe68686",
            "name" : "TransformData",
            "type" : "PROCESSOR"
          },
          "zIndex" : 22
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "8604c9d8-c9c0-3cbe-abc1-5be0a1293cf7",
            "name" : "RouteOnAttributeCheckLastPage",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "736e01ac-6454-39e8-9a8c-44674f30826d",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "97644b25-c911-3a45-8602-d856e6f3d118",
            "name" : "InsertAndUpdateToDataBase",
            "type" : "PROCESSOR"
          },
          "zIndex" : 23
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "0caf9a6c-5c1c-3251-8b30-f46e7a352a44",
            "name" : "ChuanHoaDuLieuRaw",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "c7e0cf54-e457-3bcc-b43f-4c6151284cc6",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "1e322da7-c892-300d-a2db-4763e5b4ca01",
            "name" : "ConvertRecord",
            "type" : "PROCESSOR"
          },
          "zIndex" : 5
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "6d69c4e7-e7c5-391f-881c-a56e1aca33b6",
            "name" : "CleanupTempFile",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "18dcbd34-1b83-3ee8-87ee-e77ecbbe1ace",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "97644b25-c911-3a45-8602-d856e6f3d118",
            "name" : "InsertAndUpdateToDataBase",
            "type" : "PROCESSOR"
          },
          "zIndex" : 25
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "9715b57c-08a9-3a9b-b62a-e7596640b2f0",
            "name" : "UpdateAttributeContinueFalse",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "0748c15e-206c-3c40-ba21-f4465f3c6f9c",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "1e322da7-c892-300d-a2db-4763e5b4ca01",
            "name" : "ConvertRecord",
            "type" : "PROCESSOR"
          },
          "zIndex" : 6
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "9715b57c-08a9-3a9b-b62a-e7596640b2f0",
            "name" : "UpdateAttributeContinueFalse",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "85fe5906-4108-3b24-9b88-d55e0838ed79",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "NoNewData",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "6f026a01-d2a7-3edc-939e-21225d148701",
            "name" : "CheckHasData",
            "type" : "PROCESSOR"
          },
          "zIndex" : 10
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "befb06dc-6f65-3d3c-9353-37f2592333e3",
            "name" : "LayDanhSachDuLieuETLCu",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "c84b3ee6-d5cb-35a7-b4a6-118e8949fee0",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "c72705a8-f758-3921-8d09-4df127172f96",
            "name" : "SaveRawTemp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 29
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "9715b57c-08a9-3a9b-b62a-e7596640b2f0",
            "name" : "UpdateAttributeContinueFalse",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "03108baf-faea-3c2b-a6bb-c04021fb15b0",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "0caf9a6c-5c1c-3251-8b30-f46e7a352a44",
            "name" : "ChuanHoaDuLieuRaw",
            "type" : "PROCESSOR"
          },
          "zIndex" : 9
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "97644b25-c911-3a45-8602-d856e6f3d118",
            "name" : "InsertAndUpdateToDataBase",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "9254d3d7-9ecd-338f-a123-5897767b4d72",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "2ab56399-37b8-3550-94a3-2bb4bbe68686",
            "name" : "TransformData",
            "type" : "PROCESSOR"
          },
          "zIndex" : 21
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "2ab56399-37b8-3550-94a3-2bb4bbe68686",
            "name" : "TransformData",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "fc752171-b062-3584-9b4f-e359ca341ffe",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "1caaacd9-764f-3f2d-9d21-a25231949e3f",
            "name" : "ConvertRecord",
            "type" : "PROCESSOR"
          },
          "zIndex" : 20
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "9715b57c-08a9-3a9b-b62a-e7596640b2f0",
            "name" : "UpdateAttributeContinueFalse",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "5aa89c79-0bbd-3f89-9942-163524d617ab",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success", "failure", "not found" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "6d69c4e7-e7c5-391f-881c-a56e1aca33b6",
            "name" : "CleanupTempFile",
            "type" : "PROCESSOR"
          },
          "zIndex" : 28
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "6d69c4e7-e7c5-391f-881c-a56e1aca33b6",
            "name" : "CleanupTempFile",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "0ebf117e-aa16-3d1d-90fd-40e9a4cb0b14",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "isLastPage" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "8604c9d8-c9c0-3cbe-abc1-5be0a1293cf7",
            "name" : "RouteOnAttributeCheckLastPage",
            "type" : "PROCESSOR"
          },
          "zIndex" : 26
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "9be65c63-0f6d-32a8-b5ec-af574c4b1ad5",
            "name" : "CleanupTemp",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "fdd2a379-ad0c-321e-9cd4-d20a61722259",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "f2e75881-e748-3d26-a48e-c390ebcfa55f",
            "name" : "UpdateAttributeContinueTrue",
            "type" : "PROCESSOR"
          },
          "zIndex" : 24
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "6f026a01-d2a7-3edc-939e-21225d148701",
            "name" : "CheckHasData",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "0b03a12f-a0a6-3240-9335-adf4f33c61cc",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "0caf9a6c-5c1c-3251-8b30-f46e7a352a44",
            "name" : "ChuanHoaDuLieuRaw",
            "type" : "PROCESSOR"
          },
          "zIndex" : 8
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "f77d921a-e70e-3944-9343-20b70ab00067",
            "name" : "Ouput",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "669e6a7c-3470-36c2-9056-4780cfac86c0",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "9715b57c-08a9-3a9b-b62a-e7596640b2f0",
            "name" : "UpdateAttributeContinueFalse",
            "type" : "PROCESSOR"
          },
          "zIndex" : 7
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "38eacde4-7c0d-38e5-be2c-2c9d6cd1b445",
            "name" : "KhoiTao",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "4a53cf5e-7b7f-3ebc-9189-a4c466e6ba45",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "e271ec0c-3a93-3af1-99ce-c7fa6b595b1c",
            "name" : "Input",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 1
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "9715b57c-08a9-3a9b-b62a-e7596640b2f0",
            "name" : "UpdateAttributeContinueFalse",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "ff9c46a7-0611-3e4a-8381-15095526e067",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "c72705a8-f758-3921-8d09-4df127172f96",
            "name" : "SaveRawTemp",
            "type" : "PROCESSOR"
          },
          "zIndex" : 14
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "633e89ca-0ee8-3e3d-bef6-9b71516471c1",
            "name" : "LayDanhSachAdAccountChuaETL",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "cd1690ff-5ea4-3989-9592-d45710867705",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "38eacde4-7c0d-38e5-be2c-2c9d6cd1b445",
            "name" : "KhoiTao",
            "type" : "PROCESSOR"
          },
          "zIndex" : 2
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "f2e75881-e748-3d26-a48e-c390ebcfa55f",
            "name" : "UpdateAttributeContinueTrue",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "f4fc930a-0796-3f8c-9cec-222ddc5e48c2",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "8604c9d8-c9c0-3cbe-abc1-5be0a1293cf7",
            "name" : "RouteOnAttributeCheckLastPage",
            "type" : "PROCESSOR"
          },
          "zIndex" : 27
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "1e322da7-c892-300d-a2db-4763e5b4ca01",
            "name" : "ConvertRecord",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "846d6161-0a26-3a3d-bba0-4aaed129d356",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "1d6143f3-da86-383b-b960-9a9ded661382",
            "id" : "633e89ca-0ee8-3e3d-bef6-9b71516471c1",
            "name" : "LayDanhSachAdAccountChuaETL",
            "type" : "PROCESSOR"
          },
          "zIndex" : 3
        } ],
        "controllerServices" : [ ],
        "defaultBackPressureDataSizeThreshold" : "1 GB",
        "defaultBackPressureObjectThreshold" : 10000,
        "defaultFlowFileExpiration" : "0 sec",
        "executionEngine" : "INHERITED",
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ ],
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "e271ec0c-3a93-3af1-99ce-c7fa6b595b1c",
          "name" : "Input",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : -136.0,
            "y" : -200.0
          },
          "scheduledState" : "ENABLED",
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ ],
        "maxConcurrentTasks" : 1,
        "name" : "ETLAdAccountDailySpendBatch",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "f77d921a-e70e-3944-9343-20b70ab00067",
          "name" : "Ouput",
          "portFunction" : "STANDARD",
          "position" : {
            "x" : 472.0,
            "y" : 1008.0
          },
          "scheduledState" : "ENABLED",
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "TikTokETL",
        "position" : {
          "x" : 8.0,
          "y" : 184.0
        },
        "processGroups" : [ ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "9be65c63-0f6d-32a8-b5ec-af574c4b1ad5",
          "maxBackoffPeriod" : "10 mins",
          "name" : "CleanupTemp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 992.0,
            "y" : 952.0
          },
          "properties" : {
            "Filename" : "${stateCurrent.filename}",
            "Directory Path" : "${stateCurrent.directory}"
          },
          "propertyDescriptors" : {
            "Filename" : {
              "displayName" : "Filename",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Filename",
              "sensitive" : false
            },
            "Directory Path" : {
              "displayName" : "Directory Path",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Directory Path",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.DeleteFile",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "9715b57c-08a9-3a9b-b62a-e7596640b2f0",
          "maxBackoffPeriod" : "10 mins",
          "name" : "UpdateAttributeContinueFalse",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 432.0,
            "y" : 480.0
          },
          "properties" : {
            "state.continue" : "0",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "state.continue" : {
              "displayName" : "state.continue",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "state.continue",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "1e322da7-c892-300d-a2db-4763e5b4ca01",
          "maxBackoffPeriod" : "10 mins",
          "name" : "ConvertRecord",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1008.0,
            "y" : -208.0
          },
          "properties" : {
            "Include Zero Record FlowFiles" : "true",
            "Record Writer" : "737ac079-fdcd-3451-abaa-ac44628d03db",
            "Record Reader" : "06666895-4e2e-342e-9a9f-d52705d27d27"
          },
          "propertyDescriptors" : {
            "Include Zero Record FlowFiles" : {
              "displayName" : "Include Zero Record FlowFiles",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Include Zero Record FlowFiles",
              "sensitive" : false
            },
            "Record Writer" : {
              "displayName" : "Record Writer",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Writer",
              "sensitive" : false
            },
            "Record Reader" : {
              "displayName" : "Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Reader",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.ConvertRecord",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "retry" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "97644b25-c911-3a45-8602-d856e6f3d118",
          "maxBackoffPeriod" : "10 mins",
          "name" : "InsertAndUpdateToDataBase",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 2944.0,
            "y" : 944.0
          },
          "properties" : {
            "Support Fragmented Transactions" : "false",
            "Batch Size" : "#{PageSizeMax}",
            "Obtain Generated Keys" : "false",
            "JDBC Connection Pool" : "f5dbff0f-66b8-386d-ad0d-9161887a3743",
            "database-session-autocommit" : "true",
            "rollback-on-failure" : "false"
          },
          "propertyDescriptors" : {
            "Support Fragmented Transactions" : {
              "displayName" : "Support Fragmented Transactions",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Support Fragmented Transactions",
              "sensitive" : false
            },
            "putsql-sql-statement" : {
              "displayName" : "SQL Statement",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "putsql-sql-statement",
              "sensitive" : false
            },
            "Transaction Timeout" : {
              "displayName" : "Transaction Timeout",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Transaction Timeout",
              "sensitive" : false
            },
            "Batch Size" : {
              "displayName" : "Batch Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Batch Size",
              "sensitive" : false
            },
            "Obtain Generated Keys" : {
              "displayName" : "Obtain Generated Keys",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Obtain Generated Keys",
              "sensitive" : false
            },
            "JDBC Connection Pool" : {
              "displayName" : "JDBC Connection Pool",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "JDBC Connection Pool",
              "sensitive" : false
            },
            "database-session-autocommit" : {
              "displayName" : "Database Session AutoCommit",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "database-session-autocommit",
              "sensitive" : false
            },
            "rollback-on-failure" : {
              "displayName" : "Rollback On Failure",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "rollback-on-failure",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.PutSQL",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "6f026a01-d2a7-3edc-939e-21225d148701",
          "maxBackoffPeriod" : "10 mins",
          "name" : "CheckHasData",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1952.0,
            "y" : -200.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "hasData" : "${hasData:equals('true')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "hasData" : {
              "displayName" : "hasData",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "hasData",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "633e89ca-0ee8-3e3d-bef6-9b71516471c1",
          "maxBackoffPeriod" : "10 mins",
          "name" : "LayDanhSachAdAccountChuaETL",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 608.0,
            "y" : -208.0
          },
          "properties" : {
            "esql-max-rows" : "0",
            "dbf-default-precision" : "10",
            "Max Wait Time" : "0 seconds",
            "SQL Query" : "SELECT TOP (${state.pageSize})\n       r.[Id],\n       r.[BcId],\n       r.[AdvertiserId],\n       r.[AdvertiserName],\n       r.[Date],\n       r.[Spend]        AS TotalAmount,\n       r.[CashSpend]    AS CashAmount,\n       r.[VoucherSpend] AS GrantAmount,\n       r.[Currency],\n       r.[CreationTime],\n       r.[CreatorId],\n       r.[LastModificationTime],\n       r.[LastModifierId]\nFROM dbo.[Raw_RawReportIntegratedAdAccounts] r\nWHERE r.[BcId] = '${stateBc.id}'\n  AND r.[AdvertiserId] IN ${stateAdAccounts.advertiserIds.inClause}\n  AND NOT EXISTS (\n      SELECT 1\n      FROM dbo.[Fact_FactDailySpends] f\n      WHERE f.[AdvertiserId] = r.[AdvertiserId]\n        AND f.[DimDateId]    = CONVERT(int, CONVERT(char(8), r.[Date], 112)) -- yyyyMMdd\n  )\nORDER BY r.[Date] DESC, r.[Id] DESC;",
            "Database Connection Pooling Service" : "f5dbff0f-66b8-386d-ad0d-9161887a3743",
            "esql-auto-commit" : "true",
            "dbf-user-logical-types" : "false",
            "dbf-default-scale" : "0",
            "compression-format" : "NONE",
            "esql-output-batch-size" : "0",
            "esql-fetch-size" : "0",
            "dbf-normalize" : "false",
            "Content Output Strategy" : "EMPTY"
          },
          "propertyDescriptors" : {
            "esql-max-rows" : {
              "displayName" : "Max Rows Per Flow File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "esql-max-rows",
              "sensitive" : false
            },
            "dbf-default-precision" : {
              "displayName" : "Default Decimal Precision",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-precision",
              "sensitive" : false
            },
            "Max Wait Time" : {
              "displayName" : "Max Wait Time",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Max Wait Time",
              "sensitive" : false
            },
            "SQL Query" : {
              "displayName" : "SQL Query",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "SQL Query",
              "sensitive" : false
            },
            "Database Connection Pooling Service" : {
              "displayName" : "Database Connection Pooling Service",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Database Connection Pooling Service",
              "sensitive" : false
            },
            "sql-post-query" : {
              "displayName" : "SQL Post-Query",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "sql-post-query",
              "sensitive" : false
            },
            "esql-auto-commit" : {
              "displayName" : "Set Auto Commit",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "esql-auto-commit",
              "sensitive" : false
            },
            "dbf-user-logical-types" : {
              "displayName" : "Use Avro Logical Types",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-user-logical-types",
              "sensitive" : false
            },
            "dbf-default-scale" : {
              "displayName" : "Default Decimal Scale",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-scale",
              "sensitive" : false
            },
            "sql-pre-query" : {
              "displayName" : "SQL Pre-Query",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "sql-pre-query",
              "sensitive" : false
            },
            "compression-format" : {
              "displayName" : "Compression Format",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "compression-format",
              "sensitive" : false
            },
            "esql-output-batch-size" : {
              "displayName" : "Output Batch Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "esql-output-batch-size",
              "sensitive" : false
            },
            "esql-fetch-size" : {
              "displayName" : "Fetch Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "esql-fetch-size",
              "sensitive" : false
            },
            "dbf-normalize" : {
              "displayName" : "Normalize Table/Column Names",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-normalize",
              "sensitive" : false
            },
            "Content Output Strategy" : {
              "displayName" : "Content Output Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Content Output Strategy",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.ExecuteSQL",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "f2e75881-e748-3d26-a48e-c390ebcfa55f",
          "maxBackoffPeriod" : "10 mins",
          "name" : "UpdateAttributeContinueTrue",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1504.0,
            "y" : 928.0
          },
          "properties" : {
            "state.continue" : "1",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100"
          },
          "propertyDescriptors" : {
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "state.continue" : {
              "displayName" : "state.continue",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "state.continue",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "befb06dc-6f65-3d3c-9353-37f2592333e3",
          "maxBackoffPeriod" : "10 mins",
          "name" : "LayDanhSachDuLieuETLCu",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 2744.0,
            "y" : 112.0
          },
          "properties" : {
            "esql-max-rows" : "0",
            "dbf-default-precision" : "10",
            "Max Wait Time" : "0 seconds",
            "SQL Query" : "SELECT\n    f.[Id],\n    f.[DimDateId],\n    f.[DimBusinessCenterId],\n    f.[DimAdAccountId],\n    f.[BcId],\n    f.[AdvertiserId],\n    CONVERT(varchar(27), f.[Date], 126) AS [Date]\nFROM dbo.[Fact_FactDailySpends] f\nWHERE f.[DimBusinessCenterId] = '${stateBc.dimId}'\n  AND f.[AdvertiserId] IN ${stateCurrent.advertiserIds.inClause}\n  AND f.[DimDateId] BETWEEN CONVERT(int, REPLACE('${stateCurrent.minDate}','-',''))\n                         AND CONVERT(int, REPLACE('${stateCurrent.maxDate}','-',''))\n  AND f.[BcId] = '${stateBc.id}'\nORDER BY f.[DimDateId] DESC;",
            "Database Connection Pooling Service" : "f5dbff0f-66b8-386d-ad0d-9161887a3743",
            "esql-auto-commit" : "true",
            "dbf-user-logical-types" : "false",
            "dbf-default-scale" : "0",
            "compression-format" : "NONE",
            "esql-output-batch-size" : "0",
            "esql-fetch-size" : "0",
            "dbf-normalize" : "false",
            "Content Output Strategy" : "EMPTY"
          },
          "propertyDescriptors" : {
            "esql-max-rows" : {
              "displayName" : "Max Rows Per Flow File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "esql-max-rows",
              "sensitive" : false
            },
            "dbf-default-precision" : {
              "displayName" : "Default Decimal Precision",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-precision",
              "sensitive" : false
            },
            "Max Wait Time" : {
              "displayName" : "Max Wait Time",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Max Wait Time",
              "sensitive" : false
            },
            "SQL Query" : {
              "displayName" : "SQL Query",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "SQL Query",
              "sensitive" : false
            },
            "Database Connection Pooling Service" : {
              "displayName" : "Database Connection Pooling Service",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Database Connection Pooling Service",
              "sensitive" : false
            },
            "sql-post-query" : {
              "displayName" : "SQL Post-Query",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "sql-post-query",
              "sensitive" : false
            },
            "esql-auto-commit" : {
              "displayName" : "Set Auto Commit",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "esql-auto-commit",
              "sensitive" : false
            },
            "dbf-user-logical-types" : {
              "displayName" : "Use Avro Logical Types",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-user-logical-types",
              "sensitive" : false
            },
            "dbf-default-scale" : {
              "displayName" : "Default Decimal Scale",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-default-scale",
              "sensitive" : false
            },
            "sql-pre-query" : {
              "displayName" : "SQL Pre-Query",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "sql-pre-query",
              "sensitive" : false
            },
            "compression-format" : {
              "displayName" : "Compression Format",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "compression-format",
              "sensitive" : false
            },
            "esql-output-batch-size" : {
              "displayName" : "Output Batch Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "esql-output-batch-size",
              "sensitive" : false
            },
            "esql-fetch-size" : {
              "displayName" : "Fetch Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "esql-fetch-size",
              "sensitive" : false
            },
            "dbf-normalize" : {
              "displayName" : "Normalize Table/Column Names",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "dbf-normalize",
              "sensitive" : false
            },
            "Content Output Strategy" : {
              "displayName" : "Content Output Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Content Output Strategy",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.ExecuteSQL",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "2ab56399-37b8-3550-94a3-2bb4bbe68686",
          "maxBackoffPeriod" : "10 mins",
          "name" : "TransformData",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 2944.0,
            "y" : 664.0
          },
          "properties" : {
            "groovyx-script-body" : "import org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\nimport groovy.json.JsonSlurper\nimport java.time.LocalDateTime\nimport java.time.format.DateTimeFormatter\nimport java.time.format.DateTimeFormatterBuilder\nimport java.time.temporal.ChronoField\nimport java.util.UUID\nimport java.io.File\n\n// ================= Utils =================\ndef toDimDateId(String isoDateTime) {\n    def d = (isoDateTime ?: \"\").trim()\n    if (!d) return null\n    def day = d.substring(0, 10) // yyyy-MM-dd\n    return day.replace(\"-\", \"\").toInteger() // yyyyMMdd\n}\n\ndef normalizeIso(String dateStr) {\n    def t = (dateStr ?: \"\").trim().replace(' ', 'T')\n    if (!t) return null\n    def parser = new DateTimeFormatterBuilder()\n        .appendPattern(\"yyyy-MM-dd'T'HH:mm:ss\")\n        .optionalStart().appendFraction(ChronoField.NANO_OF_SECOND, 1, 7, true).optionalEnd()\n        .toFormatter()\n    def dt = LocalDateTime.parse(t, parser)\n    return dt.format(DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss.SSSSSSS\"))\n}\n\n// a Date v u ngy 00:00:00.0000000  lu Fact thng nht theo ngy\ndef startOfDayIso(Object v) {\n    def iso = normalizeIso(v?.toString())\n    return iso ? (iso.substring(0,10) + \"T00:00:00.0000000\") : null\n}\n\n// Escape 1 du nhy n\ndef esc(String s) { (s == null) ? null : s.replace(\"'\", \"''\") }\n\n// NVARCHAR/VARCHAR\ndef q(Object v)  { v == null ? \"NULL\" : \"N'${esc(v.toString())}'\" }\ndef qv(Object v) { v == null ? \"NULL\" : \"'${esc(v.toString())}'\" }\n\ndef dec(Object v) {\n    if (v == null) return \"NULL\"\n    def s = v.toString().trim()\n    return s == \"\" ? \"NULL\" : s\n}\n\ndef intval(Object v) {\n    if (v == null) return \"NULL\"\n    try { return Integer.parseInt(v.toString()) } catch(ex) { return \"NULL\" }\n}\n\ndef bigint(Object v) {\n    if (v == null) return \"NULL\"\n    try { return Long.parseLong(v.toString()) } catch(ex) { return \"NULL\" }\n}\n\ndef nowUtc() { LocalDateTime.now().format(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\")) }\n\ndef safeIsoToSqlDate(Object v) {\n    def iso = normalizeIso(v?.toString())\n    return iso ? \"CONVERT(datetime2(7), ${qv(iso)}, 126)\" : \"NULL\"\n}\n\n// alias (gi tng thch)\ndef safeSqlDate(Object v) { return safeIsoToSqlDate(v) }\n\n// tr v SQL datetime2(7)  u ngy\ndef daySql(Object v) {\n    def iso = startOfDayIso(v)\n    return iso ? \"CONVERT(datetime2(7), ${qv(iso)}, 126)\" : \"NULL\"\n}\n\ndef zeroIfNullDecimal(Object v) {\n    def d = dec(v)\n    return (d == \"NULL\") ? \"0\" : d\n}\n\n// =============== End Utils ===============\n\ndef flowFile = session.get()\nif (!flowFile) return\n\n// ---------- Attributes ----------\ndef rawPath         = flowFile.getAttribute('stateCurrent.fullPath')    // RAW list (saved JSON file)\ndef adAccountsPath  = flowFile.getAttribute('stateAdAccounts.fullpath') // [{AdvertiserId, Id}]\ndef dimBcId         = flowFile.getAttribute('stateBc.dimId')            // GUID\ndef bcId            = flowFile.getAttribute('stateBc.id')               // string\n\n// ---------- Load RAW ----------\ndef rawList = []\nif (rawPath) {\n    def f = new File(rawPath)\n    if (f.exists()) {\n        def txt = f.getText(StandardCharsets.UTF_8.name())\n        def parsed = new JsonSlurper().parseText(txt)\n        rawList = (parsed instanceof List) ? parsed : [parsed]\n    }\n}\n\n// ---------- Load DIM maps ----------\ndef adMap = [:]     // AdvertiserId -> DimAdAccountId\nif (adAccountsPath) {\n    def f = new File(adAccountsPath)\n    if (f.exists()) {\n        def list = new JsonSlurper().parseText(f.getText(StandardCharsets.UTF_8.name()))\n        list.each { it -> if (it?.AdvertiserId && it?.Id) adMap[it.AdvertiserId.toString()] = it.Id.toString() }\n    }\n}\n\n// ---------- Load FACT current from flow content ----------\ndef factRows = []\nflowFile = session.write(flowFile, { inp, out ->\n    def content = inp.getText(StandardCharsets.UTF_8.name())\n    if (content?.trim()) {\n        def parsed = new JsonSlurper().parseText(content)\n        factRows = (parsed instanceof List) ? parsed : [parsed]\n        out.write(content.getBytes(StandardCharsets.UTF_8))\n    } else {\n        out.write(\"[]\".getBytes(StandardCharsets.UTF_8))\n    }\n} as StreamCallback)\n\n// Build fact map theo key: (BcId, AdvertiserId, DimDateId)\ndef factMap = [:]\nfactRows.each { f ->\n    def isoDate = normalizeIso(f?.Date)                 // ni dung select c tr Date ISO string\n    def dimDateId = toDimDateId(isoDate)\n    def k = [\n        (bcId ?: (f?.BcId ?: \"\")).toString().trim(),\n        (f?.AdvertiserId ?: \"\").toString().trim(),\n        (dimDateId ?: \"\")\n    ].join(\"|\")\n    factMap[k] = f\n}\n\n// ---------- DEDUP RAW: latest-wins theo (BcId, AdvertiserId, DimDateId) ----------\ndef chooseNewer = { a, b ->\n    // u tin LastModificationTime, sau  Date, ri Id\n    def la = normalizeIso(a?.LastModificationTime)\n    def lb = normalizeIso(b?.LastModificationTime)\n    if (la && lb && la != lb) return la > lb\n\n    def da = normalizeIso(a?.Date)\n    def db = normalizeIso(b?.Date)\n    if (da && db && da != db) return da > db\n\n    // fallback: so snh Id (string) cho n nh\n    return (a?.Id?.toString() ?: \"\") > (b?.Id?.toString() ?: \"\")\n}\n\ndef dedup = [:]  // key -> row\nrawList.each { r ->\n    def isoDate = normalizeIso(r?.Date)\n    def dimDateId = toDimDateId(isoDate)\n    def key = [\n        (bcId ?: r?.BcId ?: \"\").toString().trim(),\n        (r?.AdvertiserId ?: \"\").toString().trim(),\n        (dimDateId ?: \"\")\n    ].join(\"|\")\n\n    def cur = dedup[key]\n    if (cur == null) dedup[key] = r\n    else if (chooseNewer(r, cur)) dedup[key] = r\n}\n// dng danh sch  dedup\nrawList = dedup.values().toList()\n\n// ---------- Stage INSERT / UPDATE ----------\ndef inserts = []\ndef updates = []\n\nrawList.each { r ->\n    def isoDate = normalizeIso(r?.Date)\n    def dimDateId = toDimDateId(isoDate)\n    def key = [\n        (bcId ?: r?.BcId ?: \"\").toString().trim(),\n        (r?.AdvertiserId ?: \"\").toString().trim(),\n        (dimDateId ?: \"\")\n    ].join(\"|\")\n\n    def existing = factMap[key]\n    if (existing == null) inserts << r else updates << [raw: r, existing: existing]\n}\n\n// ---------- Build SQL ----------\ndef now = nowUtc()\n// CT TaxAmount ang NOT NULL -> t 0\ndef TAX0 = \"0\"\n\n// INSERTs\ndef insertValues = inserts.collect { r ->\n    def isoDate = normalizeIso(r?.Date)\n    def dimDateId = toDimDateId(isoDate)\n    def id = UUID.randomUUID().toString()\n    def dimAdId = adMap[r?.AdvertiserId?.toString()]\n    def currency = (r?.Currency ?: null)\n    def isUSD = (currency == 'USD')\n    def isVND = (currency == 'VND')\n\n    \"\"\"(\n${qv(id)},                         -- Id\n${dimDateId ?: \"NULL\"},            -- DimDateId\n${qv(dimAdId)},                    -- DimAdAccountId\n${qv(dimBcId)},                    -- DimBusinessCenterId\n${q(r?.AdvertiserId)},             -- AdvertiserId\n${q(r?.AdvertiserName)},           -- AdvertiserName\n${q(bcId)},                        -- BcId\n${dec(r?.TotalAmount)},            -- TotalAmount\n${dec(r?.CashAmount)},             -- CashAmount\n${dec(r?.GrantAmount)},            -- GrantAmount\n${TAX0},                           -- TaxAmount (NOT NULL -> 0)\n${q(currency)},                    -- Currency\n${daySql(r?.Date)},                -- Date (u ngy)\n${qv(now)},                        -- CreationTime\nNULL,                              -- CreatorId\nNULL,                              -- LastModificationTime\nNULL,                              -- LastModifierId\n${isUSD ? dec(r?.CashAmount)  : \"NULL\"}, -- CashAmountUSD\n${isVND ? dec(r?.CashAmount)  : \"NULL\"}, -- CashAmountVND\n${isUSD ? dec(r?.GrantAmount) : \"NULL\"}, -- GrantAmountUSD\n${isVND ? dec(r?.GrantAmount) : \"NULL\"}, -- GrantAmountVND\nNULL,                              -- TaxAmountUSD\nNULL,                              -- TaxAmountVND\n${isUSD ? dec(r?.TotalAmount) : \"NULL\"}, -- TotalAmountUSD\n${isVND ? dec(r?.TotalAmount) : \"NULL\"}  -- TotalAmountVND\n)\"\"\"\n}\n\ndef sqlInsert = insertValues.isEmpty() ? \"\" : \"\"\"\nINSERT INTO [dbo].[Fact_FactDailySpends]\n([Id],[DimDateId],[DimAdAccountId],[DimBusinessCenterId],\n [AdvertiserId],[AdvertiserName],[BcId],\n [TotalAmount],[CashAmount],[GrantAmount],[TaxAmount],\n [Currency],[Date],\n [CreationTime],[CreatorId],[LastModificationTime],[LastModifierId],\n [CashAmountUSD],[CashAmountVND],\n [GrantAmountUSD],[GrantAmountVND],[TaxAmountUSD],[TaxAmountVND],\n [TotalAmountUSD],[TotalAmountVND])\nVALUES\n${insertValues.join(\",\\n\")}\n\"\"\".trim()\n\n// UPDATEs\ndef updateStatements = updates.collect { u ->\n    def r = u.raw\n    def existing = u.existing\n    def isoDate = normalizeIso(r?.Date)\n    def dimDateId = toDimDateId(isoDate)\n    def currency = (r?.Currency ?: null)\n    def isUSD = (currency == 'USD')\n    def isVND = (currency == 'VND')\n\n    def whereById = existing?.Id ? \"WHERE [Id] = ${qv(existing.Id)}\" : \"\"\"\nWHERE [BcId] = ${q(bcId)}\n  AND [AdvertiserId] = ${q(r?.AdvertiserId)}\n  AND [DimDateId]    = ${dimDateId ?: \"NULL\"}\n\"\"\".trim()\n\n    \"\"\"\nUPDATE [dbo].[Fact_FactDailySpends]\nSET AdvertiserName   = ${q(r?.AdvertiserName)},\n    TotalAmount      = ${dec(r?.TotalAmount)},\n    CashAmount       = ${dec(r?.CashAmount)},\n    GrantAmount      = ${dec(r?.GrantAmount)},\n    TaxAmount        = ${TAX0},\n    Currency         = ${q(currency)},\n    Date             = ${daySql(r?.Date)},\n    CashAmountUSD    = ${isUSD ? dec(r?.CashAmount)  : \"NULL\"},\n    CashAmountVND    = ${isVND ? dec(r?.CashAmount)  : \"NULL\"},\n    GrantAmountUSD   = ${isUSD ? dec(r?.GrantAmount) : \"NULL\"},\n    GrantAmountVND   = ${isVND ? dec(r?.GrantAmount) : \"NULL\"},\n    TaxAmountUSD     = NULL,\n    TaxAmountVND     = NULL,\n    TotalAmountUSD   = ${isUSD ? dec(r?.TotalAmount) : \"NULL\"},\n    TotalAmountVND   = ${isVND ? dec(r?.TotalAmount) : \"NULL\"},\n    LastModificationTime = ${qv(now)}\n${whereById}\n\"\"\".trim()\n}\n\ndef sqlUpdate = updateStatements.join(\";\\n\")\n\n// ---------- Final SQL to flow content ----------\ndef finalSql = new StringBuilder()\nif (sqlInsert?.trim()) { finalSql.append(sqlInsert.trim()); finalSql.append(\";\\n\") }\nif (sqlUpdate?.trim()) { finalSql.append(sqlUpdate.trim()); finalSql.append(\";\\n\") }\n\nflowFile = session.write(flowFile, { _, out ->\n    out.write((finalSql.toString()).getBytes(StandardCharsets.UTF_8))\n} as StreamCallback)\n\nsession.transfer(flowFile, REL_SUCCESS)",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "38eacde4-7c0d-38e5-be2c-2c9d6cd1b445",
          "maxBackoffPeriod" : "10 mins",
          "name" : "KhoiTao",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 232.0,
            "y" : -208.0
          },
          "properties" : {
            "stateCurrent.filename" : "${state.name}-bc-${stateBc.id}-ad-page${state.page}.json",
            "filename" : "${state.name}-bc-${stateBc.id}-ad-page${state.page}.json",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "stateCurrent.fullPath" : "#{TempPath}${Path.Separator}${state.name}${Path.Separator}${state.name}-bc-${stateBc.id}-ad-page${state.page}.json",
            "skip" : "${state.page:toNumber():minus(1):multiply(${state.pageSize:toNumber()})}",
            "stateCurrent.directory" : "#{TempPath}${Path.Separator}${state.name}"
          },
          "propertyDescriptors" : {
            "stateCurrent.filename" : {
              "displayName" : "stateCurrent.filename",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "stateCurrent.filename",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "filename" : {
              "displayName" : "filename",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "filename",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "stateCurrent.fullPath" : {
              "displayName" : "stateCurrent.fullPath",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "stateCurrent.fullPath",
              "sensitive" : false
            },
            "skip" : {
              "displayName" : "skip",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "skip",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            },
            "stateCurrent.directory" : {
              "displayName" : "stateCurrent.directory",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "stateCurrent.directory",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-groovyx-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "0caf9a6c-5c1c-3251-8b30-f46e7a352a44",
          "maxBackoffPeriod" : "10 mins",
          "name" : "ChuanHoaDuLieuRaw",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1416.0,
            "y" : -192.0
          },
          "properties" : {
            "groovyx-script-body" : "import org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\nimport java.time.LocalDate\nimport java.time.LocalDateTime\nimport java.time.format.DateTimeFormatter\nimport java.time.format.DateTimeFormatterBuilder\nimport java.time.temporal.ChronoField\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ndef hasData = false\ndef minDate = ''\ndef maxDate = ''\ndef lastPage = '0' // mc nh\n\n// Helper: chun ho list -> unique, trim, b rng + sort (u tin s)\ndef uniqList = { List raw ->\n    raw\n        .findAll { it != null }\n        .collect { it.toString().trim() }\n        .findAll { it.length() > 0 }\n        .toSet()\n        .toList()\n        .sort { a, b ->\n            try { (new BigDecimal(a) <=> new BigDecimal(b)) } catch (ignored) { a <=> b }\n        }\n}\n\n// Helper xut IN clause c nhy n (dng an ton cho c s/chui)\ndef toInClauseQuoted = { List lst ->\n    '(' + lst.collect { v ->\n        def s = v == null ? '' : v.toString().replace(\"'\", \"''\")\n        \"'${s}'\"\n    }.join(',') + ')'\n}\n\n// Helper parse Date linh hot -> LocalDate\ndef parseToLocalDate = { String s ->\n    if (s == null) return null\n    def t = s.trim()\n    // th nh dng yyyy-MM-dd (LocalDate)\n    try {\n        return LocalDate.parse(t, DateTimeFormatter.ISO_LOCAL_DATE)\n    } catch (ignored) {}\n    // th datetime: yyyy-MM-dd'T'HH:mm:ss[.fraction], b Z nu c\n    def s2 = t.replace(' ', 'T').replaceAll('[Zz]$', '')\n    try {\n        def dtf = new DateTimeFormatterBuilder()\n            .appendPattern(\"yyyy-MM-dd'T'HH:mm:ss\")\n            .optionalStart().appendFraction(ChronoField.NANO_OF_SECOND, 1, 9, true).optionalEnd()\n            .toFormatter()\n        return LocalDateTime.parse(s2, dtf).toLocalDate()\n    } catch (ignored) {}\n    return null\n}\n\n// Ly pageSize t attribute\ndef pageSizeAttr = flowFile.getAttribute(\"state.pageSize\") ?: \"0\"\ndef pageSize = 0\ntry { pageSize = pageSizeAttr.toInteger() } catch (ignored) { pageSize = 0 }\n\n// B cha kt qu ID duy nht\ndef advertiserIdsUniq = []\n\nflowFile = session.write(flowFile, { inputStream, outputStream ->\n    def content = inputStream.getText(StandardCharsets.UTF_8.name())\n    outputStream.write(content.getBytes(StandardCharsets.UTF_8))\n\n    def json = new JsonSlurper().parseText(content)\n    if (!(json instanceof List)) json = [json]\n\n    hasData = !json.isEmpty()\n\n    if (hasData) {\n        // === TNH MIN/MAX THEO TRNG Date (a v yyyy-MM-dd) ===\n        def dates = json*.Date\n            .findAll { it != null }\n            .collect { parseToLocalDate(it.toString()) }\n            .findAll { it != null }\n\n        if (!dates.isEmpty()) {\n            minDate = dates.min().toString()  // yyyy-MM-dd\n            maxDate = dates.max().toString()  // yyyy-MM-dd\n        }\n\n        // === LY DANH SCH AdvertiserId DUY NHT ===\n        advertiserIdsUniq = uniqList(json*.AdvertiserId)\n\n        // === NH DU TRANG CUI ===\n        if (pageSize > 0 && json.size() < pageSize) lastPage = '1'\n    }\n} as StreamCallback)\n\n// Chun b attributes a ra\ndef attrs = [\n    'hasData' : hasData.toString(),\n    'minDate' : minDate,       // gi cp tng qut\n    'maxDate' : maxDate,\n    'lastPage': lastPage\n]\n\n// Gn thm cc thuc tnh stateCurrent.* nu c d liu\nif (hasData) {\n    // JSON array\n    attrs['stateCurrent.advertiserIds'] = JsonOutput.toJson(advertiserIdsUniq)\n\n    // IN clause ( c nhy n)\n    attrs['stateCurrent.advertiserIds.inClause'] = toInClauseQuoted(advertiserIdsUniq)\n\n    // Min/Max date theo prefix stateCurrent.*\n    attrs['stateCurrent.minDate'] = (minDate ?: '')\n    attrs['stateCurrent.maxDate'] = (maxDate ?: '')\n}\n\nflowFile = session.putAllAttributes(flowFile, attrs)\nsession.transfer(flowFile, REL_SUCCESS)",
            "groovyx-failure-strategy" : "rollback"
          },
          "propertyDescriptors" : {
            "groovyx-script-body" : {
              "displayName" : "Script Body",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-body",
              "sensitive" : false
            },
            "groovyx-failure-strategy" : {
              "displayName" : "Failure strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-failure-strategy",
              "sensitive" : false
            },
            "groovyx-additional-classpath" : {
              "displayName" : "Additional classpath",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-additional-classpath",
              "sensitive" : false
            },
            "groovyx-script-file" : {
              "displayName" : "Script File",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "groovyx-script-file",
              "resourceDefinition" : {
                "cardinality" : "SINGLE",
                "resourceTypes" : [ "FILE" ]
              },
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "6d69c4e7-e7c5-391f-881c-a56e1aca33b6",
          "maxBackoffPeriod" : "10 mins",
          "name" : "CleanupTempFile",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1392.0,
            "y" : 432.0
          },
          "properties" : {
            "Filename" : "${stateCurrent.filename}",
            "Directory Path" : "${stateCurrent.directory}"
          },
          "propertyDescriptors" : {
            "Filename" : {
              "displayName" : "Filename",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Filename",
              "sensitive" : false
            },
            "Directory Path" : {
              "displayName" : "Directory Path",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Directory Path",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.DeleteFile",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "failure" ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "1caaacd9-764f-3f2d-9d21-a25231949e3f",
          "maxBackoffPeriod" : "10 mins",
          "name" : "ConvertRecord",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 2936.0,
            "y" : 360.0
          },
          "properties" : {
            "Include Zero Record FlowFiles" : "true",
            "Record Writer" : "737ac079-fdcd-3451-abaa-ac44628d03db",
            "Record Reader" : "06666895-4e2e-342e-9a9f-d52705d27d27"
          },
          "propertyDescriptors" : {
            "Include Zero Record FlowFiles" : {
              "displayName" : "Include Zero Record FlowFiles",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Include Zero Record FlowFiles",
              "sensitive" : false
            },
            "Record Writer" : {
              "displayName" : "Record Writer",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Writer",
              "sensitive" : false
            },
            "Record Reader" : {
              "displayName" : "Record Reader",
              "dynamic" : false,
              "identifiesControllerService" : true,
              "name" : "Record Reader",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.ConvertRecord",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "8604c9d8-c9c0-3cbe-abc1-5be0a1293cf7",
          "maxBackoffPeriod" : "10 mins",
          "name" : "RouteOnAttributeCheckLastPage",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1928.0,
            "y" : 936.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "isLastPage" : "${lastPage:equals('1')}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "isLastPage" : {
              "displayName" : "isLastPage",
              "dynamic" : true,
              "identifiesControllerService" : false,
              "name" : "isLastPage",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 25,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "backoffMechanism" : "PENALIZE_FLOWFILE",
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "2.4.0"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "1d6143f3-da86-383b-b960-9a9ded661382",
          "identifier" : "c72705a8-f758-3921-8d09-4df127172f96",
          "maxBackoffPeriod" : "10 mins",
          "name" : "SaveRawTemp",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 2448.0,
            "y" : -208.0
          },
          "properties" : {
            "Create Missing Directories" : "true",
            "Directory" : "${stateCurrent.directory}",
            "Conflict Resolution Strategy" : "replace"
          },
          "propertyDescriptors" : {
            "Group" : {
              "displayName" : "Group",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Group",
              "sensitive" : false
            },
            "Owner" : {
              "displayName" : "Owner",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Owner",
              "sensitive" : false
            },
            "Create Missing Directories" : {
              "displayName" : "Create Missing Directories",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Create Missing Directories",
              "sensitive" : false
            },
            "Permissions" : {
              "displayName" : "Permissions",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Permissions",
              "sensitive" : false
            },
            "Maximum File Count" : {
              "displayName" : "Maximum File Count",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Maximum File Count",
              "sensitive" : false
            },
            "Last Modified Time" : {
              "displayName" : "Last Modified Time",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Last Modified Time",
              "sensitive" : false
            },
            "Directory" : {
              "displayName" : "Directory",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Directory",
              "sensitive" : false
            },
            "Conflict Resolution Strategy" : {
              "displayName" : "Conflict Resolution Strategy",
              "dynamic" : false,
              "identifiesControllerService" : false,
              "name" : "Conflict Resolution Strategy",
              "sensitive" : false
            }
          },
          "retriedRelationships" : [ ],
          "retryCount" : 10,
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.PutFile",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "scheduledState" : "ENABLED",
        "statelessFlowTimeout" : "1 min"
      } ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "0bb6923d-6f6b-3ff3-8db5-9c804d64ca6c",
        "maxBackoffPeriod" : "10 mins",
        "name" : "KhoiTao",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 24.0,
          "y" : -72.0
        },
        "properties" : {
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "state.page" : "1",
          "stateAdAccounts.advertiserIds.inClause" : "${stateAdAccounts.advertiserIds\n  :replaceAll('^\\\\[|\\\\]$', '')\n  :replaceAll('\"', '\\'')\n  :prepend('(')\n  :append(')')}",
          "state.pageSize" : "#{PageSizeMax}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "state.page" : {
            "displayName" : "state.page",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.page",
            "sensitive" : false
          },
          "stateAdAccounts.advertiserIds.inClause" : {
            "displayName" : "stateAdAccounts.advertiserIds.inClause",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "stateAdAccounts.advertiserIds.inClause",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "state.pageSize" : {
            "displayName" : "state.pageSize",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.pageSize",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "6953c199-c0b7-37ba-867a-afc19f5f9634",
        "maxBackoffPeriod" : "10 mins",
        "name" : "KiemTraCoTrangTiepTheo",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 16.0,
          "y" : 544.0
        },
        "properties" : {
          "Routing Strategy" : "Route to Property name",
          "nextPage" : "${state.continue:equals(1)}"
        },
        "propertyDescriptors" : {
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "nextPage" : {
            "displayName" : "nextPage",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "nextPage",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "e13cdf9a-7a6a-36fa-bd0e-a49af8f2521e",
        "identifier" : "be052108-b07b-3773-a2ab-569053df0598",
        "maxBackoffPeriod" : "10 mins",
        "name" : "TrangTiepTheo",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 808.0,
          "y" : 352.0
        },
        "properties" : {
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "state.page" : "${state.page:toNumber():plus(1)}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "state.page" : {
            "displayName" : "state.page",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.page",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "805d5d2b-bd7c-35a9-83d9-825e44a9c332",
          "name" : "stateOut",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "85e7b9e9-4f44-3371-86fb-4df2167427f6",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "1257ac1c-7aac-3db5-b52a-064ed0d0175a",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 47
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "06552ac8-76bc-3556-815e-ee0c7e0c4c33",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "cbeb0040-593a-3bd1-8c34-0304ef230dad",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "ffd34fb1-bca6-3dd0-8ba4-ba3fff875c22",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "zIndex" : 42
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "04ce4fa5-8d2f-3119-9f5c-1cb0f0a2f160",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "90575d51-cf7e-3efe-9966-496a2ed4592a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "1257ac1c-7aac-3db5-b52a-064ed0d0175a",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 46
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "1257ac1c-7aac-3db5-b52a-064ed0d0175a",
          "name" : "LuuFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "98218b8a-cc91-37c6-a831-e6300721c825",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "06552ac8-76bc-3556-815e-ee0c7e0c4c33",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 43
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "04ce4fa5-8d2f-3119-9f5c-1cb0f0a2f160",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "9bece147-3542-3770-8758-15b88c41107a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "06552ac8-76bc-3556-815e-ee0c7e0c4c33",
          "name" : "CapNhatToContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 44
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "ffd34fb1-bca6-3dd0-8ba4-ba3fff875c22",
          "name" : "ChuanHoa",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "75a5a373-fa9a-314b-ae99-6069857bb9a4",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "88e12079-604d-343d-9aae-a794b871d1d5",
          "id" : "c4dccf04-3546-30c2-b371-d953c6e58900",
          "name" : "TrangThai",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 41
      } ],
      "controllerServices" : [ ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "c4dccf04-3546-30c2-b371-d953c6e58900",
        "name" : "TrangThai",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -488.0,
          "y" : -176.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "LuuTrangThaiETL",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "805d5d2b-bd7c-35a9-83d9-825e44a9c332",
        "name" : "stateOut",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 1464.0,
          "y" : -200.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "ETL",
      "position" : {
        "x" : -328.0,
        "y" : 4176.0
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "ffd34fb1-bca6-3dd0-8ba4-ba3fff875c22",
        "maxBackoffPeriod" : "10 mins",
        "name" : "ChuanHoa",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 16.0,
          "y" : -224.0
        },
        "properties" : {
          "filename" : "${state.filename}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "state.lastExecutionTime" : "${now():format(\"yyyy-MM-dd HH:mm:ss\", \"UTC\")}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "state.lastExecutionTime" : {
            "displayName" : "state.lastExecutionTime",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "state.lastExecutionTime",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "1257ac1c-7aac-3db5-b52a-064ed0d0175a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LuuFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 944.0,
          "y" : -232.0
        },
        "properties" : {
          "Create Missing Directories" : "true",
          "Directory" : "${state.path}",
          "Conflict Resolution Strategy" : "replace"
        },
        "propertyDescriptors" : {
          "Group" : {
            "displayName" : "Group",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Group",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "Create Missing Directories" : {
            "displayName" : "Create Missing Directories",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Create Missing Directories",
            "sensitive" : false
          },
          "Permissions" : {
            "displayName" : "Permissions",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Permissions",
            "sensitive" : false
          },
          "Maximum File Count" : {
            "displayName" : "Maximum File Count",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum File Count",
            "sensitive" : false
          },
          "Last Modified Time" : {
            "displayName" : "Last Modified Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Last Modified Time",
            "sensitive" : false
          },
          "Directory" : {
            "displayName" : "Directory",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Directory",
            "sensitive" : false
          },
          "Conflict Resolution Strategy" : {
            "displayName" : "Conflict Resolution Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Conflict Resolution Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.PutFile",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "04ce4fa5-8d2f-3119-9f5c-1cb0f0a2f160",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 616.0,
          "y" : 64.0
        },
        "properties" : {
          "log-level" : "info"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ "success" ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2.4.0"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "88e12079-604d-343d-9aae-a794b871d1d5",
        "identifier" : "06552ac8-76bc-3556-815e-ee0c7e0c4c33",
        "maxBackoffPeriod" : "10 mins",
        "name" : "CapNhatToContent",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 424.0,
          "y" : -232.0
        },
        "properties" : {
          "Regular Expression" : "(?s)(^.*$)",
          "Replacement Value" : "{\n  \"name\": \"${state.name}\",\n  \"isActive\": ${state.isActive},\n  \"lastExecutionTime\": \"${state.lastExecutionTime}\",\n  \"startTime\": \"${state.startTime}\",\n  \"endTime\": \"${state.endTime}\",\n  \"status\": \"${state.status}\",\n  \"sequenceNumber\": \"${state.sequenceNumber}\",\n  \"message\": \"${state.message}\"\n}",
          "Evaluation Mode" : "Entire text",
          "Line-by-Line Evaluation Mode" : "All",
          "Character Set" : "UTF-8",
          "Maximum Buffer Size" : "1 MB",
          "Replacement Strategy" : "Always Replace"
        },
        "propertyDescriptors" : {
          "Regular Expression" : {
            "displayName" : "Search Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Regular Expression",
            "sensitive" : false
          },
          "Replacement Value" : {
            "displayName" : "Replacement Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Value",
            "sensitive" : false
          },
          "Evaluation Mode" : {
            "displayName" : "Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Evaluation Mode",
            "sensitive" : false
          },
          "Text to Prepend" : {
            "displayName" : "Text to Prepend",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Prepend",
            "sensitive" : false
          },
          "Line-by-Line Evaluation Mode" : {
            "displayName" : "Line-by-Line Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Line-by-Line Evaluation Mode",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Maximum Buffer Size" : {
            "displayName" : "Maximum Buffer Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Buffer Size",
            "sensitive" : false
          },
          "Replacement Strategy" : {
            "displayName" : "Replacement Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Strategy",
            "sensitive" : false
          },
          "Text to Append" : {
            "displayName" : "Text to Append",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Append",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ReplaceText",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    } ],
    "processors" : [ {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "fa5cddd7-236a-3d2d-bd13-c16acd1478b4",
      "maxBackoffPeriod" : "10 mins",
      "name" : "DuyetTungBC",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : 1320.0
      },
      "properties" : {
        "Max String Length" : "100 MB",
        "Null Value Representation" : "empty string",
        "JsonPath Expression" : "$[*]"
      },
      "propertyDescriptors" : {
        "Max String Length" : {
          "displayName" : "Max String Length",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max String Length",
          "sensitive" : false
        },
        "Null Value Representation" : {
          "displayName" : "Null Value Representation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Null Value Representation",
          "sensitive" : false
        },
        "JsonPath Expression" : {
          "displayName" : "JsonPath Expression",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "JsonPath Expression",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.SplitJson",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "failure" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "7cb6e7b1-e946-3b2c-8767-1b86fc1400f0",
      "maxBackoffPeriod" : "10 mins",
      "name" : "Data to JSON",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : 1104.0
      },
      "properties" : {
        "Include Zero Record FlowFiles" : "true",
        "Record Writer" : "737ac079-fdcd-3451-abaa-ac44628d03db",
        "Record Reader" : "06666895-4e2e-342e-9a9f-d52705d27d27"
      },
      "propertyDescriptors" : {
        "Include Zero Record FlowFiles" : {
          "displayName" : "Include Zero Record FlowFiles",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Include Zero Record FlowFiles",
          "sensitive" : false
        },
        "Record Writer" : {
          "displayName" : "Record Writer",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "Record Writer",
          "sensitive" : false
        },
        "Record Reader" : {
          "displayName" : "Record Reader",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "Record Reader",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.ConvertRecord",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-update-attribute-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "0e1abc65-b029-35e4-aaa4-6f980faaf850",
      "maxBackoffPeriod" : "10 mins",
      "name" : "CapNhatTrangThaiBcHienTaiLaHoanThanh",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : 3224.0
      },
      "properties" : {
        "Store State" : "Do not store state",
        "canonical-value-lookup-cache-size" : "100",
        "stateBc.isActive" : "false",
        "stateBc.message" : "Hon thnh",
        "stateBc.status" : "2"
      },
      "propertyDescriptors" : {
        "Delete Attributes Expression" : {
          "displayName" : "Delete Attributes Expression",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Delete Attributes Expression",
          "sensitive" : false
        },
        "Store State" : {
          "displayName" : "Store State",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Store State",
          "sensitive" : false
        },
        "canonical-value-lookup-cache-size" : {
          "displayName" : "Cache Value Lookup Cache Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "canonical-value-lookup-cache-size",
          "sensitive" : false
        },
        "stateBc.isActive" : {
          "displayName" : "stateBc.isActive",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "stateBc.isActive",
          "sensitive" : false
        },
        "Stateful Variables Initial Value" : {
          "displayName" : "Stateful Variables Initial Value",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Stateful Variables Initial Value",
          "sensitive" : false
        },
        "stateBc.message" : {
          "displayName" : "stateBc.message",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "stateBc.message",
          "sensitive" : false
        },
        "stateBc.status" : {
          "displayName" : "stateBc.status",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "stateBc.status",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "36c8d0f5-127a-3e4f-8748-feaf09642640",
      "maxBackoffPeriod" : "10 mins",
      "name" : "KiemTraLaBcCuoiCung",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : 3720.0
      },
      "properties" : {
        "Routing Strategy" : "Route to Property name",
        "bcCuoiCung" : "${fragment.index:toNumber():equals(${fragment.count:toNumber():minus(1)}):and(${state.continue:equals('0')})}"
      },
      "propertyDescriptors" : {
        "Routing Strategy" : {
          "displayName" : "Routing Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Routing Strategy",
          "sensitive" : false
        },
        "bcCuoiCung" : {
          "displayName" : "bcCuoiCung",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "bcCuoiCung",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "success" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "9ad30d17-ab5c-3b94-bfab-4f7614de0a68",
      "maxBackoffPeriod" : "10 mins",
      "name" : "LogMessage",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -768.0,
        "y" : 3720.0
      },
      "properties" : {
        "log-level" : "info"
      },
      "propertyDescriptors" : {
        "log-message" : {
          "displayName" : "Log message",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "log-message",
          "sensitive" : false
        },
        "log-level" : {
          "displayName" : "Log Level",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "log-level",
          "sensitive" : false
        },
        "log-prefix" : {
          "displayName" : "Log prefix",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "log-prefix",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.LogMessage",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "success" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "256e9b97-d5e1-3783-bd2f-0dd8e1493fd4",
      "maxBackoffPeriod" : "10 mins",
      "name" : "LogMessage",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -816.0,
        "y" : 1992.0
      },
      "properties" : {
        "log-level" : "info"
      },
      "propertyDescriptors" : {
        "log-message" : {
          "displayName" : "Log message",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "log-message",
          "sensitive" : false
        },
        "log-level" : {
          "displayName" : "Log Level",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "log-level",
          "sensitive" : false
        },
        "log-prefix" : {
          "displayName" : "Log prefix",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "log-prefix",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ "success" ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.LogMessage",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "675d35f3-5ef1-38ed-ac55-8aa925bbc98a",
      "maxBackoffPeriod" : "10 mins",
      "name" : "KhoiTao",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : -200.0
      },
      "properties" : {
        "character-set" : "UTF-8",
        "state.name" : "ETL_DailySpend",
        "File Size" : "100MB",
        "Path.Separator" : "#{Path.Separator}",
        "Batch Size" : "1",
        "Unique FlowFiles" : "false",
        "Data Format" : "Text"
      },
      "propertyDescriptors" : {
        "character-set" : {
          "displayName" : "Character Set",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "character-set",
          "sensitive" : false
        },
        "state.name" : {
          "displayName" : "state.name",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "state.name",
          "sensitive" : false
        },
        "File Size" : {
          "displayName" : "File Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "File Size",
          "sensitive" : false
        },
        "mime-type" : {
          "displayName" : "Mime Type",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "mime-type",
          "sensitive" : false
        },
        "generate-ff-custom-text" : {
          "displayName" : "Custom Text",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "generate-ff-custom-text",
          "sensitive" : false
        },
        "Path.Separator" : {
          "displayName" : "Path.Separator",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "Path.Separator",
          "sensitive" : false
        },
        "Batch Size" : {
          "displayName" : "Batch Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Batch Size",
          "sensitive" : false
        },
        "Unique FlowFiles" : {
          "displayName" : "Unique FlowFiles",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Unique FlowFiles",
          "sensitive" : false
        },
        "Data Format" : {
          "displayName" : "Data Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Data Format",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "60 min",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.GenerateFlowFile",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "6fbb96df-75d1-3ce5-bd78-89ab9a6037cb",
      "maxBackoffPeriod" : "10 mins",
      "name" : "LayDanhSachBC",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : 904.0
      },
      "properties" : {
        "esql-max-rows" : "0",
        "dbf-default-precision" : "10",
        "Max Wait Time" : "0 seconds",
        "SQL Query" : "SELECT *\nFROM dbo.Dim_DimBusinessCenters\nWHERE IsCurrent = 1;",
        "Database Connection Pooling Service" : "f5dbff0f-66b8-386d-ad0d-9161887a3743",
        "esql-auto-commit" : "true",
        "dbf-user-logical-types" : "false",
        "dbf-default-scale" : "0",
        "compression-format" : "NONE",
        "esql-output-batch-size" : "0",
        "esql-fetch-size" : "0",
        "dbf-normalize" : "false",
        "Content Output Strategy" : "EMPTY"
      },
      "propertyDescriptors" : {
        "esql-max-rows" : {
          "displayName" : "Max Rows Per Flow File",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-max-rows",
          "sensitive" : false
        },
        "dbf-default-precision" : {
          "displayName" : "Default Decimal Precision",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbf-default-precision",
          "sensitive" : false
        },
        "Max Wait Time" : {
          "displayName" : "Max Wait Time",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max Wait Time",
          "sensitive" : false
        },
        "SQL Query" : {
          "displayName" : "SQL Query",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "SQL Query",
          "sensitive" : false
        },
        "Database Connection Pooling Service" : {
          "displayName" : "Database Connection Pooling Service",
          "dynamic" : false,
          "identifiesControllerService" : true,
          "name" : "Database Connection Pooling Service",
          "sensitive" : false
        },
        "sql-post-query" : {
          "displayName" : "SQL Post-Query",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "sql-post-query",
          "sensitive" : false
        },
        "esql-auto-commit" : {
          "displayName" : "Set Auto Commit",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-auto-commit",
          "sensitive" : false
        },
        "dbf-user-logical-types" : {
          "displayName" : "Use Avro Logical Types",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbf-user-logical-types",
          "sensitive" : false
        },
        "dbf-default-scale" : {
          "displayName" : "Default Decimal Scale",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbf-default-scale",
          "sensitive" : false
        },
        "sql-pre-query" : {
          "displayName" : "SQL Pre-Query",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "sql-pre-query",
          "sensitive" : false
        },
        "compression-format" : {
          "displayName" : "Compression Format",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "compression-format",
          "sensitive" : false
        },
        "esql-output-batch-size" : {
          "displayName" : "Output Batch Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-output-batch-size",
          "sensitive" : false
        },
        "esql-fetch-size" : {
          "displayName" : "Fetch Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "esql-fetch-size",
          "sensitive" : false
        },
        "dbf-normalize" : {
          "displayName" : "Normalize Table/Column Names",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "dbf-normalize",
          "sensitive" : false
        },
        "Content Output Strategy" : {
          "displayName" : "Content Output Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Content Output Strategy",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.ExecuteSQL",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "1f66740b-ebb0-31c1-8d15-2e48cfce55cb",
      "maxBackoffPeriod" : "10 mins",
      "name" : "KiemTraETLDangXuLy",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : 256.0
      },
      "properties" : {
        "Routing Strategy" : "Route to Property name",
        "isProcessing" : "${state.isActive:equals('true')}"
      },
      "propertyDescriptors" : {
        "Routing Strategy" : {
          "displayName" : "Routing Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Routing Strategy",
          "sensitive" : false
        },
        "isProcessing" : {
          "displayName" : "isProcessing",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "isProcessing",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "success" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "b92c53e1-3c86-3973-b262-d2d922764ebc",
      "maxBackoffPeriod" : "10 mins",
      "name" : "LogMessage",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -768.0,
        "y" : 456.0
      },
      "properties" : {
        "log-level" : "info"
      },
      "propertyDescriptors" : {
        "log-message" : {
          "displayName" : "Log message",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "log-message",
          "sensitive" : false
        },
        "log-level" : {
          "displayName" : "Log Level",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "log-level",
          "sensitive" : false
        },
        "log-prefix" : {
          "displayName" : "Log prefix",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "log-prefix",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.LogMessage",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-update-attribute-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "2d0b7e72-d7b6-36f7-a5e2-ba6f0812df68",
      "maxBackoffPeriod" : "10 mins",
      "name" : "CapNhatBcHienTaiLaDangXuLy",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : 2208.0
      },
      "properties" : {
        "stateBc.endTime" : "${state.endTime}",
        "Store State" : "Do not store state",
        "canonical-value-lookup-cache-size" : "100",
        "stateBc.sequenceNumber" : "${state.sequenceNumber}",
        "stateBc.isActive" : "true",
        "stateBc.message" : "ang x l",
        "stateBc.status" : "1"
      },
      "propertyDescriptors" : {
        "stateBc.endTime" : {
          "displayName" : "stateBc.endTime",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "stateBc.endTime",
          "sensitive" : false
        },
        "Delete Attributes Expression" : {
          "displayName" : "Delete Attributes Expression",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Delete Attributes Expression",
          "sensitive" : false
        },
        "Store State" : {
          "displayName" : "Store State",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Store State",
          "sensitive" : false
        },
        "canonical-value-lookup-cache-size" : {
          "displayName" : "Cache Value Lookup Cache Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "canonical-value-lookup-cache-size",
          "sensitive" : false
        },
        "stateBc.sequenceNumber" : {
          "displayName" : "stateBc.sequenceNumber",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "stateBc.sequenceNumber",
          "sensitive" : false
        },
        "stateBc.isActive" : {
          "displayName" : "stateBc.isActive",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "stateBc.isActive",
          "sensitive" : false
        },
        "Stateful Variables Initial Value" : {
          "displayName" : "Stateful Variables Initial Value",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Stateful Variables Initial Value",
          "sensitive" : false
        },
        "stateBc.message" : {
          "displayName" : "stateBc.message",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "stateBc.message",
          "sensitive" : false
        },
        "stateBc.status" : {
          "displayName" : "stateBc.status",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "stateBc.status",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-update-attribute-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "65d21fb5-568c-3752-8a24-e158c69519a4",
      "maxBackoffPeriod" : "10 mins",
      "name" : "CapNhatETLLaHoanThanh",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 160.0,
        "y" : 1536.0
      },
      "properties" : {
        "state.message" : "Hon thnh - BC Empty",
        "filename" : "${state.filename}",
        "Store State" : "Do not store state",
        "canonical-value-lookup-cache-size" : "100",
        "state.status" : "2",
        "state.isActive" : "false"
      },
      "propertyDescriptors" : {
        "state.message" : {
          "displayName" : "state.message",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "state.message",
          "sensitive" : false
        },
        "Delete Attributes Expression" : {
          "displayName" : "Delete Attributes Expression",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Delete Attributes Expression",
          "sensitive" : false
        },
        "filename" : {
          "displayName" : "filename",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "filename",
          "sensitive" : false
        },
        "Store State" : {
          "displayName" : "Store State",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Store State",
          "sensitive" : false
        },
        "canonical-value-lookup-cache-size" : {
          "displayName" : "Cache Value Lookup Cache Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "canonical-value-lookup-cache-size",
          "sensitive" : false
        },
        "state.status" : {
          "displayName" : "state.status",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "state.status",
          "sensitive" : false
        },
        "Stateful Variables Initial Value" : {
          "displayName" : "Stateful Variables Initial Value",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Stateful Variables Initial Value",
          "sensitive" : false
        },
        "state.isActive" : {
          "displayName" : "state.isActive",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "state.isActive",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-update-attribute-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "7f9a0de6-b28f-352d-8c86-1d5f26db8930",
      "maxBackoffPeriod" : "10 mins",
      "name" : "CapNhatETLLaDangXuLy",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : 456.0
      },
      "properties" : {
        "state.message" : "ang x l",
        "filename" : "${state.filename}",
        "Store State" : "Do not store state",
        "canonical-value-lookup-cache-size" : "100",
        "state.status" : "1",
        "state.isActive" : "true"
      },
      "propertyDescriptors" : {
        "state.message" : {
          "displayName" : "state.message",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "state.message",
          "sensitive" : false
        },
        "Delete Attributes Expression" : {
          "displayName" : "Delete Attributes Expression",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Delete Attributes Expression",
          "sensitive" : false
        },
        "filename" : {
          "displayName" : "filename",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "filename",
          "sensitive" : false
        },
        "Store State" : {
          "displayName" : "Store State",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Store State",
          "sensitive" : false
        },
        "canonical-value-lookup-cache-size" : {
          "displayName" : "Cache Value Lookup Cache Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "canonical-value-lookup-cache-size",
          "sensitive" : false
        },
        "state.status" : {
          "displayName" : "state.status",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "state.status",
          "sensitive" : false
        },
        "Stateful Variables Initial Value" : {
          "displayName" : "Stateful Variables Initial Value",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Stateful Variables Initial Value",
          "sensitive" : false
        },
        "state.isActive" : {
          "displayName" : "state.isActive",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "state.isActive",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-update-attribute-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "4090ae99-86b5-37e6-8d68-32d01856d839",
      "maxBackoffPeriod" : "10 mins",
      "name" : "CapNhatTrangThaiETLLaHoanThanh",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : 3952.0
      },
      "properties" : {
        "state.message" : "Hon thnh",
        "filename" : "${state.filename}",
        "Store State" : "Do not store state",
        "canonical-value-lookup-cache-size" : "100",
        "state.status" : "2",
        "state.isActive" : "false"
      },
      "propertyDescriptors" : {
        "state.message" : {
          "displayName" : "state.message",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "state.message",
          "sensitive" : false
        },
        "Delete Attributes Expression" : {
          "displayName" : "Delete Attributes Expression",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Delete Attributes Expression",
          "sensitive" : false
        },
        "filename" : {
          "displayName" : "filename",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "filename",
          "sensitive" : false
        },
        "Store State" : {
          "displayName" : "Store State",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Store State",
          "sensitive" : false
        },
        "canonical-value-lookup-cache-size" : {
          "displayName" : "Cache Value Lookup Cache Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "canonical-value-lookup-cache-size",
          "sensitive" : false
        },
        "state.status" : {
          "displayName" : "state.status",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "state.status",
          "sensitive" : false
        },
        "Stateful Variables Initial Value" : {
          "displayName" : "Stateful Variables Initial Value",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Stateful Variables Initial Value",
          "sensitive" : false
        },
        "state.isActive" : {
          "displayName" : "state.isActive",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "state.isActive",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "failure", "unmatched" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "9f2651e5-cdfc-362c-8aec-991d2db00e8b",
      "maxBackoffPeriod" : "10 mins",
      "name" : "ChuyenContentBcLenAttribute",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : 1536.0
      },
      "properties" : {
        "Destination" : "flowfile-attribute",
        "Max String Length" : "20 MB",
        "stateBc.name" : "$.BcName",
        "stateBc.dimId" : "$.Id",
        "Return Type" : "auto-detect",
        "stateBc.id" : "$.BcId",
        "Null Value Representation" : "empty string",
        "Path Not Found Behavior" : "ignore"
      },
      "propertyDescriptors" : {
        "Destination" : {
          "displayName" : "Destination",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Destination",
          "sensitive" : false
        },
        "Max String Length" : {
          "displayName" : "Max String Length",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Max String Length",
          "sensitive" : false
        },
        "stateBc.name" : {
          "displayName" : "stateBc.name",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "stateBc.name",
          "sensitive" : false
        },
        "stateBc.dimId" : {
          "displayName" : "stateBc.dimId",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "stateBc.dimId",
          "sensitive" : false
        },
        "Return Type" : {
          "displayName" : "Return Type",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Return Type",
          "sensitive" : false
        },
        "stateBc.id" : {
          "displayName" : "stateBc.id",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "stateBc.id",
          "sensitive" : false
        },
        "Null Value Representation" : {
          "displayName" : "Null Value Representation",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Null Value Representation",
          "sensitive" : false
        },
        "Path Not Found Behavior" : {
          "displayName" : "Path Not Found Behavior",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Path Not Found Behavior",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "5cda56b1-d8b9-3e62-b3a0-413919cceced",
      "maxBackoffPeriod" : "10 mins",
      "name" : "KiemTraBcDaETLChua",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : -312.0,
        "y" : 1992.0
      },
      "properties" : {
        "Routing Strategy" : "Route to Property name",
        "HoanThanhETLRoi" : "${stateBc.sequenceNumber:gt(${state.sequenceNumber})}"
      },
      "propertyDescriptors" : {
        "Routing Strategy" : {
          "displayName" : "Routing Strategy",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Routing Strategy",
          "sensitive" : false
        },
        "HoanThanhETLRoi" : {
          "displayName" : "HoanThanhETLRoi",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "HoanThanhETLRoi",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 25,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
      "yieldDuration" : "1 sec"
    }, {
      "autoTerminatedRelationships" : [ "unmatched" ],
      "backoffMechanism" : "PENALIZE_FLOWFILE",
      "bulletinLevel" : "WARN",
      "bundle" : {
        "artifact" : "nifi-standard-nar",
        "group" : "org.apache.nifi",
        "version" : "2.4.0"
      },
      "comments" : "",
      "componentType" : "PROCESSOR",
      "concurrentlySchedulableTaskCount" : 1,
      "executionNode" : "ALL",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "cfeb62e5-7cbb-3ccb-b58b-89a34b6a2a61",
      "maxBackoffPeriod" : "10 mins",
      "name" : "KiemTraDanhSachBcTrong",
      "penaltyDuration" : "30 sec",
      "position" : {
        "x" : 168.0,
        "y" : 1320.0
      },
      "properties" : {
        "Content Buffer Size" : "100 MB",
        "Match Requirement" : "content must match exactly",
        "isEmptyJsonArray " : "^\\[\\s*\\]$",
        "Character Set" : "UTF-8"
      },
      "propertyDescriptors" : {
        "Content Buffer Size" : {
          "displayName" : "Content Buffer Size",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Content Buffer Size",
          "sensitive" : false
        },
        "Match Requirement" : {
          "displayName" : "Match Requirement",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Match Requirement",
          "sensitive" : false
        },
        "isEmptyJsonArray " : {
          "displayName" : "isEmptyJsonArray ",
          "dynamic" : true,
          "identifiesControllerService" : false,
          "name" : "isEmptyJsonArray ",
          "sensitive" : false
        },
        "Character Set" : {
          "displayName" : "Character Set",
          "dynamic" : false,
          "identifiesControllerService" : false,
          "name" : "Character Set",
          "sensitive" : false
        }
      },
      "retriedRelationships" : [ ],
      "retryCount" : 10,
      "runDurationMillis" : 0,
      "scheduledState" : "ENABLED",
      "schedulingPeriod" : "0 sec",
      "schedulingStrategy" : "TIMER_DRIVEN",
      "style" : { },
      "type" : "org.apache.nifi.processors.standard.RouteOnContent",
      "yieldDuration" : "1 sec"
    } ],
    "remoteProcessGroups" : [ ],
    "scheduledState" : "ENABLED",
    "statelessFlowTimeout" : "1 min"
  },
  "flowEncodingVersion" : "1.0",
  "latest" : false,
  "parameterContexts" : {
    "ETL" : {
      "componentType" : "PARAMETER_CONTEXT",
      "inheritedParameterContexts" : [ ],
      "name" : "ETL",
      "parameters" : [ {
        "description" : "",
        "name" : "TempPath",
        "provided" : false,
        "sensitive" : false,
        "value" : ".\\template\\etl"
      }, {
        "description" : "",
        "name" : "PageSizeMax",
        "provided" : false,
        "sensitive" : false,
        "value" : "500"
      }, {
        "description" : "",
        "name" : "DbAccount",
        "provided" : false,
        "sensitive" : false,
        "value" : "sa"
      }, {
        "description" : "",
        "name" : "Path.Separator",
        "provided" : false,
        "sensitive" : false,
        "value" : "\\"
      }, {
        "description" : "",
        "name" : "DbDriverClassName",
        "provided" : false,
        "sensitive" : false,
        "value" : "com.microsoft.sqlserver.jdbc.SQLServerDriver"
      }, {
        "description" : "",
        "name" : "Enabled",
        "provided" : false,
        "sensitive" : false,
        "value" : "true"
      }, {
        "description" : "",
        "name" : "DbConnectString",
        "provided" : false,
        "sensitive" : false,
        "value" : "jdbc:sqlserver://127.0.0.1:1433;databaseName=TikTokDWH;TrustServerCertificate=true"
      }, {
        "description" : "",
        "name" : "DbDriverLocation",
        "provided" : false,
        "sensitive" : false,
        "value" : ".\\lib\\mssql-jdbc-12.10.1.jre11.jar"
      }, {
        "description" : "",
        "name" : "Directory",
        "provided" : false,
        "sensitive" : false,
        "value" : "${stateCurrent.Directory}"
      } ]
    },
    "TikTokETL" : {
      "componentType" : "PARAMETER_CONTEXT",
      "inheritedParameterContexts" : [ ],
      "name" : "TikTokETL",
      "parameters" : [ {
        "description" : "",
        "name" : "accept",
        "provided" : false,
        "sensitive" : false,
        "value" : "application/json;odata.metadata=minimal;odata.streaming=true"
      }, {
        "description" : "",
        "name" : "api.url",
        "provided" : false,
        "sensitive" : false,
        "value" : "https://app2.southeastasia.cloudapp.azure.com:44383/api/tiktok-video/get-list"
      }, {
        "description" : "",
        "name" : "Cookie",
        "provided" : false,
        "sensitive" : false,
        "value" : ".AspNetCore.Antiforgery=GIATRICOOKIE"
      }, {
        "description" : "",
        "name" : "X-Requested-With",
        "provided" : false,
        "sensitive" : false,
        "value" : "XMLHttpRequest"
      }, {
        "description" : "",
        "name" : "Log Level",
        "provided" : false,
        "sensitive" : false,
        "value" : "info"
      }, {
        "description" : "",
        "name" : "DbFacDimAccount",
        "provided" : false,
        "sensitive" : false,
        "value" : "sa"
      }, {
        "description" : "",
        "name" : "TempPath",
        "provided" : false,
        "sensitive" : false,
        "value" : ".\\tmp\\etl"
      }, {
        "description" : "",
        "name" : "DbDriverClassName",
        "provided" : false,
        "sensitive" : false,
        "value" : "com.microsoft.sqlserver.jdbc.SQLServerDriver"
      }, {
        "description" : "",
        "name" : "DbFactDimPassword",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "",
        "name" : "HTTP Method",
        "provided" : false,
        "sensitive" : false,
        "value" : "POST"
      }, {
        "description" : "",
        "name" : "RequestVerificationToken",
        "provided" : false,
        "sensitive" : false,
        "value" : "CfDJ8KO0KjQZsxpOjzNZE7tYUzE6ND9vFRJaIzBoCSzgW535yiP6nE1BEbAmFlcjfNk2EH67bVcPBEWibuish2OMk-DsuFQB20jgBg12j6Q8zutg6CaS3qPDsoSZAP5w6JSAJVpivWol5TfeCBTBDn0gnao"
      }, {
        "description" : "",
        "name" : "api.content-type",
        "provided" : false,
        "sensitive" : false,
        "value" : "application/json;odata.metadata=minimal;odata.streaming=true"
      }, {
        "description" : "",
        "name" : "api.accept",
        "provided" : false,
        "sensitive" : false,
        "value" : "application/json;odata.metadata=minimal;odata.streaming=true"
      }, {
        "description" : "",
        "name" : "DbPassword",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "",
        "name" : "DbAccount",
        "provided" : false,
        "sensitive" : false,
        "value" : "sa"
      }, {
        "description" : "",
        "name" : "DbFactDimConnectionString",
        "provided" : false,
        "sensitive" : false,
        "value" : "jdbc:sqlserver://127.0.0.1:1433;databaseName=TikTok;TrustServerCertificate=true"
      }, {
        "description" : "",
        "name" : "DbFactDimDriverClassName",
        "provided" : false,
        "sensitive" : false,
        "value" : "com.microsoft.sqlserver.jdbc.SQLServerDriver"
      }, {
        "description" : "",
        "name" : "api.XRequestedWith",
        "provided" : false,
        "sensitive" : false,
        "value" : "XMLHttpRequest"
      }, {
        "description" : "",
        "name" : "PageSizeMax",
        "provided" : false,
        "sensitive" : false,
        "value" : "500"
      }, {
        "description" : "",
        "name" : "api.token",
        "provided" : false,
        "sensitive" : false,
        "value" : "CfDJ8KO0KjQZsxpOjzNZE7tYUzE6ND9vFRJaIzBoCSzgW535yiP6nE1BEbAmFlcjfNk2EH67bVcPBEWibuish2OMk-DsuFQB20jgBg12j6Q8zutg6CaS3qPDsoSZAP5w6JSAJVpivWol5TfeCBTBDn0gnao"
      }, {
        "description" : "",
        "name" : "Path.Separator",
        "provided" : false,
        "sensitive" : false,
        "value" : "\\"
      }, {
        "description" : "",
        "name" : "DbConnectionString",
        "provided" : false,
        "sensitive" : false,
        "value" : "jdbc:sqlserver://127.0.0.1:1433;databaseName=TikTok;TrustServerCertificate=true"
      }, {
        "description" : "",
        "name" : "DbFactDimDriverLocation",
        "provided" : false,
        "sensitive" : false,
        "value" : ".\\lib\\mssql-jdbc-12.10.1.jre11.jar"
      }, {
        "description" : "",
        "name" : "DbDriverLocation",
        "provided" : false,
        "sensitive" : false,
        "value" : ".\\lib\\mssql-jdbc-12.10.1.jre11.jar"
      }, {
        "description" : "",
        "name" : "Directory",
        "provided" : false,
        "sensitive" : false,
        "value" : "${stateCurrent.Directory}"
      } ]
    }
  },
  "parameterProviders" : { },
  "snapshotMetadata" : {
    "author" : "4df8cad9-d248-48ab-a56c-7d80a4da5f7f",
    "flowIdentifier" : "FACTDAILYSPEND",
    "timestamp" : 0
  }
}